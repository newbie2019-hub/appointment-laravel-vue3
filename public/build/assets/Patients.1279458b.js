import{c as se,u as oe,r as _,a as le,l as ae,d as ne,o as c,b as x,e as a,f as l,H as re,g as o,F as L,h as ie,B as de,i as e,j as d,k as E,n as ce,p as O,m,s as h,y as r,q as v,L as ue}from"./app.a9bf51d5.js";import{_ as me}from"./Authenticated.4410648f.js";import{_ as p}from"./Button.7fbf1d30.js";import{_ as w}from"./FloatingInput.cb12f430.js";import{_ as G}from"./FloatingSelect.2184c225.js";import{_ as g}from"./FormInput.c87e0c32.js";import{P as pe}from"./Pagination.0a2a24dc.js";import{_ as V}from"./Modal.3db3b606.js";import{f as q,s as _e}from"./Utilities.5f54765f.js";/* empty css                                              */const he={class:"max-w-8xl mx-auto px-6 lg:px-8"},fe=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Patients Summary"),e("p",null,"Here is an overview of your patients.")],-1),xe={class:"py-8 max-w-8xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-y-4 gap-x-4"},ve={class:"bg-red-500 flex-1 p-4 text-white rounded-md md:max-w-md"},ge={class:"flex justify-between"},we={class:"text-9xl flex items-center"},ye=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5"},[r(" Trashed "),e("br"),r("Patients ")])],-1),be=e("span",{class:"sr-only"},"Trashed Patients",-1),ke={class:"bg-green-600 flex-1 p-4 text-white rounded-md md:max-w-md"},Ce={class:"flex justify-between"},Ve={class:"text-9xl flex items-center"},Se=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[r(" Total "),e("br"),r("Patients ")])],-1),Ae=e("span",{class:"sr-only"},"Total Patients",-1),ze={class:"max-w-8xl mx-auto px-6 lg:px-8"},Pe={class:"py-8"},$e={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},Me={class:"overflow-x-auto sm:rounded-lg"},je={class:""},Ue={class:"max-w-8xl mx-auto bg-white rounded-lg pb-6"},Ne=e("p",{class:"text-xl font-medium"}," Patients Record ",-1),Be=e("p",{class:"text-sm text-gray-700"}," Shown below are the records of your patients. ",-1),Fe={class:"flex justify-between mt-7 mb-7"},De=e("option",{value:"with"}," All Patients ",-1),Re=e("option",{value:""}," Active Patients ",-1),Te=e("option",{value:"only"}," Trashed Patients ",-1),Ie={class:"overflow-x-auto"},He={class:"min-w-full divide-y divide-gray-300"},Le=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left whitespace-nowrap sm:pl-6"}," Valid ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Full Name "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Address "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Contact Number "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Gender "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Email "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," Approved "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Created On "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Deleted At "),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6 text-left"}," Actions ")])],-1),Ee={class:"divide-y divide-gray-300 bg-white"},Oe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ge=["onClick","src"],qe={key:1,class:"text-gray-400 text-xs"},Ke={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 flex items-center gap-x-2"},Je={class:"rounded-full bg-blue-400 w-8 h-8 border-gray-100 flex items-center justify-center"},Qe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},We=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),Xe=[We],Ye=["src"],Ze={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},et={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},tt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 capitalize"},st={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},ot={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},lt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},at={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},nt={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},rt=r("Approve"),it=r("View"),dt=r("Update"),ct=r("Trash"),ut=r("Restore"),mt={key:0},pt=e("td",{colspan:"9"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"}," No data available .. ")],-1),_t=[pt],ht={class:"text-sm mt-2 text-gray-500"},ft=e("p",{class:"font-bold text-xl"},"Confirm Approve",-1),xt=e("p",{class:"text-sm mt-2"}," Are you sure you want to approve this account? ",-1),vt=r("Cancel"),gt=r("Approve"),wt=e("p",{class:"font-bold text-xl"},"Patient Information",-1),yt=e("p",{class:"text-sm"},"Here are the informations of the patient",-1),bt={class:"rounded-full bg-blue-400 w-16 h-16 border-gray-100 flex items-center justify-center mx-auto mt-4"},kt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Ct=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),Vt=[Ct],St=["src"],At={class:"text-center"},zt={class:"mt-2 font-medium"},Pt={class:"text-sm"},$t={class:"flex mt-4 gap-x-2"},Mt={class:"w-1/2"},jt={class:"text-sm font-medium"},Ut={class:"text-sm font-medium"},Nt={class:"w-1/2"},Bt={class:"text-sm font-medium"},Ft={class:"text-sm font-medium"},Dt=r("Close"),Rt=r("View Transactions"),Tt=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),It=e("p",{class:"text-sm text-gray-600"},[r(" Are you sure you want to trash this service? "),e("span",{class:"text-sm text-red-500"},[e("br"),r("Note: This data can still be restored.")])],-1),Ht=r("Close"),Lt=r("Confirm"),Et=e("p",{class:"font-bold text-xl"},"Update User",-1),Ot=e("p",{class:"text-sm"},"All input fields are required.",-1),Gt={class:"w-full"},qt={class:"flex gap-x-2"},Kt={class:"w-1/2"},Jt={class:"w-1/2"},Qt={class:"w-full"},Wt={class:"flex w-full gap-x-2"},Xt={class:"w-1/2"},Yt=e("option",{value:"Male",class:"font-medium"}," Male ",-1),Zt=e("option",{value:"Female",class:"font-medium"}," Female ",-1),es={class:"w-1/2"},ts=r("Close"),ss=r("Save Changes"),os=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),ls=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to restore this account? All of its transaction data will be restored as well. ",-1),as=r("Close"),ns=r("Restore"),xs={__name:"Patients",props:{patients:Object,errors:Object,filters:Object,trashedPatientsCount:Number},setup(u){const B=u,F=se(()=>ie().props.value.flash.message),f=oe();let y=_(B.filters.search),b=_(B.filters.trashed);const k=_(!1),D=_([]),K=_(0),P=_(!1),$=_(!1),M=_(!1),j=_(!1),U=_(!1);let s=le({id:null,first_name:null,middle_name:null,last_name:null,gender:null,address:null,birthday:null});const J=()=>{U.value=!0},Q=()=>U.value=!1,S=()=>{P.value=!P.value},A=()=>{$.value=!$.value},N=()=>{M.value=!M.value},z=(n=null)=>{s.id=n==null?void 0:n.id,s.first_name=n==null?void 0:n.first_name,s.middle_name=n==null?void 0:n.middle_name,s.last_name=n==null?void 0:n.last_name,s.gender=n==null?void 0:n.gender,s.address=n==null?void 0:n.address,s.birthday=n==null?void 0:n.birthday,j.value=!j.value},W=()=>{s.put(`/approve/${s.value.id}`,{preserveState:!0,onFinish:()=>{k.value=!1},onSuccess:()=>{f.success("Account has been approved successfully!")},onError:()=>{f.error("Something went wrong!")}})},X=()=>{s.delete(`/patients/${s.value.id}`,{preserveState:!0,onFinish:()=>{A()},onSuccess:()=>{f.success(F.value)},onError:()=>{f.error("Something went wrong!")}})},Y=()=>{s.transform(n=>({...n})).put(`patients/${s.id}`,{preserveState:!0,onSuccess:()=>{f.success(`${F.value}`),z()},onError:()=>{f.error("Something went wrong!")}})},Z=()=>{s.put(`/patients/restore/${s.value.id}`,{preserveState:!0,onFinish:()=>{S()},onSuccess:()=>{f.success("Account has been restored successfully!")},onError:()=>{f.error("Something went wrong!")}})},R=ae.exports.debounce(()=>{ne.Inertia.get("/patients",{search:y.value,trashed:b.value},{replace:!0,preserveState:!0})},300);return(n,i)=>{const ee=de("vue-easy-lightbox");return c(),x(L,null,[a(l(re),{title:"Dashboard"}),a(me,null,{default:o(()=>{var T,I,H;return[e("div",he,[fe,e("div",xe,[e("div",ve,[e("div",ge,[e("div",we,d(l(q)(u.trashedPatientsCount)),1),ye]),be]),e("div",ke,[e("div",Ce,[e("div",Ve,d(l(q)(u.patients.data.length)),1),Se]),Ae])])]),e("div",ze,[e("div",Pe,[e("div",$e,[e("div",Me,[e("div",je,[e("div",Ue,[Ne,Be,e("div",Fe,[a(g,{label:"Filter Patients",class:"w-52"},{default:o(()=>[a(G,{onChange:l(R),modelValue:l(b),"onUpdate:modelValue":i[0]||(i[0]=t=>E(b)?b.value=t:b=t)},{default:o(()=>[De,Re,Te]),_:1},8,["onChange","modelValue"])]),_:1}),a(g,{label:"Search Patient",for:"search",class:"w-52 md:w-72"},{default:o(()=>[a(w,{modelValue:l(y),"onUpdate:modelValue":i[1]||(i[1]=t=>E(y)?y.value=t:y=t),onKeyup:l(R),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",Ie,[e("table",He,[Le,e("tbody",Ee,[(c(!0),x(L,null,ce(u.patients.data,(t,te)=>(c(),x("tr",{key:te,class:O([{"bg-red-100":t.deleted_at},"hover:bg-gray-100"])},[e("td",Oe,[t!=null&&t.valid_id?(c(),x("img",{key:0,onClick:m(C=>{J(),D.value=`/images/${t.valid_id}`},["prevent"]),src:`images/${t.valid_id}`,class:"rounded-md cursor-pointer",alt:"Valid ID"},null,8,Ge)):(c(),x("p",qe,"No Valid ID"))]),e("td",Ke,[e("div",Je,[t.image?h("",!0):(c(),x("svg",Qe,Xe)),e("img",{src:`images/profile/${t.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,Ye)]),r(" "+d(t.full_name),1)]),e("td",Ze,d(l(_e)(t.address)),1),e("td",et,d(t.contact_number),1),e("td",tt,d(t.gender),1),e("td",st,d(t.email),1),e("td",ot,[e("div",{class:O(["px-4 py-2 text-xs text-white rounded-full flex justify-center items-center",parseInt(t.is_approved)?"bg-green-600":"bg-red-600"])},d(parseInt(t.is_approved)?"Approved":"Pending"),3)]),e("td",lt,d(t.created_at),1),e("td",at,d(t.deleted_at),1),e("td",nt,[parseInt(t.is_approved)?h("",!0):(c(),v(p,{key:0,onClick:m(C=>{k.value=!0,l(s).value={...t}},["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[rt]),_:2},1032,["onClick"])),a(p,{onClick:m(C=>{N(),l(s).value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[it]),_:2},1032,["onClick"]),a(p,{onClick:m(C=>z(t),["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[dt]),_:2},1032,["onClick"]),t.deleted_at?(c(),v(p,{key:2,onClick:m(C=>{l(s).value={...t},S()},["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[ut]),_:2},1032,["onClick"])):(c(),v(p,{key:1,onClick:m(C=>{A(),l(s).value={...t}},["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[ct]),_:2},1032,["onClick"]))])],2))),128)),u.patients.data.length==0?(c(),x("tr",mt,_t)):h("",!0)])])]),e("p",ht," Showing "+d((T=u.patients.from)!=null?T:0)+" to "+d((I=u.patients.to)!=null?I:0)+" out of "+d((H=u.patients.total)!=null?H:0)+" patients. ",1),a(pe,{links:u.patients.links,right:""},null,8,["links"])])])])])])]),k.value?(c(),v(V,{key:0,onClose:i[3]||(i[3]=t=>k.value=!1)},{title:o(()=>[ft,xt]),footer:o(()=>[a(p,{onClick:i[2]||(i[2]=m(t=>k.value=!1,["prevent"])),text:"",size:"sm",color:""},{default:o(()=>[vt]),_:1}),a(p,{onClick:m(W,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[gt]),_:1},8,["onClick"])]),_:1})):h("",!0),M.value?(c(),v(V,{key:1,onClose:N},{title:o(()=>[wt,yt]),body:o(()=>[e("div",bt,[l(s).value.image?h("",!0):(c(),x("svg",kt,Vt)),e("img",{src:`images/profile/${l(s).value.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,St)]),e("div",At,[e("p",zt,d(l(s).value.full_name),1),e("p",Pt,d(l(s).value.email),1)]),e("div",$t,[e("div",Mt,[e("p",jt," Address: "+d(l(s).value.address),1),e("p",Ut," Birthday: "+d(l(s).value.birthday),1)]),e("div",Nt,[e("p",Bt," Gender: "+d(l(s).value.gender),1),e("p",Ft," Contact: "+d(l(s).value.contact_number),1)])])]),footer:o(()=>[a(p,{onClick:m(N,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Dt]),_:1},8,["onClick"]),a(l(ue),{href:n.route("patients.show",l(s).value.id),class:"text-xs text-blue-600 px-4 py-2 hover:text-blue-700 flex justify-center items-center hover:bg-blue-100 uppercase font-medium rounded-sm"},{default:o(()=>[Rt]),_:1},8,["href"])]),_:1})):h("",!0),$.value?(c(),v(V,{key:2,onClose:A},{title:o(()=>[Tt]),body:o(()=>[It]),footer:o(()=>[a(p,{onClick:m(A,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Ht]),_:1},8,["onClick"]),a(p,{onClick:m(X,["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[Lt]),_:1},8,["onClick"])]),_:1})):h("",!0),j.value?(c(),v(V,{key:3,onClose:z},{title:o(()=>[Et,Ot]),body:o(()=>[e("div",Gt,[a(g,{for:"firstname",error:u.errors.first_name,label:"First Name",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"firstname",modelValue:l(s).first_name,"onUpdate:modelValue":i[4]||(i[4]=t=>l(s).first_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",qt,[e("div",Kt,[a(g,{for:"middlename",error:u.errors.middle_name,label:"Middle Name ",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"middlename",modelValue:l(s).middle_name,"onUpdate:modelValue":i[5]||(i[5]=t=>l(s).middle_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Jt,[a(g,{for:"lastname",error:u.errors.last_name,label:"Last Name",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"lastname",modelValue:l(s).last_name,"onUpdate:modelValue":i[6]||(i[6]=t=>l(s).last_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])])]),e("div",Qt,[a(g,{for:"address",error:u.errors.address,label:"Address",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"address",modelValue:l(s).address,"onUpdate:modelValue":i[7]||(i[7]=t=>l(s).address=t),autofocus:"",autocomplete:"address"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Wt,[e("div",Xt,[a(g,{for:"gender",error:u.errors.gender,label:"Gender",class:"mt-3"},{default:o(()=>[a(G,{modelValue:l(s).gender,"onUpdate:modelValue":i[8]||(i[8]=t=>l(s).gender=t)},{default:o(()=>[Yt,Zt]),_:1},8,["modelValue"])]),_:1},8,["error"])]),e("div",es,[a(g,{for:"gender",error:u.errors.gender,label:"Date of Birth",class:"mt-3"},{default:o(()=>[a(w,{type:"date",modelValue:l(s).birthday,"onUpdate:modelValue":i[9]||(i[9]=t=>l(s).birthday=t)},null,8,["modelValue"])]),_:1},8,["error"])])])]),footer:o(()=>[a(p,{onClick:m(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[ts]),_:1},8,["onClick"]),a(p,{onClick:m(Y,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[ss]),_:1},8,["onClick"])]),_:1})):h("",!0),P.value?(c(),v(V,{key:4,onClose:S},{title:o(()=>[os]),body:o(()=>[ls]),footer:o(()=>[a(p,{onClick:m(S,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[as]),_:1},8,["onClick"]),a(p,{onClick:m(Z,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[ns]),_:1},8,["onClick"])]),_:1})):h("",!0),a(ee,{visible:U.value,imgs:D.value,index:K.value,onHide:Q},null,8,["visible","imgs","index"])]}),_:1})],64)}}};export{xs as default};
