import{u as F,r as h,a as C,o as f,q as y,g as d,e as a,f as r,H as U,i as t,m as b,b as p,s as _,j as v,L as A,y as V}from"./app.f130f165.js";import{_ as D}from"./Guest.51a6acae.js";import{a as c,_ as m}from"./Modal.vue_vue_type_style_index_0_lang.7ee58c17.js";import{_ as P}from"./FloatingSelect.147b5189.js";import{_ as R}from"./MedicalForm.105f99eb.js";import"./FloatingTextArea.93193a74.js";import"./Button.c441fe0c.js";import"./Modal.8668703f.js";import"./Radio.c6785043.js";const $={class:"flex w-full"},j={class:"flex flex-col flex-1 h-screen items-center justify-center bg-white w-full text-left md:max-w-xl"},M={class:"w-full md:max-w-sm shadow-lg bg-white max-w-sm px-10 py-8 rounded-lg md:p-0 md:shadow-none"},B=t("p",{class:"text-2xl font-medium mt-2"},"Welcome, User",-1),E=t("p",{class:"text-sm mb-4"}," We need some of your information to proceed. ",-1),L={class:"w-full relative flex gap-x-4 flex-wrap"},I=["onSubmit"],W={key:0},G={class:"flex flex-wrap"},H=t("p",{class:"font-medium"}," Personal Information ",-1),O={class:"w-full"},T={class:"flex gap-x-2"},z={class:"w-1/2"},J={class:"w-1/2"},K={class:"w-full"},Q={class:"w-full"},X={class:"flex w-full gap-x-2"},Y={class:"w-1/2"},Z=t("option",{value:"Male",class:"font-medium"}," Male ",-1),ee=t("option",{value:"Female",class:"font-medium"}," Female ",-1),te={class:"w-1/2"},re={key:1},se={class:"flex flex-wrap"},oe=t("p",{class:"font-medium"}," Account Information ",-1),ae={class:"w-full"},le={class:"w-full"},ie={class:"w-full"},de={class:"w-full"},ne=t("p",{class:"text-sm mt-3"},"Valid ID",-1),ue={class:"text-red-500 text-sm"},me={key:2},ce=t("p",{class:"font-medium"},"Confirm Registration",-1),fe=t("p",null," Please confirm that all your inputs are correct. We do not share any of your informations to the public. ",-1),_e=[ce,fe],pe={id:"pagination",class:"w-full gap-x-4 mt-2"},we={class:"text-sm mt-4 mb-2"},be=V(" Already have an account? "),ve=V("Sign-in "),xe={class:"mt-3"},ge={class:"flex w-full justify-end"},he=["disabled"],ye=["disabled","onClick"],Ve=t("div",{class:"hidden md:block flex-1 w-96"},[t("img",{src:"images/alwayssmile.jpg",class:"h-screen object-fit w-full blur-[1px]",alt:""})],-1),Pe={__name:"Register",props:{errors:Object},setup(n){const l=F(),w=h(!1),e=C({first_name:"",middle_name:"",last_name:"",gender:"",email:"",image_preview:"",valid_id:"",address:"",contact_number:"63",password:"",birthday:"",password_confirmation:"",terms:!1,medFormData:{dental_questions:Array(19).fill("No"),medical_questions:Array(36).fill("No")}}),x=()=>{w.value=!w.value},S=()=>{e.medFormData.dental_questions=Array(19).fill("No")},N=()=>{if(i.value.currentStep==1){const u=/^(63)/;if(e.first_name.trim()=="")return l.error("First Name is required!");if(e.last_name.trim()=="")return l.error("Last Name is required!");if(e.contact_number.trim()=="")return l.error("Contact Number is required!");if(e.contact_number.length<12||e.contact_number.length>12)return l.error("Contact Number min-max length is 12 and a prefix of 63");if(!u.test(e.contact_number))return l.error("Contact Number must have a prefix of 63");if(e.address.trim()=="")return l.error("Address is required!");if(e.gender=="")return l.error("Gender is required!");if(e.birthday=="")return l.error("Date of birth is required!")}if(i.value.currentStep==2){if(e.email=="")return l.error("Email Address is required");if(e.password=="")return l.error("Password is required");if(e.password_confirmation=="")return l.error("Password confirmation is required");if(e.password!==e.password_confirmation)return l.error("Password doesn't match");if(e.valid_id=="")return l.error("Valid ID is required")}i.value.currentStep=i.value.currentStep+1},k=async()=>{let u=!1,s=!1;if(e.medFormData.medical_questions.map(o=>{(o==""||o==null)&&(u||(u=!0))}),e.medFormData.dental_questions.map(o=>{(o==""||o==null)&&(s||(s=!0))}),u||s)return l.error("All fiends are required for your records");x(),g()},q=u=>{if(e.valid_id=u.target.files[0],e.image_preview=u.target.files[0],!e.valid_id||!e.valid_id.type.match("image.*"))return!1;const s=new FileReader;s.onload=function(o){e.image_preview=o.target.result},s.readAsDataURL(e.image_preview)},g=()=>{e.post(route("register"),{onFinish:()=>{e.reset("password","password_confirmation")},onSuccess:()=>{l.success(`Account created! 
Please check your email as your account 
status is still on pending`)},onError:()=>l.error("Some fields are incorrect or missing!")})};let i=h({currentStep:1,totalSteps:3});return(u,s)=>(f(),y(D,null,{default:d(()=>[a(r(U),{title:"Register"}),t("div",$,[t("div",j,[t("div",M,[B,E,t("div",L,[t("form",{onSubmit:b(g,["prevent"]),class:"pb-3"},[r(i).currentStep==1?(f(),p("div",W,[t("div",G,[H,t("div",O,[a(m,{for:"firstname",error:n.errors.first_name,label:"First Name",class:"mt-3"},{default:d(()=>[a(c,{type:"text",id:"firstname",modelValue:r(e).first_name,"onUpdate:modelValue":s[0]||(s[0]=o=>r(e).first_name=o),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",T,[t("div",z,[a(m,{for:"middlename",error:n.errors.middle_name,label:"Middle Name (Optional)",class:"mt-3"},{default:d(()=>[a(c,{type:"text",id:"middlename",modelValue:r(e).middle_name,"onUpdate:modelValue":s[1]||(s[1]=o=>r(e).middle_name=o),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",J,[a(m,{for:"lastname",error:n.errors.last_name,label:"Last Name",class:"mt-3"},{default:d(()=>[a(c,{type:"text",id:"lastname",modelValue:r(e).last_name,"onUpdate:modelValue":s[2]||(s[2]=o=>r(e).last_name=o),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])])]),t("div",K,[a(m,{for:"contact_number",error:n.errors.contact_number,label:"Contact Number",class:"mt-3"},{default:d(()=>[a(c,{type:"text",id:"contact_number",modelValue:r(e).contact_number,"onUpdate:modelValue":s[3]||(s[3]=o=>r(e).contact_number=o),autofocus:""},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",Q,[a(m,{for:"address",error:n.errors.address,label:"Address",class:"mt-3"},{default:d(()=>[a(c,{type:"text",id:"address",modelValue:r(e).address,"onUpdate:modelValue":s[4]||(s[4]=o=>r(e).address=o),autofocus:"",autocomplete:"address"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",X,[t("div",Y,[a(m,{for:"gender",error:n.errors.gender,label:"Gender",class:"mt-3"},{default:d(()=>[a(P,{modelValue:r(e).gender,"onUpdate:modelValue":s[5]||(s[5]=o=>r(e).gender=o)},{default:d(()=>[Z,ee]),_:1},8,["modelValue"])]),_:1},8,["error"])]),t("div",te,[a(m,{for:"gender",error:n.errors.gender,label:"Date of Birth",class:"mt-3"},{default:d(()=>[a(c,{type:"date",modelValue:r(e).birthday,"onUpdate:modelValue":s[6]||(s[6]=o=>r(e).birthday=o)},null,8,["modelValue"])]),_:1},8,["error"])])])])])):_("",!0),r(i).currentStep==2?(f(),p("div",re,[t("div",se,[oe,t("div",ae,[a(m,{for:"email",error:n.errors.email,label:"Email Address",class:"mt-3"},{default:d(()=>[a(c,{type:"email",id:"email",modelValue:r(e).email,"onUpdate:modelValue":s[7]||(s[7]=o=>r(e).email=o),autofocus:"",autocomplete:"email"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",le,[a(m,{for:"password",error:n.errors.password,label:"Password",class:"mt-3"},{default:d(()=>[a(c,{type:"password",id:"password",modelValue:r(e).password,"onUpdate:modelValue":s[8]||(s[8]=o=>r(e).password=o),autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",ie,[a(m,{for:"password_confirmation",error:n.errors.password_confirmation,label:"Confirm Password",class:"mt-3"},{default:d(()=>[a(c,{type:"password",id:"password_confirmation",modelValue:r(e).password_confirmation,"onUpdate:modelValue":s[9]||(s[9]=o=>r(e).password_confirmation=o),autocomplete:"new-password"},null,8,["modelValue"])]),_:1},8,["error"])]),t("div",de,[ne,t("input",{type:"file",id:"valid_id",onChange:q},null,32),t("p",ue,v(n.errors.valid_id),1)])])])):_("",!0),r(i).currentStep==3?(f(),p("div",me,_e)):_("",!0),t("div",pe,[t("p",we,[be,a(r(A),{href:u.route("login"),class:"text-gray-600 hover:text-blue-500 relative"},{default:d(()=>[ve]),_:1},8,["href"])]),t("p",xe," Step "+v(r(i).currentStep)+" of "+v(r(i).totalSteps),1)]),t("div",ge,[t("button",{type:"submit",disabled:r(i).currentStep==1,onClick:s[10]||(s[10]=b(o=>r(i).currentStep=r(i).currentStep-1,["prevent"])),class:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 px-4 py-2 duration-200 ease-in-out rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-neutral-900"}," Previous ",8,he),r(i).currentStep!=3?(f(),p("button",{key:0,type:"submit",disabled:r(i).currentStep==3,onClick:b(N,["prevent"]),class:"text-violet-600 hover:text-violet-700 hover:bg-blue-100 px-4 py-2 duration-200 ease-in-out rounded-lg text-sm disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-neutral-900"}," Next ",8,ye)):_("",!0),r(i).currentStep==3?(f(),p("button",{key:1,onClick:s[11]||(s[11]=b(o=>w.value=!0,["prevent"])),class:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 px-4 py-2 duration-200 ease-in-out rounded-lg text-sm"}," Register ")):_("",!0)])],40,I)])])]),w.value?(f(),y(R,{key:0,data:r(e).medFormData,onEmitClose:x,onRegisterAccount:k,onSetDentalSelected:S},null,8,["data"])):_("",!0),Ve])]),_:1}))}};export{Pe as default};
