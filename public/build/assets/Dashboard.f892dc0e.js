import{o as B,G as L,i as r,e as m,f as o,r as w,b as U,c as R,a as J,l as Q,d as $,g as n,H as X,h as i,F as S,u as Z,j as e,v as u,k as s,L as ee,m as M,p as z,q as te,z as p,s as C,n as g}from"./app.c91643f5.js";import{_ as se}from"./Authenticated.e6231275.js";import{f as j,c as V,s as oe,a as T}from"./Utilities.5f54765f.js";import{_ as ae}from"./FloatingSelect.84ca6a3c.js";import{_ as I}from"./FormInput.e0d266c9.js";import{_ as N}from"./Modal.ab9f9cc5.js";import{_ as le}from"./FloatingInput.e9ba1f8e.js";import{_ as h}from"./Button.941dc518.js";import{_ as ne,a as D}from"./Calendar.62b2d7d3.js";import"./vue-multiselect.esm.d103f9c9.js";/* empty css                                              */const ie={id:"chart"},re={__name:"PolarCharts",props:{series:{type:[Object,Array],default:[]},labels:{type:[Object,Array],default:[]},chartOptions:{type:Object,default:{chart:{width:"100%",type:"polarArea"},labels:[],fill:{opacity:1},stroke:{width:1,colors:void 0},yaxis:{show:!1},legend:{position:"right"},plotOptions:{polarArea:{rings:{strokeWidth:0},spokes:{strokeWidth:0}}},theme:{monochrome:{enabled:!0,shadeTo:"light",shadeIntensity:.6}}}}},setup(c){const d=c;return B(()=>{d.chartOptions.labels=d.labels}),(_,f)=>{const a=L("apexchart");return r(),m("div",ie,[o(a,{type:"polarArea",class:"w-full",options:c.chartOptions,series:c.series},null,8,["options","series"])])}}},ce={id:"chart"},pe={__name:"AreaChart",props:{series:{type:[Object,Array],default:[{name:"Weekly Income",data:[]}]},labels:{type:[Object,Array],default:[]},chartOptions:{type:Object,default:{chart:{type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"date",categories:[],convertedCatToNumeric:!1},fill:{colors:["#22a34a"]},markers:{colors:["#22a34a"]},tooltip:{x:{format:"YYYY-MM-DD"}}}}},setup(c){const d=c;return B(()=>{d.chartOptions.xaxis.categories=d.labels}),(_,f)=>{const a=L("apexchart");return r(),m("div",ce,[o(a,{type:"area",class:"w-full",options:c.chartOptions,series:c.series},null,8,["options","series"])])}}},de={class:"px-6 max-w-8xl lg:px-8"},me={key:0,class:"overflow-hidden bg-white sm:rounded-lg"},ue=e("div",{class:"p-6"},[e("p",{class:"text-xl font-medium"},"Welcome to Dashboard"),e("p",{class:"text-sm text-gray-600"},"Shown below are the summary of your transactions and records.")],-1),he=[ue],_e={key:1,class:"flex flex-wrap max-w-8xl sm:px-6 lg:px-8 gap-y-4 gap-x-4"},fe={class:"flex-1 p-4 text-white bg-green-600 rounded-md md:max-w-md"},xe={class:"flex justify-between"},ve={class:"flex items-center text-9xl"},we=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[p("Total "),e("br"),p("Services")])],-1),ge=e("span",{class:"sr-only"},"Total Services",-1),ye={class:"flex-1 p-4 text-white bg-blue-600 rounded-md md:max-w-md"},be={class:"flex justify-between"},ke={class:"flex items-center text-9xl"},Ce=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[p("Total "),e("br"),p("Patients")])],-1),Ae=e("span",{class:"sr-only"},"Total Patients",-1),Se={class:"flex-1 p-4 text-white bg-orange-600 rounded-md"},je={class:"flex justify-between"},Oe={class:"flex items-center text-9xl"},$e=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[p("Today's "),e("br"),p("Appointments")])],-1),Me=e("span",{class:"sr-only"},"Today's Appointments",-1),ze={key:2,class:"px-6 max-w-8xl lg:px-8"},Ve={class:"md:flex gap-x-2"},Te={class:"flex-1 w-full md:w-1/2"},Ie=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"},"Services Summary"),e("p",{class:"text-sm"},"Monthly overview of services booked by patients.")],-1),Ne={class:"flex-1 w-full md:w-1/2"},De=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"},"Completed Appointments"),e("p",{class:"text-sm"},"Here is an overview of your completed appointments for this week.")],-1),Be={class:"px-6 max-w-8xl lg:px-8"},Le=e("div",{class:"mt-8 mb-6"},[e("p",{class:"text-xl font-medium"},"Appointment Calendar"),e("p",null,"Here is an overview of your appointments.")],-1),Pe={class:"flex-1 w-full"},He={class:"pb-6 mt-10 bg-white border-gray-200 rounded-lg max-w-8xl sm:px-6 lg:px-8"},Fe={class:"flex items-center justify-between"},Ee=e("div",null,[e("p",{class:"text-xl font-medium"},"Latest Appointments"),e("p",{class:"text-sm text-gray-700"},"Shown below are the latest appointments.")],-1),We=p(" View All "),Ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),qe={class:"flex justify-between mb-6 mt-7 gap-x-2"},Ge=e("option",{value:"with"},"All Appointments",-1),Ke=e("option",{value:""},"Active Appointments",-1),Ue=e("option",{value:"only"},"Trashed Appointments",-1),Re={class:"flex gap-x-2"},Je={class:"overflow-x-auto"},Qe={class:"min-w-full divide-y divide-gray-300"},Xe=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Status"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Patient"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Email"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Schedule"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Message"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Sub Total"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Payment"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Created On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Deleted On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"},"Actions")])],-1),Ze={class:"bg-white divide-y divide-gray-200"},et={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},tt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6 gap-x-2"},st={class:"flex items-center gap-x-2"},ot={class:"flex items-center justify-center w-8 h-8 bg-blue-500 border-gray-100 rounded-full"},at={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},lt=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),nt=[lt],it=["src"],rt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},ct={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},pt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},dt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},mt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},ut={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},ht={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},_t={class:"relative py-4 pl-3 pr-4 text-sm whitespace-nowrap sm:pr-6"},ft=p("Details"),xt=p("Trash"),vt={key:0},wt=e("td",{colspan:"9"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"},"No data available ..")],-1),gt=[wt],yt=e("p",{class:"mt-2 text-sm text-gray-500"},"Showing the latest entry of appointments from patients.",-1),bt=e("p",{class:"text-xl font-bold"},"Appointment Information",-1),kt=e("p",{class:"text-sm text-gray-600"},"Here are the informations for this appointment",-1),Ct=e("p",{class:"mt-3 mb-2"},"Patient Information",-1),At={class:"text-sm"},St={class:"text-sm"},jt={class:"text-sm"},Ot=e("p",{class:"mt-4 mb-2"},"Appointment Information",-1),$t={class:"text-sm"},Mt={class:"text-sm"},zt={class:"text-sm"},Vt=e("p",{class:"mt-4 mb-2"},"Services Selected",-1),Tt=p("Close"),It=p("Approve"),Nt=e("p",{class:"text-xl font-bold"},"Confirm Delete",-1),Dt=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored.",-1),Bt=p("Close"),Lt=p("Confirm"),Jt={__name:"Dashboard",props:{totalInquiries:Number,patientsCount:Number,servicesCount:Number,todaysAppointment:Number,appointments:Object,filters:Object,chartServices:Object,appointmentsIncome:[Object,Array]},setup(c){const d=c,_=w(!1),f=w(!1),a=w({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),P=U({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""}),H=d.chartServices.map(l=>l.service),F=d.chartServices.map(l=>l.monthly_appointments_count),E=d.appointmentsIncome.map(l=>l.date),W=[{name:"Income",data:d.appointmentsIncome.map(l=>String(l.subtotal))}],Y=()=>{P.put(`/appointments/approve/${a.value.id}`,{preserveState:!0,onError:()=>{A.error("Something went wrong")},onSuccess:()=>{A.success("Appointment has been approved successfully!"),b()}})},q=()=>{$.Inertia.delete(`/appointments/${a.value.id}`,{preserveState:!0,onSuccess:()=>{A.success("Appointment has been moved to trash successfully!"),y()}})},y=()=>{_.value=!_.value},b=()=>{f.value=!f.value};R(()=>{var l;return(l=Z().props.value.errors.error)!=null?l:"Something went wrong"});const A=J();let x=w(d.filters.search),v=w(d.filters.trashed);const O=Q.exports.debounce(()=>{$.Inertia.get("/dashboard",{search:x.value,trashed:v.value},{preserveState:!0,only:["appointments"]})},300);return(l,k)=>(r(),m(S,null,[o(n(X),{title:"Dashboard"}),o(se,null,{default:i(()=>[e("div",de,[l.$page.props.auth.user.is_admin?(r(),m("div",me,he)):u("",!0),l.$page.props.auth.user.is_admin?(r(),m("div",_e,[e("div",fe,[e("div",xe,[e("div",ve,s(n(j)(c.servicesCount)),1),we]),ge]),e("div",ye,[e("div",be,[e("div",ke,s(n(j)(c.patientsCount)),1),Ce]),Ae]),e("div",Se,[e("div",je,[e("div",Oe,s(n(j)(c.todaysAppointment)),1),$e]),Me])])):u("",!0),l.$page.props.auth.user.is_admin?(r(),m("div",ze,[e("div",Ve,[e("div",Te,[Ie,o(re,{labels:n(H),series:n(F)},null,8,["labels","series"])]),e("div",Ne,[De,o(pe,{labels:n(E),series:W},null,8,["labels"])])])])):u("",!0),e("div",Be,[Le,e("div",Pe,[o(ne,{data:c.appointments},null,8,["data"])])]),e("div",He,[e("div",Fe,[Ee,o(n(ee),{href:l.route("appointments.index"),class:"flex items-center font-medium transition duration-200 ease-in-out hover:translate-x-1 hover:text-blue-500 gap-x-1"},{default:i(()=>[We,Ye]),_:1},8,["href"])]),e("div",qe,[o(I,{label:"Filter Appointment",class:"w-52"},{default:i(()=>[o(ae,{onChange:n(O),modelValue:n(v),"onUpdate:modelValue":k[0]||(k[0]=t=>M(v)?v.value=t:v=t)},{default:i(()=>[Ge,Ke,Ue]),_:1},8,["onChange","modelValue"])]),_:1}),e("div",Re,[o(I,{label:"Search Appointment",for:"search"},{default:i(()=>[o(le,{modelValue:n(x),"onUpdate:modelValue":k[1]||(k[1]=t=>M(x)?x.value=t:x=t),id:"search",onKeyup:n(O)},null,8,["modelValue","onKeyup"])]),_:1})])]),e("div",Je,[e("table",Qe,[Xe,e("tbody",Ze,[(r(!0),m(S,null,z(c.appointments,(t,G)=>(r(),m("tr",{key:G,class:te(["hover:bg-gray-100",{"bg-red-100":t.deleted_at}])},[e("td",et,[o(D,{label:t.appointment_status,color:n(V)(t.appointment_status)},null,8,["label","color"])]),e("td",tt,[e("div",st,[e("div",ot,[t.patient.image?u("",!0):(r(),m("svg",at,nt)),e("img",{src:`images/profile/${t.patient.image}`,class:"h-full rounded-full object-fit",alt:""},null,8,it)]),p(" "+s(t.patient.full_name),1)])]),e("td",rt,s(t.patient.email),1),e("td",ct,s(t.schedule),1),e("td",pt,s(n(oe)(t.message)),1),e("td",dt,s(n(T)(t.subtotal)),1),e("td",mt,[o(D,{label:t.payment_status,color:n(V)(t.payment_status)},null,8,["label","color"])]),e("td",ut,s(t.created_at),1),e("td",ht,s(t.deleted_at),1),e("td",_t,[o(h,{text:"",size:"sm",onClick:K=>{b(),a.value=t}},{default:i(()=>[ft]),_:2},1032,["onClick"]),!t.deleted_at&&(t.appointment_status==="Pending"||l.$page.props.auth.user.is_admin)?(r(),C(h,{key:0,onClick:g(K=>{y(),a.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:i(()=>[xt]),_:2},1032,["onClick"])):u("",!0)])],2))),128)),c.appointments.length==0?(r(),m("tr",vt,gt)):u("",!0)])])]),yt]),f.value?(r(),C(N,{key:3,onClose:b},{title:i(()=>[bt,kt]),body:i(()=>[Ct,e("p",At,"Full Name: "+s(a.value.patient.full_name),1),e("p",St,"Email: "+s(a.value.patient.email),1),e("p",jt,"Gender: "+s(a.value.patient.gender),1),Ot,e("p",$t,"Schedule: "+s(a.value.schedule),1),e("p",Mt,"Message: "+s(a.value.message),1),e("p",zt,"Created: "+s(a.value.created_at),1),Vt,(r(!0),m(S,null,z(a.value.services,t=>(r(),m("p",{class:"text-sm",key:t.id},s(t.service.service)+" - "+s(n(T)(t.service.price)),1))),128))]),footer:i(()=>[o(h,{onClick:g(b,["prevent"]),text:"",size:"sm",color:"gray"},{default:i(()=>[Tt]),_:1},8,["onClick"]),a.value.appointment_status=="Pending"&&a.value.appointment_status!="Cancelled"&&l.$page.props.auth.user.is_admin?(r(),C(h,{key:0,onClick:g(Y,["prevent"]),text:"",size:"sm",color:"success"},{default:i(()=>[It]),_:1},8,["onClick"])):u("",!0)]),_:1})):u("",!0),_.value?(r(),C(N,{key:4,onClose:y},{title:i(()=>[Nt]),body:i(()=>[Dt]),footer:i(()=>[o(h,{onClick:g(y,["prevent"]),text:"",size:"sm",color:"gray"},{default:i(()=>[Bt]),_:1},8,["onClick"]),o(h,{onClick:g(q,["prevent"]),text:"",size:"sm",color:"error"},{default:i(()=>[Lt]),_:1},8,["onClick"])]),_:1})):u("",!0)])]),_:1})],64))}};export{Jt as default};
