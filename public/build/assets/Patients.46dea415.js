import{c as le,u as ae,r as _,a as ne,l as re,d as ie,o as c,b as v,e as a,f as l,H as de,g as s,F as L,h as ce,B as ue,i as e,j as d,k as O,n as me,p as G,m as u,s as h,y as r,q as x,L as pe}from"./app.00439c91.js";import{_ as _e}from"./Authenticated.a42a738f.js";import{_ as m}from"./Button.b7006ce7.js";import{_ as g,a as y}from"./Modal.vue_vue_type_style_index_0_lang.13ba25eb.js";import{_ as q}from"./FloatingSelect.ace9318b.js";import{P as he}from"./Pagination.19852769.js";import{_ as b}from"./Modal.f877938c.js";import{f as K,s as fe}from"./Utilities.5f54765f.js";import"./plugin-vue_export-helper.21dcd24c.js";const xe={class:"max-w-8xl mx-auto px-6 lg:px-8"},ve=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Patients Summary"),e("p",null,"Here is an overview of your patients.")],-1),ge={class:"py-8 max-w-8xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-y-4 gap-x-4"},we={class:"bg-red-500 flex-1 p-4 text-white rounded-md md:max-w-md"},ye={class:"flex justify-between"},be={class:"text-9xl flex items-center"},ke=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5"},[r(" Trashed "),e("br"),r("Patients ")])],-1),Ce=e("span",{class:"sr-only"},"Trashed Patients",-1),Ve={class:"bg-green-600 flex-1 p-4 text-white rounded-md md:max-w-md"},Se={class:"flex justify-between"},Ae={class:"text-9xl flex items-center"},ze=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[r(" Total "),e("br"),r("Patients ")])],-1),$e=e("span",{class:"sr-only"},"Total Patients",-1),Pe={class:"max-w-8xl mx-auto px-6 lg:px-8"},Me={class:"py-8"},Ue={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},je={class:"overflow-x-auto sm:rounded-lg"},De={class:""},Ne={class:"max-w-8xl mx-auto bg-white rounded-lg pb-6"},Fe=e("p",{class:"text-xl font-medium"}," Patients Record ",-1),Be=e("p",{class:"text-sm text-gray-700"}," Shown below are the records of your patients. ",-1),Re={class:"flex justify-between mt-7 mb-7"},Ie=e("option",{value:"with"}," All Patients ",-1),Te=e("option",{value:""}," Active Patients ",-1),Ee=e("option",{value:"only"}," Trashed Patients ",-1),He={class:"overflow-x-auto"},Le={class:"min-w-full divide-y divide-gray-300"},Oe=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left whitespace-nowrap sm:pl-6"}," Valid ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Full Name "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Address "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Contact Number "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Gender "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Email "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," Approval "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Created On "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Deleted At "),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6 text-left"}," Actions ")])],-1),Ge={class:"divide-y divide-gray-300 bg-white"},qe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ke=["onClick","src"],Je={key:1,class:"text-gray-400 text-xs"},Qe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 flex items-center gap-x-2"},We={class:"rounded-full bg-blue-400 w-8 h-8 border-gray-100 flex items-center justify-center"},Xe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Ye=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),Ze=[Ye],et=["src"],tt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},st={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},ot={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 capitalize"},lt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},at={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},nt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},rt={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},it={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},dt=r("Approve"),ct=r("Decline"),ut=r("View"),mt=r("Update"),pt=r("Trash"),_t=r("Restore"),ht={key:0},ft=e("td",{colspan:"9"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"}," No data available .. ")],-1),xt=[ft],vt={class:"text-sm mt-2 text-gray-500"},gt=e("p",{class:"font-bold text-xl"},"Decline Account",-1),wt=e("p",{class:"text-sm mt-2"}," Are you sure you want to decline this account? User wont be able to login and set an appointment ",-1),yt=r("Cancel"),bt=r("Decline"),kt=e("p",{class:"font-bold text-xl"},"Confirm Approve",-1),Ct=e("p",{class:"text-sm mt-2"}," Are you sure you want to approve this account? ",-1),Vt=r("Cancel"),St=r("Approve"),At=e("p",{class:"font-bold text-xl"},"Patient Information",-1),zt=e("p",{class:"text-sm"},"Here are the informations of the patient",-1),$t={class:"rounded-full bg-blue-400 w-16 h-16 border-gray-100 flex items-center justify-center mx-auto mt-4"},Pt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Mt=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),Ut=[Mt],jt=["src"],Dt={class:"text-center"},Nt={class:"mt-2 font-medium"},Ft={class:"text-sm"},Bt={class:"flex mt-4 gap-x-2"},Rt={class:"w-1/2"},It={class:"text-sm font-medium"},Tt={class:"text-sm font-medium"},Et={class:"w-1/2"},Ht={class:"text-sm font-medium"},Lt={class:"text-sm font-medium"},Ot=r("Close"),Gt=r("View Records"),qt=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),Kt=e("p",{class:"text-sm text-gray-600"},[r(" Are you sure you want to trash this service? "),e("span",{class:"text-sm text-red-500"},[e("br"),r("Note: This data can still be restored.")])],-1),Jt=r("Close"),Qt=r("Confirm"),Wt=e("p",{class:"font-bold text-xl"},"Update User",-1),Xt=e("p",{class:"text-sm"},"All input fields are required.",-1),Yt={class:"w-full"},Zt={class:"flex gap-x-2"},es={class:"w-1/2"},ts={class:"w-1/2"},ss={class:"w-full"},os={class:"flex w-full gap-x-2"},ls={class:"w-1/2"},as=e("option",{value:"Male",class:"font-medium"}," Male ",-1),ns=e("option",{value:"Female",class:"font-medium"}," Female ",-1),rs={class:"w-1/2"},is=r("Close"),ds=r("Save Changes"),cs=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),us=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to restore this account? All of its transaction data will be restored as well. ",-1),ms=r("Close"),ps=r("Restore"),ks={__name:"Patients",props:{patients:Object,errors:Object,filters:Object,trashedPatientsCount:Number},setup(p){const F=p,B=le(()=>ce().props.value.flash.message),f=ae();let k=_(F.filters.search),C=_(F.filters.trashed);const V=_(!1),S=_(!1),R=_([]),J=_(0),P=_(!1),M=_(!1),U=_(!1),j=_(!1),D=_(!1);let o=ne({id:null,first_name:null,middle_name:null,last_name:null,gender:null,address:null,birthday:null});const Q=()=>{D.value=!0},W=()=>D.value=!1,A=()=>{P.value=!P.value},z=()=>{M.value=!M.value},N=()=>{U.value=!U.value},$=(n=null)=>{o.id=n==null?void 0:n.id,o.first_name=n==null?void 0:n.first_name,o.middle_name=n==null?void 0:n.middle_name,o.last_name=n==null?void 0:n.last_name,o.gender=n==null?void 0:n.gender,o.address=n==null?void 0:n.address,o.birthday=n==null?void 0:n.birthday,j.value=!j.value},X=()=>{o.put(`/approve/${o.value.id}`,{preserveState:!0,onFinish:()=>{V.value=!1},onSuccess:()=>{f.success("Account has been approved successfully!")},onError:()=>{f.error("Something went wrong!")}})},Y=()=>{o.put(`/decline/${o.value.id}`,{preserveState:!0,onFinish:()=>{S.value=!1},onSuccess:()=>{f.success("Account has been declined!")},onError:()=>{f.error("Something went wrong!")}})},Z=()=>{o.delete(`/patients/${o.value.id}`,{preserveState:!0,onFinish:()=>{z()},onSuccess:()=>{f.success(B.value)},onError:()=>{f.error("Something went wrong!")}})},ee=()=>{o.transform(n=>({...n})).put(`patients/${o.id}`,{preserveState:!0,onSuccess:()=>{f.success(`${B.value}`),$()},onError:()=>{f.error("Something went wrong!")}})},te=()=>{o.put(`/patients/restore/${o.value.id}`,{preserveState:!0,onFinish:()=>{A()},onSuccess:()=>{f.success("Account has been restored successfully!")},onError:()=>{f.error("Something went wrong!")}})},I=re.exports.debounce(()=>{ie.Inertia.get("/patients",{search:k.value,trashed:C.value},{replace:!0,preserveState:!0})},300);return(n,i)=>{const se=ue("vue-easy-lightbox");return c(),v(L,null,[a(l(de),{title:"Dashboard"}),a(_e,null,{default:s(()=>{var T,E,H;return[e("div",xe,[ve,e("div",ge,[e("div",we,[e("div",ye,[e("div",be,d(l(K)(p.trashedPatientsCount)),1),ke]),Ce]),e("div",Ve,[e("div",Se,[e("div",Ae,d(l(K)(p.patients.data.length)),1),ze]),$e])])]),e("div",Pe,[e("div",Me,[e("div",Ue,[e("div",je,[e("div",De,[e("div",Ne,[Fe,Be,e("div",Re,[a(g,{label:"Filter Patients",class:"w-52"},{default:s(()=>[a(q,{onChange:l(I),modelValue:l(C),"onUpdate:modelValue":i[0]||(i[0]=t=>O(C)?C.value=t:C=t)},{default:s(()=>[Ie,Te,Ee]),_:1},8,["onChange","modelValue"])]),_:1}),a(g,{label:"Search Patient",for:"search",class:"w-52 md:w-72"},{default:s(()=>[a(y,{modelValue:l(k),"onUpdate:modelValue":i[1]||(i[1]=t=>O(k)?k.value=t:k=t),onKeyup:l(I),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",He,[e("table",Le,[Oe,e("tbody",Ge,[(c(!0),v(L,null,me(p.patients.data,(t,oe)=>(c(),v("tr",{key:oe,class:G([{"bg-red-100":t.deleted_at},"hover:bg-gray-100"])},[e("td",qe,[t!=null&&t.valid_id?(c(),v("img",{key:0,onClick:u(w=>{Q(),R.value=`/images/${t.valid_id}`},["prevent"]),src:`images/${t.valid_id}`,class:"rounded-md cursor-pointer",alt:"Valid ID"},null,8,Ke)):(c(),v("p",Je," No Valid ID "))]),e("td",Qe,[e("div",We,[t.image?h("",!0):(c(),v("svg",Xe,Ze)),e("img",{src:`images/profile/${t.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,et)]),r(" "+d(t.full_name),1)]),e("td",tt,d(l(fe)(t.address)),1),e("td",st,d(t.contact_number),1),e("td",ot,d(t.gender),1),e("td",lt,d(t.email),1),e("td",at,[e("div",{class:G(["px-4 py-2 text-xs text-white rounded-full flex justify-center items-center",parseInt(t.is_approved)?"bg-green-600":"bg-red-600"])},d(parseInt(t.is_approved)?"Approved":parseInt(t.is_declined)?"Declined":"Pending"),3)]),e("td",nt,d(t.created_at),1),e("td",rt,d(t.deleted_at),1),e("td",it,[parseInt(t.is_approved)?h("",!0):(c(),x(m,{key:0,onClick:u(w=>{V.value=!0,l(o).value={...t}},["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[dt]),_:2},1032,["onClick"])),parseInt(t.is_declined)?h("",!0):(c(),x(m,{key:1,onClick:u(w=>{S.value=!0,l(o).value={...t}},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[ct]),_:2},1032,["onClick"])),a(m,{onClick:u(w=>{N(),l(o).value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[ut]),_:2},1032,["onClick"]),a(m,{onClick:u(w=>$(t),["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[mt]),_:2},1032,["onClick"]),t.deleted_at?(c(),x(m,{key:3,onClick:u(w=>{l(o).value={...t},A()},["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[_t]),_:2},1032,["onClick"])):(c(),x(m,{key:2,onClick:u(w=>{z(),l(o).value={...t}},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[pt]),_:2},1032,["onClick"]))])],2))),128)),p.patients.data.length==0?(c(),v("tr",ht,xt)):h("",!0)])])]),e("p",vt," Showing "+d((T=p.patients.from)!=null?T:0)+" to "+d((E=p.patients.to)!=null?E:0)+" out of "+d((H=p.patients.total)!=null?H:0)+" patients. ",1),a(he,{links:p.patients.links,right:""},null,8,["links"])])])])])])]),S.value?(c(),x(b,{key:0,onClose:i[3]||(i[3]=t=>S.value=!1)},{title:s(()=>[gt,wt]),footer:s(()=>[a(m,{onClick:i[2]||(i[2]=u(t=>S.value=!1,["prevent"])),text:"",size:"sm",color:""},{default:s(()=>[yt]),_:1}),a(m,{onClick:u(Y,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[bt]),_:1},8,["onClick"])]),_:1})):h("",!0),V.value?(c(),x(b,{key:1,onClose:i[5]||(i[5]=t=>V.value=!1)},{title:s(()=>[kt,Ct]),footer:s(()=>[a(m,{onClick:i[4]||(i[4]=u(t=>V.value=!1,["prevent"])),text:"",size:"sm",color:""},{default:s(()=>[Vt]),_:1}),a(m,{onClick:u(X,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[St]),_:1},8,["onClick"])]),_:1})):h("",!0),U.value?(c(),x(b,{key:2,onClose:N},{title:s(()=>[At,zt]),body:s(()=>[e("div",$t,[l(o).value.image?h("",!0):(c(),v("svg",Pt,Ut)),e("img",{src:`images/profile/${l(o).value.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,jt)]),e("div",Dt,[e("p",Nt,d(l(o).value.full_name),1),e("p",Ft,d(l(o).value.email),1)]),e("div",Bt,[e("div",Rt,[e("p",It," Address: "+d(l(o).value.address),1),e("p",Tt," Birthday: "+d(l(o).value.birthday),1)]),e("div",Et,[e("p",Ht," Gender: "+d(l(o).value.gender),1),e("p",Lt," Contact: "+d(l(o).value.contact_number),1)])])]),footer:s(()=>[a(m,{onClick:u(N,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ot]),_:1},8,["onClick"]),a(l(pe),{href:n.route("patients.show",l(o).value.id),class:"text-xs text-blue-600 px-4 py-2 hover:text-blue-700 flex justify-center items-center hover:bg-blue-100 uppercase font-medium rounded-sm"},{default:s(()=>[Gt]),_:1},8,["href"])]),_:1})):h("",!0),M.value?(c(),x(b,{key:3,onClose:z},{title:s(()=>[qt]),body:s(()=>[Kt]),footer:s(()=>[a(m,{onClick:u(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Jt]),_:1},8,["onClick"]),a(m,{onClick:u(Z,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Qt]),_:1},8,["onClick"])]),_:1})):h("",!0),j.value?(c(),x(b,{key:4,onClose:$},{title:s(()=>[Wt,Xt]),body:s(()=>[e("div",Yt,[a(g,{for:"firstname",error:p.errors.first_name,label:"First Name",class:"mt-3"},{default:s(()=>[a(y,{type:"text",id:"firstname",modelValue:l(o).first_name,"onUpdate:modelValue":i[6]||(i[6]=t=>l(o).first_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Zt,[e("div",es,[a(g,{for:"middlename",error:p.errors.middle_name,label:"Middle Name ",class:"mt-3"},{default:s(()=>[a(y,{type:"text",id:"middlename",modelValue:l(o).middle_name,"onUpdate:modelValue":i[7]||(i[7]=t=>l(o).middle_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",ts,[a(g,{for:"lastname",error:p.errors.last_name,label:"Last Name",class:"mt-3"},{default:s(()=>[a(y,{type:"text",id:"lastname",modelValue:l(o).last_name,"onUpdate:modelValue":i[8]||(i[8]=t=>l(o).last_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])])]),e("div",ss,[a(g,{for:"address",error:p.errors.address,label:"Address",class:"mt-3"},{default:s(()=>[a(y,{type:"text",id:"address",modelValue:l(o).address,"onUpdate:modelValue":i[9]||(i[9]=t=>l(o).address=t),autofocus:"",autocomplete:"address"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",os,[e("div",ls,[a(g,{for:"gender",error:p.errors.gender,label:"Gender",class:"mt-3"},{default:s(()=>[a(q,{modelValue:l(o).gender,"onUpdate:modelValue":i[10]||(i[10]=t=>l(o).gender=t)},{default:s(()=>[as,ns]),_:1},8,["modelValue"])]),_:1},8,["error"])]),e("div",rs,[a(g,{for:"gender",error:p.errors.gender,label:"Date of Birth",class:"mt-3"},{default:s(()=>[a(y,{type:"date",modelValue:l(o).birthday,"onUpdate:modelValue":i[11]||(i[11]=t=>l(o).birthday=t)},null,8,["modelValue"])]),_:1},8,["error"])])])]),footer:s(()=>[a(m,{onClick:u($,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[is]),_:1},8,["onClick"]),a(m,{onClick:u(ee,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ds]),_:1},8,["onClick"])]),_:1})):h("",!0),P.value?(c(),x(b,{key:5,onClose:A},{title:s(()=>[cs]),body:s(()=>[us]),footer:s(()=>[a(m,{onClick:u(A,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ms]),_:1},8,["onClick"]),a(m,{onClick:u(te,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ps]),_:1},8,["onClick"])]),_:1})):h("",!0),a(se,{visible:D.value,imgs:R.value,index:J.value,onHide:W},null,8,["visible","imgs","index"])]}),_:1})],64)}}};export{ks as default};
