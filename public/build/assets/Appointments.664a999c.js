import{c as se,r as w,o as Ae,u as G,a as Ve,b as Me,t as Pe,w as $e,l as oe,d as I,e as b,f as r,g as c,H as Ee,h as s,F as K,i as _,j as e,k as d,m as ae,n as y,p as le,q as je,s as S,v as x,x as ze,y as Te,z as m}from"./app.c75b8574.js";import{_ as Le}from"./Authenticated.410bfdcd.js";import{_ as v}from"./Button.8edc95b2.js";import{_ as A,a as X}from"./FormInput.301b6f4f.js";import{_ as Fe}from"./FloatingSelect.5045bdad.js";import{_ as ne}from"./FloatingTextArea.787ba434.js";import{_ as De,a as re}from"./Calendar.dd469319.js";import{P as Ie}from"./Pagination.02d33159.js";import{_ as E}from"./Modal.46b90f06.js";import{f as J,c as ie,s as Ne,a as N}from"./Utilities.5f54765f.js";import{s as ce,h as Oe}from"./vue-multiselect.esm.8488bb69.js";var Q={};Object.defineProperty(Q,"__esModule",{value:!0});function U(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(a){return typeof a}:U=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},U(l)}var pe="https://js.stripe.com/v3",Ue=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,de="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Re=function(){for(var a=document.querySelectorAll('script[src^="'.concat(pe,'"]')),u=0;u<a.length;u++){var h=a[u];if(!!Ue.test(h.src))return h}return null},Be=function(a){var u=a&&!a.advancedFraudSignals?"?advancedFraudSignals=false":"",h=document.createElement("script");h.src="".concat(pe).concat(u);var f=document.head||document.body;if(!f)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return f.appendChild(h),h},He=function(a,u){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"1.35.0",startTime:u})},O=null,We=function(a){return O!==null||(O=new Promise(function(u,h){if(typeof window=="undefined"){u(null);return}if(window.Stripe&&a&&console.warn(de),window.Stripe){u(window.Stripe);return}try{var f=Re();f&&a?console.warn(de):f||(f=Be(a)),f.addEventListener("load",function(){window.Stripe?u(window.Stripe):h(new Error("Stripe.js not available"))}),f.addEventListener("error",function(){h(new Error("Failed to load Stripe.js"))})}catch(k){h(k);return}})),O},Ye=function(a,u,h){if(a===null)return null;var f=a.apply(void 0,u);return He(f,h),f},qe=function(a){var u=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(a),`
`);if(a===null||U(a)!=="object")throw new Error(u);if(Object.keys(a).length===1&&typeof a.advancedFraudSignals=="boolean")return a;throw new Error(u)},ue,me=!1,_e=function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];me=!0;var f=Date.now();return We(ue).then(function(k){return Ye(k,u,f)})};_e.setLoadParameters=function(l){if(me)throw new Error("You cannot change load parameters after calling loadStripe");ue=qe(l)};Q.loadStripe=_e;var Ge=Q;const Ke={class:"max-w-7xl mx-auto px-6 lg:px-8"},Xe=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Appointment Summary"),e("p",null,"Here is an overview of your appointments.")],-1),Je={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-x-4 md:flex-row gap-y-4"},Qe={class:"bg-red-500 flex-1 p-4 text-white rounded-md"},Ze={class:"flex justify-between"},et={class:"text-9xl flex items-center"},tt=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[m("Trashed "),e("br"),m("Appointments")])],-1),st=e("span",{class:"sr-only"},"Trashed Appointments",-1),ot={class:"bg-green-600 flex-1 p-4 text-white rounded-md"},at={class:"flex justify-between"},lt={class:"text-9xl flex items-center"},nt=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[m("Total "),e("br"),m("Appointments")])],-1),rt=e("span",{class:"sr-only"},"Total Appointments",-1),it={class:"bg-blue-600 flex-1 p-4 text-white rounded-md"},ct={class:"flex justify-between"},dt={class:"text-9xl flex items-center"},pt=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[m("Today's "),e("br"),m("Appointments")])],-1),ut=e("span",{class:"sr-only"},"Today's Appointments",-1),mt={class:"max-w-7xl mx-auto px-6 lg:px-8"},_t=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Appointment Calendar"),e("p",null,"Here is an overview of your appointments.")],-1),ht={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 md:flex gap-x-4"},ft={class:"flex-1 w-full"},vt={class:"py-10"},xt={class:"max-w-7xl mx-auto px-6 lg:px-8"},yt={class:"overflow-x-auto shadow-sm sm:rounded-lg"},gt={class:""},wt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 bg-white border-gray-200 rounded-lg pb-6"},bt=e("p",{class:"text-xl font-medium"},"All Appointments",-1),St=e("p",{class:"text-sm text-gray-700"},"Shown below are the appointments record",-1),kt={class:"flex justify-between mt-7 gap-x-2 mb-6"},Ct=e("option",{value:"with"},"All Appointments",-1),At=e("option",{value:""},"Active Appointments",-1),Vt=e("option",{value:"only"},"Trashed Appointments",-1),Mt={class:"flex gap-x-2"},Pt=m("Add Appointment"),$t={class:"overflow-x-auto"},Et={class:"min-w-full divide-y divide-gray-300"},jt=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"ID"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Status"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Patient"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Email"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Schedule"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Message"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Sub Total"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Payment"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Created On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Deleted On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"},"Actions")])],-1),zt={class:"divide-y divide-gray-200 bg-white"},Tt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Lt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ft={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Dt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},It={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Nt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ot={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ut={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Rt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Bt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ht={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},Wt=m("Details"),Yt=m("Update"),qt=m("Payment"),Gt=m("Trash"),Kt={key:0},Xt=e("td",{colspan:"11"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"},"No data available ..")],-1),Jt=[Xt],Qt={class:"text-sm mt-2 text-gray-500"},Zt=e("p",{class:"font-bold text-xl"},"Appointment Information",-1),es=e("p",{class:"text-sm text-gray-600"},"Here are the informations for this appointment",-1),ts=e("p",{class:"mb-2 mt-3"},"Patient Information",-1),ss={class:"text-sm"},os={class:"text-sm"},as={class:"text-sm"},ls=e("p",{class:"mb-2 mt-4"},"Appointment Information",-1),ns={class:"text-sm"},rs={class:"text-sm"},is={class:"text-sm"},cs=e("p",{class:"mb-2 mt-4"},"Services Selected",-1),ds=m("Close"),ps=m("Mark as Finished"),us=m("Approve"),ms=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),_s=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored.",-1),hs=m("Close"),fs=m("Confirm"),vs=e("p",{class:"font-bold text-xl"},"Payment Transaction",-1),xs=e("p",{class:"text-gray-500 text-sm mt-1"},"We do not store any credit card informations. All transactions are processed by Stripe.",-1),ys={key:0},gs=e("p",{class:"text-center mt-4 mb-1 font-medium text-gray-500"},"Loading Secure Payment ...",-1),ws=[gs],bs=e("p",{class:"mt-1 mb-2"},"Credit Card Information",-1),Ss=e("div",{id:"card-element",class:"[&>*]:border-gray-500 border-2 p-3 rounded-md mb-4"},null,-1),ks=[bs,Ss],Cs=m("Close"),As={class:"font-bold text-xl"},Vs=e("p",null,"Please fill-in all fields.",-1),Ms={class:"flex flex-col"},Ps=e("p",{class:"mt-2 text-sm"},"Select Service",-1),$s={class:"option__desc flex flex-col"},Es={class:"option__title"},js={class:"text-sm"},zs={key:0,class:"mt-1 text-sm text-red-500"},Ts={key:1},Ls=e("p",{class:"mt-2 text-sm"},"Select Patient",-1),Fs={key:0,class:"mt-1 text-sm text-red-500"},Ds={class:"mt-2"},Is=m("Close"),Ns=m("Save Appointment"),Os=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),Us=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to restore this scheduled appointment? This might cause conflicts to some of the schedules.",-1),Rs=m("Close"),Bs=m("Restore"),so={__name:"Appointments",props:{appointments:Object,errors:Object,filters:Object,trashedAppointmentsCount:Number,todaysAppointment:Number,services:Object,users:Object},setup(l){const a=l,u=se(()=>{var o;return(o=G().props.value.errors.error)!=null?o:"Something went wrong"}),h=se(()=>{var o;return(o=G().props.value.flash.message)!=null?o:"Transaction successful"});let f,k,j=w(!1);Ae(async()=>{k=await Ge.loadStripe(G().props.value.stripe.public_key),f=k.elements().create("card",{classes:{base:"p-2 border-gray-500"}})});const he=async()=>{j.value=!0;const{paymentMethod:o,error:n}=await k.createPaymentMethod("card",f,{billing_details:{name:i.value.patient.full_name,email:i.value.patient.email,address:{line1:i.value.patient.address}}});n?g.error(n.message):(i.value.paymentMethodId=o.id,I.Inertia.post(route("payment.store"),i.value,{onError:()=>{g.error("Something went wrong")},onSuccess:()=>{g.success(h.value),L()}})),j.value=!0},g=Ve();let p=Me({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""});const i=w({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),R=w(!1),V=w(!1),B=w(!1),H=w(!1),W=w(!1),z=w(!1),T=w(!1),fe=Pe(p,"selected_services"),L=()=>{T.value=!0,z.value=!z.value,z.value&&setTimeout(()=>{T.value=!1,f.mount("#card-element")},1200)},M=()=>{R.value=!R.value},F=()=>{B.value=!B.value},Y=()=>{H.value=!H.value},C=(o=null)=>{var n;o!=null&&(p.message=o.message,p.id=o.id,p.user_id=o.patient,p.selected_services=(n=o.services)==null?void 0:n.map(D=>D.service),p.schedule=Oe(o.schedule).format("YYYY-MM-DDThh:mm")),W.value=!W.value},ve=()=>{V.value?be():Se()},xe=()=>{I.Inertia.delete(`/appointments/${i.value.id}`,{preserveState:!0,onSuccess:()=>{g.success("Appointment has been moved to trash successfully!"),F()}})},ye=()=>{p.put(`/appointments/restore/${i.value.id}`,{preserveState:!0,onSuccess:()=>{g.success("Appointment has been restored successfully!"),Y()}})},ge=()=>{p.put(`/appointments/approve/${i.value.id}`,{preserveState:!0,onError:()=>{g.error("Something went wrong")},onSuccess:()=>{g.success("Appointment has been approved successfully!"),M()}})},we=()=>{p.put(`/appointments/finished/${i.value.id}`,{preserveState:!0,onError:()=>{g.error("Something went wrong")},onSuccess:()=>{g.success("Appointment has been marked as finished"),M()}})},be=()=>{p.transform(o=>{var n;return{...o,user_id:(n=o==null?void 0:o.user_id)==null?void 0:n.id}}).post("/appointments",{preserveState:!0,onError:o=>{g.error(`${u.value}`)},onSuccess:()=>{g.success("Appointment created successfully!"),C(),p.reset()}})},Se=()=>{p.transform(o=>{var n;return{...o,user_id:(n=o==null?void 0:o.user_id)==null?void 0:n.id}}).put(`/appointments/${p.id}`,{preserveState:!0,onError:o=>{g.error(`${u.value}`)},onSuccess:()=>{g.success("Appointment update successfully!"),C(),p.reset()}})};$e(fe,()=>{var o;p.subtotal=0,(o=p.selected_services)==null||o.map(n=>{p.subtotal+=parseFloat(n.price)})});let P=w(a.filters.search),$=w(a.filters.trashed);const Z=oe.exports.debounce(()=>{I.Inertia.get("/appointments",{search:P.value,trashed:$.value},{preserveState:!0})},300),ke=oe.exports.debounce(o=>{I.Inertia.get("/appointments",{search:o},{preserveState:!0,only:["users"]})},300);return(o,n)=>(_(),b(K,null,[r(c(Ee),{title:"Patient Appointments"}),r(Le,null,{default:s(()=>{var D,ee,te;return[e("div",Ke,[Xe,e("div",Je,[e("div",Qe,[e("div",Ze,[e("div",et,d(c(J)(l.trashedAppointmentsCount)),1),tt]),st]),e("div",ot,[e("div",at,[e("div",lt,d(c(J)(l.appointments.data.length)),1),nt]),rt]),e("div",it,[e("div",ct,[e("div",dt,d(c(J)(l.todaysAppointment)),1),pt]),ut])])]),e("div",mt,[_t,e("div",ht,[e("div",ft,[r(De,{data:l.appointments.data},null,8,["data"])])])]),e("div",vt,[e("div",xt,[e("div",yt,[e("div",gt,[e("div",wt,[bt,St,e("div",kt,[r(A,{label:"Filter Service",class:"w-48"},{default:s(()=>[r(Fe,{onChange:c(Z),modelValue:c($),"onUpdate:modelValue":n[0]||(n[0]=t=>ae($)?$.value=t:$=t)},{default:s(()=>[Ct,At,Vt]),_:1},8,["onChange","modelValue"])]),_:1}),e("div",Mt,[r(v,{onClick:n[1]||(n[1]=y(t=>{V.value=!0,C()},["prevent"])),size:"sm",color:"success"},{default:s(()=>[Pt]),_:1}),r(A,{label:"Search Appointment",for:"search"},{default:s(()=>[r(X,{modelValue:c(P),"onUpdate:modelValue":n[2]||(n[2]=t=>ae(P)?P.value=t:P=t),id:"search",onKeyup:c(Z)},null,8,["modelValue","onKeyup"])]),_:1})])]),e("div",$t,[e("table",Et,[jt,e("tbody",zt,[(_(!0),b(K,null,le(l.appointments.data,(t,Ce)=>(_(),b("tr",{key:Ce,class:je(["hover:bg-gray-200",{"bg-red-100":t.deleted_at}])},[e("td",Tt,d(t.id),1),e("td",Lt,[r(re,{label:t.appointment_status,color:c(ie)(t.appointment_status)},null,8,["label","color"])]),e("td",Ft,d(t.patient.full_name),1),e("td",Dt,d(t.patient.email),1),e("td",It,d(t.schedule),1),e("td",Nt,d(c(Ne)(t.message)),1),e("td",Ot,d(c(N)(t.subtotal)),1),e("td",Ut,[r(re,{label:t.payment_status,color:c(ie)(t.payment_status)},null,8,["label","color"])]),e("td",Rt,d(t.created_at),1),e("td",Bt,d(t.deleted_at),1),e("td",Ht,[r(v,{text:"",size:"sm",onClick:q=>{M(),i.value=t}},{default:s(()=>[Wt]),_:2},1032,["onClick"]),!t.deleted_at&&t.appointment_status!="Finished"&&t.appointment_status!="Approved"&&!o.$page.props.auth.user.is_admin?(_(),S(v,{key:0,onClick:q=>{V.value=!1,C(t)},text:"",size:"sm",color:"success"},{default:s(()=>[Yt]),_:2},1032,["onClick"])):x("",!0),!t.deleted_at&&t.payment_status!="Paid"&&(t.appointment_status=="Approved"||t.appointment_status=="Finished")?(_(),S(v,{key:1,onClick:y(q=>{L(),i.value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[qt]),_:2},1032,["onClick"])):x("",!0),t.deleted_at?x("",!0):(_(),S(v,{key:2,onClick:y(q=>{F(),i.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Gt]),_:2},1032,["onClick"]))])],2))),128)),l.appointments.data.length==0?(_(),b("tr",Kt,Jt)):x("",!0)])])]),e("p",Qt,"Showing "+d((D=l.appointments.from)!=null?D:0)+" to "+d((ee=l.appointments.to)!=null?ee:0)+" out of "+d((te=l.appointments.total)!=null?te:0)+" appointments.",1),r(Ie,{links:l.appointments.links,right:""},null,8,["links"])])])])])]),R.value?(_(),S(E,{key:0,onClose:M},{title:s(()=>[Zt,es]),body:s(()=>[ts,e("p",ss,"Full Name: "+d(i.value.patient.full_name),1),e("p",os,"Email: "+d(i.value.patient.email),1),e("p",as,"Gender: "+d(i.value.patient.gender),1),ls,e("p",ns,"Schedule: "+d(i.value.schedule),1),e("p",rs,"Message: "+d(i.value.message),1),e("p",is,"Created: "+d(i.value.created_at),1),cs,(_(!0),b(K,null,le(i.value.services,t=>(_(),b("p",{class:"text-sm",key:t.id},d(t.service.service)+" - "+d(c(N)(t.service.price)),1))),128))]),footer:s(()=>[r(v,{onClick:y(M,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ds]),_:1},8,["onClick"]),i.value.deleted_at==null&&i.value.appointment_status=="Approved"&&i.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(_(),S(v,{key:0,onClick:y(we,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ps]),_:1},8,["onClick"])):x("",!0),i.value.deleted_at==null&&i.value.appointment_status=="Pending"&&i.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(_(),S(v,{key:1,onClick:y(ge,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[us]),_:1},8,["onClick"])):x("",!0)]),_:1})):x("",!0),B.value?(_(),S(E,{key:1,onClose:F},{title:s(()=>[ms]),body:s(()=>[_s]),footer:s(()=>[r(v,{onClick:y(F,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[hs]),_:1},8,["onClick"]),r(v,{onClick:y(xe,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[fs]),_:1},8,["onClick"])]),_:1})):x("",!0),z.value?(_(),S(E,{key:2,onClose:L},{title:s(()=>[vs,xs]),body:s(()=>[T.value?(_(),b("div",ys,ws)):x("",!0),ze(e("div",null,ks,512),[[Te,!T.value]]),r(A,{for:"payment_fname",error:l.errors.schedule,label:"Full Name",class:"mt-1 mb-3"},{default:s(()=>[r(X,{disabled:"",type:"text",id:"payment_fname",modelValue:i.value.patient.full_name,"onUpdate:modelValue":n[3]||(n[3]=t=>i.value.patient.full_name=t),"aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"]),r(A,{for:"payment_fname",error:l.errors.schedule,label:"Address",class:"mt-3 mb-3"},{default:s(()=>[r(ne,{type:"text",id:"payment_fname",modelValue:i.value.patient.address,"onUpdate:modelValue":n[4]||(n[4]=t=>i.value.patient.address=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[r(v,{onClick:y(L,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Cs]),_:1},8,["onClick"]),r(v,{onClick:y(he,["prevent"]),text:"",size:"sm",color:"success",disabled:c(j)},{default:s(()=>[m(d(c(j)?"Processing..":"Proceed"),1)]),_:1},8,["onClick","disabled"])]),_:1})):x("",!0),W.value?(_(),S(E,{key:3,onClose:C},{title:s(()=>[e("p",As,d(V.value?"New Appointment":"Update Appointment"),1),Vs]),body:s(()=>[e("form",Ms,[r(A,{for:"appointment",error:l.errors.schedule,label:"Date and Time",class:"mt-3"},{default:s(()=>[r(X,{type:"datetime-local",id:"appointment",modelValue:c(p).schedule,"onUpdate:modelValue":n[5]||(n[5]=t=>c(p).schedule=t)},null,8,["modelValue"])]),_:1},8,["error"]),r(A,{for:"message",error:l.errors.message,label:"Message",class:"mt-2"},{default:s(()=>[r(ne,{id:"message",modelValue:c(p).message,"onUpdate:modelValue":n[6]||(n[6]=t=>c(p).message=t)},null,8,["modelValue"])]),_:1},8,["error"]),Ps,r(c(ce),{modelValue:c(p).selected_services,"onUpdate:modelValue":n[7]||(n[7]=t=>c(p).selected_services=t),options:l.services,multiple:!0,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"service","track-by":"id"},{option:s(t=>[e("div",$s,[e("span",Es,d(t.option.service),1),e("span",js,d(c(N)(t.option.price)),1)])]),_:1},8,["modelValue","options"]),l.errors.selected_services?(_(),b("p",zs,d(l.errors.selected_services),1)):x("",!0),o.$page.props.auth.user.is_admin?(_(),b("div",Ts,[Ls,r(c(ce),{modelValue:c(p).user_id,"onUpdate:modelValue":n[8]||(n[8]=t=>c(p).user_id=t),onSearchChange:c(ke),options:l.users,multiple:!1,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"full_name","track-by":"id",disabled:!V.value},null,8,["modelValue","onSearchChange","options","disabled"]),l.errors.user_id?(_(),b("p",Fs,d(l.errors.user_id),1)):x("",!0)])):x("",!0),e("p",Ds,"Subtotal: "+d(c(N)(c(p).subtotal)),1)])]),footer:s(()=>[r(v,{onClick:y(C,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Is]),_:1},8,["onClick"]),r(v,{onClick:y(ve,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Ns]),_:1},8,["onClick"])]),_:1})):x("",!0),H.value?(_(),S(E,{key:4,onClose:Y},{title:s(()=>[Os]),body:s(()=>[Us]),footer:s(()=>[r(v,{onClick:y(Y,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Rs]),_:1},8,["onClick"]),r(v,{onClick:y(ye,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Bs]),_:1},8,["onClick"])]),_:1})):x("",!0)]}),_:1})],64))}};export{so as default};
