import{c as re,r as v,u as Ae,a as J,t as Me,l as $e,d as K,o as d,b as x,e as a,f as r,H as ze,g as s,F as Q,h as ie,B as De,i as e,p as de,s as u,j as i,m as _,k as Ue,n as ce,q as f,v as Fe,x as Ie,y as p}from"./app.ea0a59be.js";import{_ as Ne}from"./Authenticated.83b51dff.js";import{_ as m}from"./Button.e4f2d39e.js";import{_ as F}from"./FloatingInput.5df9074c.js";import{_ as I}from"./Radio.24e43bc1.js";import{_ as b}from"./Modal.vue_vue_type_style_index_0_lang.85a37c75.js";import{_ as Re}from"./FloatingSelect.2183e7a2.js";import{_ as ue}from"./Chip.42cebb82.js";import{_ as Ee}from"./MedicalForm.4adef00b.js";import{_ as C}from"./Modal.38ee5351.js";import{c as me,s as Te,a as N}from"./Utilities.5f54765f.js";import{s as pe}from"./vue-multiselect.esm.7b548b2c.js";const Be={class:"max-w-8xl px-6 lg:px-8"},Le={class:"sm:px-6 lg:px-8 mt-6 mx-auto"},je=e("p",{class:"font-medium text-xl"},"User Profile",-1),Oe=e("p",null,"Profile Information",-1),qe={class:"grid grid-cols-2 lg:grid-cols-4 mt-4"},He={class:"w-full h-full flex items-center"},Ye=["src"],Ge=e("p",{class:"text-gray-400"},"No Image",-1),We={class:"ml-3 md:ml-0"},Je=e("p",{class:"text-gray-500"},"Patient's Name",-1),Ke={class:"font-semibold"},Qe=e("p",{class:"text-gray-500 mt-2"},"Gender",-1),Xe={class:"font-semibold"},Ze=e("p",{class:"text-gray-500 mt-2"},"Contact Number",-1),et={class:"font-semibold"},tt={class:"mt-4 lg:mt-0"},st=e("p",{class:"text-gray-500"},"Email Address",-1),ot={class:"font-semibold"},lt=e("p",{class:"text-gray-500 mt-2"},"Date of Birth",-1),at={class:"font-semibold"},nt=e("p",{class:"text-gray-500 mt-2"},"Registered Date",-1),rt={class:"font-semibold"},it={class:"mt-4 lg:mt-0"},dt=e("p",{class:"text-gray-500"},"Address",-1),ct={class:"font-semibold"},ut={class:"mt-4 lg:mt-0"},mt=e("p",{class:"text-gray-500 mt-2"},"Valid ID",-1),pt={class:"mt-4 lg:mt-0"},_t=e("p",{class:"text-gray-500 mt-2"},"Medical Record",-1),ht={class:"py-10"},ft={class:"px-6 max-w-8xl lg:px-8"},vt={class:"overflow-x-auto sm:rounded-lg"},yt={class:""},gt={class:"pb-6 mx-auto bg-white border-gray-200 rounded-lg max-w-8xl sm:px-6 lg:px-8"},xt=e("p",{class:"text-xl font-medium"}," Patient Appointments ",-1),bt=e("p",{class:"text-sm text-gray-700"}," Shown below are the appointments record ",-1),wt={class:"flex justify-end mb-6 mt-7 gap-x-2"},Ct=e("option",{value:"with"}," All Appointments ",-1),kt=e("option",{value:""}," Active Appointments ",-1),St=e("option",{value:"only"}," Trashed Appointments ",-1),Pt={class:"overflow-x-auto"},Vt={class:"min-w-full divide-y divide-gray-300"},At=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Status "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Schedule "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Message "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Sub Total "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment Type "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Created On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Deleted On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"}," Actions ")])],-1),Mt={class:"bg-white divide-y divide-gray-200"},$t={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},zt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Dt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ut={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ft={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},It={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Nt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Rt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Et={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Tt={class:"relative py-4 pl-3 pr-4 text-sm whitespace-nowrap sm:pr-6"},Bt=p("Details"),Lt=p("Update"),jt=p("Certificate"),Ot=p("Prescription"),qt=p("View Prescription"),Ht=p("View Receipt"),Yt=p("View Receipt"),Gt=p("Payment"),Wt=p("Trash"),Jt={key:0},Kt=e("td",{colspan:"11"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"}," No data available .. ")],-1),Qt=[Kt],Xt=e("p",{class:"text-xl font-bold"},"Appointment Information",-1),Zt=e("p",{class:"text-sm text-gray-600"}," Here are the informations for this appointment ",-1),es=e("p",{class:"mt-3 mb-2"},"Patient Information",-1),ts={class:"text-sm"},ss={class:"text-sm"},os={class:"text-sm"},ls=e("p",{class:"mt-4 mb-2"},"Appointment Information",-1),as={class:"text-sm"},ns={class:"text-sm"},rs={class:"text-sm"},is=e("p",{class:"mt-4 mb-2"},"Services Selected",-1),ds=p("Close"),cs=p("Mark as Finished"),us=p("Approve"),ms=e("p",{class:"text-xl font-bold"},"Confirm Delete",-1),ps=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored. ",-1),_s=p("Close"),hs=p("Confirm"),fs=e("p",{class:"text-xl font-bold"},"Prescription",-1),vs=e("p",{class:"text-sm font-regular"}," Enter your prescription for this appointment ",-1),ys={action:"",class:"mt-2"},gs=p("Close"),xs=p("Save"),bs=e("p",{class:"text-xl font-bold"},"Payment Transaction",-1),ws=e("p",{class:"mt-1 text-sm text-gray-500"}," We do not store any credit card informations. All transactions are processed by Stripe. ",-1),Cs={key:0},ks=e("p",{class:"mt-4 mb-1 font-medium text-center text-gray-500"}," Loading Secure Payment ... ",-1),Ss=[ks],Ps=e("p",{class:"mt-1 mb-2"},"Credit Card Information",-1),Vs=e("div",{id:"card-element",class:"[&>*]:border-gray-500 border-2 p-3 rounded-md mb-4"},null,-1),As=[Ps,Vs],Ms=p("Close"),$s=e("p",{class:"text-xl font-bold"},"Accept Payment",-1),zs=e("p",{class:"mt-1 text-sm text-gray-500"}," Please fill-in all the fields in the form. ",-1),Ds=p("Close"),Us={class:"text-xl font-bold"},Fs=e("p",null,"Please fill-in all fields.",-1),Is={class:"flex flex-col"},Ns=e("p",{class:"mt-2 text-sm"},"Select Service",-1),Rs={class:"flex flex-col option__desc"},Es={class:"option__title"},Ts={class:"text-sm"},Bs={key:0,class:"mt-1 text-sm text-red-500"},Ls={key:1},js=e("p",{class:"mt-2 text-sm"},"Select Patient",-1),Os={key:0,class:"mt-1 text-sm text-red-500"},qs={class:"mt-2"},Hs=p("Close"),Ys=p("Save Appointment"),Gs=e("p",{class:"text-xl font-bold"},"Confirm Restore",-1),Ws=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to restore this scheduled appointment? This might cause conflicts to some of the schedules. ",-1),Js=p("Close"),Ks=p("Restore"),co={__name:"ViewUsers",props:{user:Object,filters:Object,errors:Object},setup(c){const R=c;re(()=>{var o;return(o=ie().props.value.errors.error)!=null?o:"Something went wrong"});const X=re(()=>{var o;return(o=ie().props.value.flash.success)!=null?o:"Success"}),Z=v([]),E=v(!1),_e=v(0),A=v(!1),he=()=>{A.value=!A.value},fe=()=>{E.value=!0},ve=()=>E.value=!1;let w=v(!1);const ye=async()=>{k.subtotal=n.value.subtotal,k.appointment_id=n.value.id,n.value.subtotal>k.amount_tendered?y.error("Insufficient amount is received"):(w.value=!0,k.transform(o=>({...o,change:o.amount_tendered-o.subtotal})).post(route("payment-branch.store"),{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success(X.value),H()}})),w.value=!1},ge=async()=>{w.value=!0;const{paymentMethod:o,error:l}=await stripe.createPaymentMethod("card",cardElement,{billing_details:{name:n.value.patient.full_name,email:n.value.patient.email,address:{line1:n.value.patient.address}}});l?y.error(l.message):(n.value.paymentMethodId=o.id,K.Inertia.post(route("payment.store"),n.value,{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success(X.value),te()}})),w.value=!1},y=Ae(),ee={appointment_id:null,prescription:"",note:""};let g=J({...ee});const k=J({id:null,subtotal:null,change:null,appointment_id:null,amount_tendered:0});let h=J({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""});const n=v({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),T=v(!1),B=v(!1),L=v(!1),j=v(!1),M=v(!1),$=v(!1),O=v(!1),S=v(!1),q=v(!1);Me(h,"selected_services");const te=o=>{$.value=!0,o?S.value=!S.value:(M.value=!M.value,M.value&&setTimeout(()=>{$.value=!1,cardElement.mount("#card-element")},1200))},P=()=>{O.value=!O.value},z=(o=null,l={...ee})=>{g.appointment_id=o,g.note=l==null?void 0:l.note,g.prescription=l==null?void 0:l.prescription,q.value=!q.value},H=()=>{S.value=!S.value},D=()=>{L.value=!L.value},Y=()=>{j.value=!j.value},G=(o=null)=>{var l;o!=null&&(h.message=o.message,h.id=o.id,h.user_id=o.patient,h.selected_services=(l=o.services)==null?void 0:l.map(W=>W.service),h.schedule=moment(o.schedule).format("YYYY-MM-DDThh:mm")),B.value=!B.value},xe=()=>{g.post(route("prescription.store"),{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment prescription has been saved!"),z(),g.appointment_id=null,g.prescription=null,g.note=null}})},be=()=>{K.Inertia.delete(`/appointments/${n.value.id}`,{preserveState:!0,onSuccess:()=>{y.success("Appointment has been moved to trash successfully!"),D()}})},we=()=>{h.put(`/appointments/restore/${n.value.id}`,{preserveState:!0,onSuccess:()=>{y.success("Appointment has been restored successfully!"),Y()}})},Ce=()=>{h.put(`/appointments/approve/${n.value.id}`,{preserveState:!0,onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment has been approved successfully!"),P()}})},ke=()=>{h.put(`/appointments/finished/${n.value.id}`,{preserveState:!0,onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment has been marked as finished"),P()}})};let Se=v(R.filters.search),V=v(R.filters.trashed);const Pe=$e.exports.debounce(()=>{K.Inertia.get(`/patients/${R.user.id}`,{search:Se.value,trashed:V.value},{replace:!0,preserveState:!0})},300);return(o,l)=>{const W=De("vue-easy-lightbox");return d(),x(Q,null,[a(r(ze),{title:"User Profile"}),a(Ne,null,{default:s(()=>[e("div",Be,[e("div",Le,[je,Oe,e("div",qe,[e("div",He,[e("div",{class:de(["w-48 h-48 rounded-md",{"bg-gray-100 flex items-center justify-center":!c.user.image}])},[c.user.image?(d(),x("img",{key:0,src:`/images/profile/${c.user.image}`,class:"object-fit h-full",alt:""},null,8,Ye)):u("",!0),Ge],2)]),e("div",We,[e("div",null,[Je,e("p",Ke,i(c.user.full_name),1)]),e("div",null,[Qe,e("p",Xe,i(c.user.gender),1)]),e("div",null,[Ze,e("p",et,i(c.user.contact_number),1)])]),e("div",null,[e("div",tt,[st,e("p",ot,i(c.user.email),1)]),e("div",null,[lt,e("p",at,i(c.user.birthday),1)]),e("div",null,[nt,e("p",rt,i(c.user.created_at),1)])]),e("div",null,[e("div",it,[dt,e("p",ct,i(c.user.address),1)]),e("div",ut,[mt,e("a",{type:"button",href:"",onClick:l[0]||(l[0]=_(t=>{fe(),Z.value=`/images/${c.user.valid_id}`},["prevent"])),class:"font-semibold text-blue-500 hover:text-blue-600"},i(c.user.valid_id),1)]),e("div",pt,[_t,e("a",{type:"button",href:"",onClick:l[1]||(l[1]=_(t=>A.value=!0,["prevent"])),class:"font-semibold text-blue-500 hover:text-blue-600"}," Medical Form ")])])])])]),e("div",ht,[e("div",ft,[e("div",vt,[e("div",yt,[e("div",gt,[xt,bt,e("div",wt,[a(b,{label:"Filter Appointment",class:"w-56"},{default:s(()=>[a(Re,{onChange:r(Pe),modelValue:r(V),"onUpdate:modelValue":l[2]||(l[2]=t=>Ue(V)?V.value=t:V=t)},{default:s(()=>[Ct,kt,St]),_:1},8,["onChange","modelValue"])]),_:1})]),e("div",Pt,[e("table",Vt,[At,e("tbody",Mt,[(d(!0),x(Q,null,ce(c.user.appointments,(t,Ve)=>{var se,oe,le,ae,ne;return d(),x("tr",{key:Ve,class:de(["hover:bg-gray-100",{"bg-red-100":t.deleted_at}])},[e("td",$t,i(t.id),1),e("td",zt,[a(ue,{label:t.appointment_status,color:r(me)(t.appointment_status)},null,8,["label","color"])]),e("td",Dt,i(t.schedule),1),e("td",Ut,i(r(Te)(t.message)),1),e("td",Ft,i(r(N)(t.subtotal)),1),e("td",It,i((oe=(se=t.payment)==null?void 0:se.payment_type)!=null?oe:"N/A"),1),e("td",Nt,[a(ue,{label:t.payment_status,color:r(me)(t.payment_status)},null,8,["label","color"])]),e("td",Rt,i(t.created_at),1),e("td",Et,i(t.deleted_at),1),e("td",Tt,[a(m,{text:"",size:"sm",onClick:U=>{P(),n.value=t}},{default:s(()=>[Bt]),_:2},1032,["onClick"]),!t.deleted_at&&t.appointment_status!="Finished"&&t.appointment_status!="Approved"&&!o.$page.props.auth.user.is_admin?(d(),f(m,{key:0,onClick:U=>{T.value=!1,G(t)},text:"",size:"sm",color:"success"},{default:s(()=>[Lt]),_:2},1032,["onClick"])):u("",!0),(o.$page.props.auth.user.is_admin||t.payment_status!=="Pending")&&!t.deleted_at&&t.appointment_status=="Finished"?(d(),f(m,{key:1,"is-link":"",href:o.route("certificate.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[jt]),_:2},1032,["href"])):u("",!0),o.$page.props.auth.user.is_admin?(d(),f(m,{key:2,onClick:_(U=>z(t.id,t.prescription),["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Ot]),_:2},1032,["onClick"])):u("",!0),!o.$page.props.auth.user.is_admin&&t.payment_status=="Paid"&&t.prescription!=null?(d(),f(m,{key:3,"is-link":"",href:o.route("prescription.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[qt]),_:2},1032,["href"])):u("",!0),((le=t.payment)==null?void 0:le.payment_type)=="Stripe"&&t.payment_status=="Paid"?(d(),f(m,{key:4,color:"success","is-link":"",text:"",size:"sm",href:(ae=t.payment)==null?void 0:ae.receipt_url,target:"_"},{default:s(()=>[Ht]),_:2},1032,["href"])):u("",!0),((ne=t.payment)==null?void 0:ne.payment_type)=="On-Branch"&&t.payment_status=="Paid"?(d(),f(m,{key:5,"is-link":"",href:o.route("invoice.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Yt]),_:2},1032,["href"])):u("",!0),!t.deleted_at&&t.payment_status!="Paid"&&(t.appointment_status=="Approved"||t.appointment_status=="Finished")?(d(),f(m,{key:6,onClick:_(U=>{te(o.$page.props.auth.user.is_admin),n.value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[Gt]),_:2},1032,["onClick"])):u("",!0),t.deleted_at?u("",!0):(d(),f(m,{key:7,onClick:_(U=>{D(),n.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Wt]),_:2},1032,["onClick"]))])],2)}),128)),c.user.appointments.length==0?(d(),x("tr",Jt,Qt)):u("",!0)])])])])])])])]),O.value?(d(),f(C,{key:0,onClose:P},{title:s(()=>[Xt,Zt]),body:s(()=>[es,e("p",ts," Full Name: "+i(n.value.patient.full_name),1),e("p",ss," Email: "+i(n.value.patient.email),1),e("p",os," Gender: "+i(n.value.patient.gender),1),ls,e("p",as," Schedule: "+i(n.value.schedule),1),e("p",ns," Message: "+i(n.value.message),1),e("p",rs," Created: "+i(n.value.created_at),1),is,(d(!0),x(Q,null,ce(n.value.services,t=>(d(),x("p",{class:"text-sm",key:t.id},i(t.service.service)+" - "+i(r(N)(t.service.price)),1))),128))]),footer:s(()=>[a(m,{onClick:_(P,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ds]),_:1},8,["onClick"]),n.value.deleted_at==null&&n.value.appointment_status=="Approved"&&n.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(d(),f(m,{key:0,onClick:_(ke,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[cs]),_:1},8,["onClick"])):u("",!0),n.value.deleted_at==null&&n.value.appointment_status=="Pending"&&n.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(d(),f(m,{key:1,onClick:_(Ce,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[us]),_:1},8,["onClick"])):u("",!0)]),_:1})):u("",!0),L.value?(d(),f(C,{key:1,onClose:D},{title:s(()=>[ms]),body:s(()=>[ps]),footer:s(()=>[a(m,{onClick:_(D,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[_s]),_:1},8,["onClick"]),a(m,{onClick:_(be,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[hs]),_:1},8,["onClick"])]),_:1})):u("",!0),q.value?(d(),f(C,{key:2,onClose:z},{title:s(()=>[fs,vs]),body:s(()=>[e("form",ys,[a(b,{label:"Prescription",for:"prescription",class:"mt-3",error:c.errors.prescription},{default:s(()=>[a(I,{modelValue:r(g).prescription,"onUpdate:modelValue":l[3]||(l[3]=t=>r(g).prescription=t),id:"prescription",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{label:"Additional Note",for:"prescription-additional",class:"mt-3",error:c.errors.note},{default:s(()=>[a(I,{modelValue:r(g).note,"onUpdate:modelValue":l[4]||(l[4]=t=>r(g).note=t),id:"prescription-additional",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:s(()=>[a(m,{onClick:_(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[gs]),_:1},8,["onClick"]),a(m,{onClick:_(xe,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[xs]),_:1},8,["onClick"])]),_:1})):u("",!0),M.value?(d(),f(C,{key:3,onClose:o.toggleStripePaymentModal},{title:s(()=>[bs,ws]),body:s(()=>[$.value?(d(),x("div",Cs,Ss)):u("",!0),Fe(e("div",null,As,512),[[Ie,!$.value]]),a(b,{for:"payment_fname",error:c.errors.schedule,label:"Full Name",class:"mt-1 mb-3"},{default:s(()=>[a(F,{disabled:"",type:"text",id:"payment_fname",modelValue:n.value.patient.full_name,"onUpdate:modelValue":l[5]||(l[5]=t=>n.value.patient.full_name=t),"aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"payment_fname",error:c.errors.schedule,label:"Address",class:"mt-3 mb-3"},{default:s(()=>[a(I,{type:"text",id:"payment_fname",modelValue:n.value.patient.address,"onUpdate:modelValue":l[6]||(l[6]=t=>n.value.patient.address=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[a(m,{onClick:_(o.toggleStripePaymentModal,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ms]),_:1},8,["onClick"]),a(m,{onClick:_(ge,["prevent"]),text:"",size:"sm",color:"success",disabled:r(w)},{default:s(()=>[p(i(r(w)?"Processing..":"Proceed"),1)]),_:1},8,["onClick","disabled"])]),_:1},8,["onClose"])):u("",!0),S.value?(d(),f(C,{key:4,onClose:H},{title:s(()=>[$s,zs]),body:s(()=>[a(b,{for:"payment_fname",error:c.errors.schedule,label:"Amount Tendered",class:"mt-3 mb-3"},{default:s(()=>[a(F,{type:"number",id:"amounttendered",modelValue:r(k).amount_tendered,"onUpdate:modelValue":l[7]||(l[7]=t=>r(k).amount_tendered=t)},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"subtotal",error:c.errors.subtotal,label:"Subtotal",class:"mt-3 mb-3"},{default:s(()=>[a(F,{type:"number",id:"subtotal",modelValue:n.value.subtotal,"onUpdate:modelValue":l[8]||(l[8]=t=>n.value.subtotal=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[a(m,{onClick:_(H,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ds]),_:1},8,["onClick"]),a(m,{onClick:_(ye,["prevent"]),text:"",size:"sm",color:"success",disabled:r(w)},{default:s(()=>[p(i(r(w)?"Processing..":"Proceed Payment"),1)]),_:1},8,["onClick","disabled"])]),_:1})):u("",!0),B.value?(d(),f(C,{key:5,onClose:G},{title:s(()=>[e("p",Us,i(T.value?"New Appointment":"Update Appointment"),1),Fs]),body:s(()=>[e("form",Is,[a(b,{for:"appointment",error:c.errors.schedule,label:"Date and Time",class:"mt-3"},{default:s(()=>[a(F,{type:"datetime-local",id:"appointment",modelValue:r(h).schedule,"onUpdate:modelValue":l[9]||(l[9]=t=>r(h).schedule=t)},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"message",error:c.errors.message,label:"Message",class:"mt-2"},{default:s(()=>[a(I,{id:"message",modelValue:r(h).message,"onUpdate:modelValue":l[10]||(l[10]=t=>r(h).message=t)},null,8,["modelValue"])]),_:1},8,["error"]),Ns,a(r(pe),{modelValue:r(h).selected_services,"onUpdate:modelValue":l[11]||(l[11]=t=>r(h).selected_services=t),options:o.services,multiple:!0,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"service","track-by":"id"},{option:s(t=>[e("div",Rs,[e("span",Es,i(t.option.service),1),e("span",Ts,i(r(N)(t.option.price)),1)])]),_:1},8,["modelValue","options"]),c.errors.selected_services?(d(),x("p",Bs,i(c.errors.selected_services),1)):u("",!0),o.$page.props.auth.user.is_admin?(d(),x("div",Ls,[js,a(r(pe),{modelValue:r(h).user_id,"onUpdate:modelValue":l[12]||(l[12]=t=>r(h).user_id=t),onSearchChange:o.searchPatient,options:o.users,multiple:!1,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"full_name","track-by":"id",disabled:!T.value},null,8,["modelValue","onSearchChange","options","disabled"]),c.errors.user_id?(d(),x("p",Os,i(c.errors.user_id),1)):u("",!0)])):u("",!0),e("p",qs," Subtotal: "+i(r(N)(r(h).subtotal)),1)])]),footer:s(()=>[a(m,{onClick:_(G,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Hs]),_:1},8,["onClick"]),a(m,{onClick:_(o.initiateMethod,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Ys]),_:1},8,["onClick"])]),_:1})):u("",!0),j.value?(d(),f(C,{key:6,onClose:Y},{title:s(()=>[Gs]),body:s(()=>[Ws]),footer:s(()=>[a(m,{onClick:_(Y,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Js]),_:1},8,["onClick"]),a(m,{onClick:_(we,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Ks]),_:1},8,["onClick"])]),_:1})):u("",!0),a(W,{visible:E.value,imgs:Z.value,index:_e.value,onHide:ve},null,8,["visible","imgs","index"]),A.value?(d(),f(Ee,{key:7,"view-only":"",data:c.user.medical_record,onEmitClose:he},null,8,["data"])):u("",!0)]),_:1})],64)}}};export{co as default};
