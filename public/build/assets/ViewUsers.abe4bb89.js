import{c as oe,r as y,a as xe,b as H,t as be,l as we,d as G,e as x,f as l,g as n,H as ke,h as s,F as W,u as le,i as c,j as e,q as ae,v as p,k as i,m as Ce,p as re,s as f,n as h,x as Se,y as Pe,z as m}from"./app.aa3ae744.js";import{_ as Ve}from"./Authenticated.2617b10b.js";import{_ as u}from"./Button.66830440.js";import{_ as U}from"./FloatingInput.de9702c3.js";import{_ as N}from"./FloatingTextArea.c65a01cd.js";import{_ as b}from"./FormInput.14e823b2.js";import{_ as Ae}from"./FloatingSelect.7cc5db65.js";import{_ as ne}from"./Chip.09ae23a8.js";import{_ as k}from"./Modal.0589993a.js";import{c as ie,s as Me,a as I}from"./Utilities.5f54765f.js";import{s as ce}from"./vue-multiselect.esm.726dc1d2.js";/* empty css                                              */const ze={class:"max-w-8xl px-6 lg:px-8"},$e={class:"sm:px-6 lg:px-8 mt-6 mx-auto"},De=e("p",{class:"font-medium text-xl"},"User Profile",-1),Ue=e("p",null,"Profile Information",-1),Ne={class:"grid grid-cols-2 lg:grid-cols-4 mt-4"},Ie={class:"w-full h-full flex items-center"},Te=["src"],Ee=e("p",{class:"text-gray-400"},"No Image",-1),Fe=e("p",{class:"text-gray-500"},"Patient's Name",-1),Be={class:"font-semibold"},Re=e("p",{class:"text-gray-500 mt-2"},"Gender",-1),Le={class:"font-semibold"},je=e("p",{class:"text-gray-500 mt-2"},"Contact Number",-1),Oe={class:"font-semibold"},qe={class:"mt-4 lg:mt-0"},Ye=e("p",{class:"text-gray-500"},"Email Address",-1),He={class:"font-semibold"},Ge=e("p",{class:"text-gray-500 mt-2"},"Date of Birth",-1),We={class:"font-semibold"},Je=e("p",{class:"text-gray-500 mt-2"},"Registered Date",-1),Ke={class:"font-semibold"},Qe={class:"mt-4 lg:mt-0"},Xe=e("p",{class:"text-gray-500"},"Address",-1),Ze={class:"font-semibold"},et={class:"py-10"},tt={class:"px-6 max-w-8xl lg:px-8"},st={class:"overflow-x-auto sm:rounded-lg"},ot={class:""},lt={class:"pb-6 mx-auto bg-white border-gray-200 rounded-lg max-w-8xl sm:px-6 lg:px-8"},at=e("p",{class:"text-xl font-medium"}," Patient Appointments ",-1),rt=e("p",{class:"text-sm text-gray-700"}," Shown below are the appointments record ",-1),nt={class:"flex justify-end mb-6 mt-7 gap-x-2"},it=e("option",{value:"with"}," All Appointments ",-1),ct=e("option",{value:""}," Active Appointments ",-1),dt=e("option",{value:"only"}," Trashed Appointments ",-1),ut={class:"overflow-x-auto"},mt={class:"min-w-full divide-y divide-gray-300"},pt=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Status "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Schedule "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Message "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Sub Total "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment Type "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Created On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Deleted On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"}," Actions ")])],-1),_t={class:"bg-white divide-y divide-gray-200"},ht={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},ft={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},vt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},yt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},gt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},xt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},bt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},wt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},kt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ct={class:"relative py-4 pl-3 pr-4 text-sm whitespace-nowrap sm:pr-6"},St=m("Details"),Pt=m("Update"),Vt=m("Certificate"),At=m("Prescription"),Mt=m("View Prescription"),zt=m("View Receipt"),$t=m("View Receipt"),Dt=m("Payment"),Ut=m("Trash"),Nt={key:0},It=e("td",{colspan:"11"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"}," No data available .. ")],-1),Tt=[It],Et=e("p",{class:"text-xl font-bold"},"Appointment Information",-1),Ft=e("p",{class:"text-sm text-gray-600"}," Here are the informations for this appointment ",-1),Bt=e("p",{class:"mt-3 mb-2"},"Patient Information",-1),Rt={class:"text-sm"},Lt={class:"text-sm"},jt={class:"text-sm"},Ot=e("p",{class:"mt-4 mb-2"},"Appointment Information",-1),qt={class:"text-sm"},Yt={class:"text-sm"},Ht={class:"text-sm"},Gt=e("p",{class:"mt-4 mb-2"},"Services Selected",-1),Wt=m("Close"),Jt=m("Mark as Finished"),Kt=m("Approve"),Qt=e("p",{class:"text-xl font-bold"},"Confirm Delete",-1),Xt=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored. ",-1),Zt=m("Close"),es=m("Confirm"),ts=e("p",{class:"text-xl font-bold"},"Prescription",-1),ss=e("p",{class:"text-sm font-regular"}," Enter your prescription for this appointment ",-1),os={action:"",class:"mt-2"},ls=m("Close"),as=m("Save"),rs=e("p",{class:"text-xl font-bold"},"Payment Transaction",-1),ns=e("p",{class:"mt-1 text-sm text-gray-500"}," We do not store any credit card informations. All transactions are processed by Stripe. ",-1),is={key:0},cs=e("p",{class:"mt-4 mb-1 font-medium text-center text-gray-500"}," Loading Secure Payment ... ",-1),ds=[cs],us=e("p",{class:"mt-1 mb-2"},"Credit Card Information",-1),ms=e("div",{id:"card-element",class:"[&>*]:border-gray-500 border-2 p-3 rounded-md mb-4"},null,-1),ps=[us,ms],_s=m("Close"),hs=e("p",{class:"text-xl font-bold"},"Accept Payment",-1),fs=e("p",{class:"mt-1 text-sm text-gray-500"}," Please fill-in all the fields in the form. ",-1),vs=m("Close"),ys={class:"text-xl font-bold"},gs=e("p",null,"Please fill-in all fields.",-1),xs={class:"flex flex-col"},bs=e("p",{class:"mt-2 text-sm"},"Select Service",-1),ws={class:"flex flex-col option__desc"},ks={class:"option__title"},Cs={class:"text-sm"},Ss={key:0,class:"mt-1 text-sm text-red-500"},Ps={key:1},Vs=e("p",{class:"mt-2 text-sm"},"Select Patient",-1),As={key:0,class:"mt-1 text-sm text-red-500"},Ms={class:"mt-2"},zs=m("Close"),$s=m("Save Appointment"),Ds=e("p",{class:"text-xl font-bold"},"Confirm Restore",-1),Us=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to restore this scheduled appointment? This might cause conflicts to some of the schedules. ",-1),Ns=m("Close"),Is=m("Restore"),Ws={__name:"ViewUsers",props:{user:Object,filters:Object,errors:Object},setup(d){const T=d;oe(()=>{var o;return(o=le().props.value.errors.error)!=null?o:"Something went wrong"});const J=oe(()=>{var o;return(o=le().props.value.flash.success)!=null?o:"Success"});let w=y(!1);const de=async()=>{C.subtotal=r.value.subtotal,C.appointment_id=r.value.id,r.value.subtotal>C.amount_tendered?v.error("Insufficient amount is received"):(w.value=!0,C.transform(o=>({...o,change:o.amount_tendered-o.subtotal})).post(route("payment-branch.store"),{onError:()=>{v.error("Something went wrong")},onSuccess:()=>{v.success(J.value),O()}})),w.value=!1},ue=async()=>{w.value=!0;const{paymentMethod:o,error:a}=await stripe.createPaymentMethod("card",cardElement,{billing_details:{name:r.value.patient.full_name,email:r.value.patient.email,address:{line1:r.value.patient.address}}});a?v.error(a.message):(r.value.paymentMethodId=o.id,G.Inertia.post(route("payment.store"),r.value,{onError:()=>{v.error("Something went wrong")},onSuccess:()=>{v.success(J.value),Q()}})),w.value=!1},v=xe(),K={appointment_id:null,prescription:"",note:""};let g=H({...K});const C=H({id:null,subtotal:null,change:null,appointment_id:null,amount_tendered:0});let _=H({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""});const r=y({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),E=y(!1),F=y(!1),B=y(!1),R=y(!1),A=y(!1),M=y(!1),L=y(!1),S=y(!1),j=y(!1);be(_,"selected_services");const Q=o=>{M.value=!0,o?S.value=!S.value:(A.value=!A.value,A.value&&setTimeout(()=>{M.value=!1,cardElement.mount("#card-element")},1200))},P=()=>{L.value=!L.value},z=(o=null,a={...K})=>{g.appointment_id=o,g.note=a==null?void 0:a.note,g.prescription=a==null?void 0:a.prescription,j.value=!j.value},O=()=>{S.value=!S.value},$=()=>{B.value=!B.value},q=()=>{R.value=!R.value},Y=(o=null)=>{var a;o!=null&&(_.message=o.message,_.id=o.id,_.user_id=o.patient,_.selected_services=(a=o.services)==null?void 0:a.map(t=>t.service),_.schedule=moment(o.schedule).format("YYYY-MM-DDThh:mm")),F.value=!F.value},me=()=>{g.post(route("prescription.store"),{onError:()=>{v.error("Something went wrong")},onSuccess:()=>{v.success("Appointment prescription has been saved!"),z(),g.appointment_id=null,g.prescription=null,g.note=null}})},pe=()=>{G.Inertia.delete(`/appointments/${r.value.id}`,{preserveState:!0,onSuccess:()=>{v.success("Appointment has been moved to trash successfully!"),$()}})},_e=()=>{_.put(`/appointments/restore/${r.value.id}`,{preserveState:!0,onSuccess:()=>{v.success("Appointment has been restored successfully!"),q()}})},he=()=>{_.put(`/appointments/approve/${r.value.id}`,{preserveState:!0,onError:()=>{v.error("Something went wrong")},onSuccess:()=>{v.success("Appointment has been approved successfully!"),P()}})},fe=()=>{_.put(`/appointments/finished/${r.value.id}`,{preserveState:!0,onError:()=>{v.error("Something went wrong")},onSuccess:()=>{v.success("Appointment has been marked as finished"),P()}})};let ve=y(T.filters.search),V=y(T.filters.trashed);const ye=we.exports.debounce(()=>{G.Inertia.get(`/patients/${T.user.id}`,{search:ve.value,trashed:V.value},{replace:!0,preserveState:!0})},300);return(o,a)=>(c(),x(W,null,[l(n(ke),{title:"User Profile"}),l(Ve,null,{default:s(()=>[e("div",ze,[e("div",$e,[De,Ue,e("div",Ne,[e("div",Ie,[e("div",{class:ae(["w-48 h-48 rounded-md",{"bg-gray-100 flex items-center justify-center":!d.user.image}])},[d.user.image?(c(),x("img",{key:0,src:`/images/profile/${d.user.image}`,class:"object-fit h-full",alt:""},null,8,Te)):p("",!0),Ee],2)]),e("div",null,[e("div",null,[Fe,e("p",Be,i(d.user.full_name),1)]),e("div",null,[Re,e("p",Le,i(d.user.gender),1)]),e("div",null,[je,e("p",Oe,i(d.user.contact_number),1)])]),e("div",null,[e("div",qe,[Ye,e("p",He,i(d.user.email),1)]),e("div",null,[Ge,e("p",We,i(d.user.birthday),1)]),e("div",null,[Je,e("p",Ke,i(d.user.created_at),1)])]),e("div",Qe,[Xe,e("p",Ze,i(d.user.address),1)])])])]),e("div",et,[e("div",tt,[e("div",st,[e("div",ot,[e("div",lt,[at,rt,e("div",nt,[l(b,{label:"Filter Appointment",class:"w-56"},{default:s(()=>[l(Ae,{onChange:n(ye),modelValue:n(V),"onUpdate:modelValue":a[0]||(a[0]=t=>Ce(V)?V.value=t:V=t)},{default:s(()=>[it,ct,dt]),_:1},8,["onChange","modelValue"])]),_:1})]),e("div",ut,[e("table",mt,[pt,e("tbody",_t,[(c(!0),x(W,null,re(d.user.appointments,(t,ge)=>{var X,Z,ee,te,se;return c(),x("tr",{key:ge,class:ae(["hover:bg-gray-100",{"bg-red-100":t.deleted_at}])},[e("td",ht,i(t.id),1),e("td",ft,[l(ne,{label:t.appointment_status,color:n(ie)(t.appointment_status)},null,8,["label","color"])]),e("td",vt,i(t.schedule),1),e("td",yt,i(n(Me)(t.message)),1),e("td",gt,i(n(I)(t.subtotal)),1),e("td",xt,i((Z=(X=t.payment)==null?void 0:X.payment_type)!=null?Z:"N/A"),1),e("td",bt,[l(ne,{label:t.payment_status,color:n(ie)(t.payment_status)},null,8,["label","color"])]),e("td",wt,i(t.created_at),1),e("td",kt,i(t.deleted_at),1),e("td",Ct,[l(u,{text:"",size:"sm",onClick:D=>{P(),r.value=t}},{default:s(()=>[St]),_:2},1032,["onClick"]),!t.deleted_at&&t.appointment_status!="Finished"&&t.appointment_status!="Approved"&&!o.$page.props.auth.user.is_admin?(c(),f(u,{key:0,onClick:D=>{E.value=!1,Y(t)},text:"",size:"sm",color:"success"},{default:s(()=>[Pt]),_:2},1032,["onClick"])):p("",!0),(o.$page.props.auth.user.is_admin||t.payment_status!=="Pending")&&!t.deleted_at&&t.appointment_status=="Finished"?(c(),f(u,{key:1,"is-link":"",href:o.route("certificate.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Vt]),_:2},1032,["href"])):p("",!0),o.$page.props.auth.user.is_admin?(c(),f(u,{key:2,onClick:h(D=>z(t.id,t.prescription),["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[At]),_:2},1032,["onClick"])):p("",!0),!o.$page.props.auth.user.is_admin&&t.payment_status=="Paid"&&t.prescription!=null?(c(),f(u,{key:3,"is-link":"",href:o.route("prescription.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Mt]),_:2},1032,["href"])):p("",!0),((ee=t.payment)==null?void 0:ee.payment_type)=="Stripe"&&t.payment_status=="Paid"?(c(),f(u,{key:4,color:"success","is-link":"",text:"",size:"sm",href:(te=t.payment)==null?void 0:te.receipt_url,target:"_"},{default:s(()=>[zt]),_:2},1032,["href"])):p("",!0),((se=t.payment)==null?void 0:se.payment_type)=="On-Branch"&&t.payment_status=="Paid"?(c(),f(u,{key:5,"is-link":"",href:o.route("invoice.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[$t]),_:2},1032,["href"])):p("",!0),!t.deleted_at&&t.payment_status!="Paid"&&(t.appointment_status=="Approved"||t.appointment_status=="Finished")?(c(),f(u,{key:6,onClick:h(D=>{Q(o.$page.props.auth.user.is_admin),r.value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[Dt]),_:2},1032,["onClick"])):p("",!0),t.deleted_at?p("",!0):(c(),f(u,{key:7,onClick:h(D=>{$(),r.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Ut]),_:2},1032,["onClick"]))])],2)}),128)),d.user.appointments.length==0?(c(),x("tr",Nt,Tt)):p("",!0)])])])])])])])]),L.value?(c(),f(k,{key:0,onClose:P},{title:s(()=>[Et,Ft]),body:s(()=>[Bt,e("p",Rt," Full Name: "+i(r.value.patient.full_name),1),e("p",Lt," Email: "+i(r.value.patient.email),1),e("p",jt," Gender: "+i(r.value.patient.gender),1),Ot,e("p",qt," Schedule: "+i(r.value.schedule),1),e("p",Yt," Message: "+i(r.value.message),1),e("p",Ht," Created: "+i(r.value.created_at),1),Gt,(c(!0),x(W,null,re(r.value.services,t=>(c(),x("p",{class:"text-sm",key:t.id},i(t.service.service)+" - "+i(n(I)(t.service.price)),1))),128))]),footer:s(()=>[l(u,{onClick:h(P,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Wt]),_:1},8,["onClick"]),r.value.deleted_at==null&&r.value.appointment_status=="Approved"&&r.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(c(),f(u,{key:0,onClick:h(fe,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Jt]),_:1},8,["onClick"])):p("",!0),r.value.deleted_at==null&&r.value.appointment_status=="Pending"&&r.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(c(),f(u,{key:1,onClick:h(he,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Kt]),_:1},8,["onClick"])):p("",!0)]),_:1})):p("",!0),B.value?(c(),f(k,{key:1,onClose:$},{title:s(()=>[Qt]),body:s(()=>[Xt]),footer:s(()=>[l(u,{onClick:h($,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Zt]),_:1},8,["onClick"]),l(u,{onClick:h(pe,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[es]),_:1},8,["onClick"])]),_:1})):p("",!0),j.value?(c(),f(k,{key:2,onClose:z},{title:s(()=>[ts,ss]),body:s(()=>[e("form",os,[l(b,{label:"Prescription",for:"prescription",class:"mt-3",error:d.errors.prescription},{default:s(()=>[l(N,{modelValue:n(g).prescription,"onUpdate:modelValue":a[1]||(a[1]=t=>n(g).prescription=t),id:"prescription",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"]),l(b,{label:"Additional Note",for:"prescription-additional",class:"mt-3",error:d.errors.note},{default:s(()=>[l(N,{modelValue:n(g).note,"onUpdate:modelValue":a[2]||(a[2]=t=>n(g).note=t),id:"prescription-additional",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:s(()=>[l(u,{onClick:h(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ls]),_:1},8,["onClick"]),l(u,{onClick:h(me,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[as]),_:1},8,["onClick"])]),_:1})):p("",!0),A.value?(c(),f(k,{key:3,onClose:o.toggleStripePaymentModal},{title:s(()=>[rs,ns]),body:s(()=>[M.value?(c(),x("div",is,ds)):p("",!0),Se(e("div",null,ps,512),[[Pe,!M.value]]),l(b,{for:"payment_fname",error:d.errors.schedule,label:"Full Name",class:"mt-1 mb-3"},{default:s(()=>[l(U,{disabled:"",type:"text",id:"payment_fname",modelValue:r.value.patient.full_name,"onUpdate:modelValue":a[3]||(a[3]=t=>r.value.patient.full_name=t),"aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"]),l(b,{for:"payment_fname",error:d.errors.schedule,label:"Address",class:"mt-3 mb-3"},{default:s(()=>[l(N,{type:"text",id:"payment_fname",modelValue:r.value.patient.address,"onUpdate:modelValue":a[4]||(a[4]=t=>r.value.patient.address=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[l(u,{onClick:h(o.toggleStripePaymentModal,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[_s]),_:1},8,["onClick"]),l(u,{onClick:h(ue,["prevent"]),text:"",size:"sm",color:"success",disabled:n(w)},{default:s(()=>[m(i(n(w)?"Processing..":"Proceed"),1)]),_:1},8,["onClick","disabled"])]),_:1},8,["onClose"])):p("",!0),S.value?(c(),f(k,{key:4,onClose:O},{title:s(()=>[hs,fs]),body:s(()=>[l(b,{for:"payment_fname",error:d.errors.schedule,label:"Amount Tendered",class:"mt-3 mb-3"},{default:s(()=>[l(U,{type:"number",id:"amounttendered",modelValue:n(C).amount_tendered,"onUpdate:modelValue":a[5]||(a[5]=t=>n(C).amount_tendered=t)},null,8,["modelValue"])]),_:1},8,["error"]),l(b,{for:"subtotal",error:d.errors.subtotal,label:"Subtotal",class:"mt-3 mb-3"},{default:s(()=>[l(U,{type:"number",id:"subtotal",modelValue:r.value.subtotal,"onUpdate:modelValue":a[6]||(a[6]=t=>r.value.subtotal=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[l(u,{onClick:h(O,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[vs]),_:1},8,["onClick"]),l(u,{onClick:h(de,["prevent"]),text:"",size:"sm",color:"success",disabled:n(w)},{default:s(()=>[m(i(n(w)?"Processing..":"Proceed Payment"),1)]),_:1},8,["onClick","disabled"])]),_:1})):p("",!0),F.value?(c(),f(k,{key:5,onClose:Y},{title:s(()=>[e("p",ys,i(E.value?"New Appointment":"Update Appointment"),1),gs]),body:s(()=>[e("form",xs,[l(b,{for:"appointment",error:d.errors.schedule,label:"Date and Time",class:"mt-3"},{default:s(()=>[l(U,{type:"datetime-local",id:"appointment",modelValue:n(_).schedule,"onUpdate:modelValue":a[7]||(a[7]=t=>n(_).schedule=t)},null,8,["modelValue"])]),_:1},8,["error"]),l(b,{for:"message",error:d.errors.message,label:"Message",class:"mt-2"},{default:s(()=>[l(N,{id:"message",modelValue:n(_).message,"onUpdate:modelValue":a[8]||(a[8]=t=>n(_).message=t)},null,8,["modelValue"])]),_:1},8,["error"]),bs,l(n(ce),{modelValue:n(_).selected_services,"onUpdate:modelValue":a[9]||(a[9]=t=>n(_).selected_services=t),options:o.services,multiple:!0,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"service","track-by":"id"},{option:s(t=>[e("div",ws,[e("span",ks,i(t.option.service),1),e("span",Cs,i(n(I)(t.option.price)),1)])]),_:1},8,["modelValue","options"]),d.errors.selected_services?(c(),x("p",Ss,i(d.errors.selected_services),1)):p("",!0),o.$page.props.auth.user.is_admin?(c(),x("div",Ps,[Vs,l(n(ce),{modelValue:n(_).user_id,"onUpdate:modelValue":a[10]||(a[10]=t=>n(_).user_id=t),onSearchChange:o.searchPatient,options:o.users,multiple:!1,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"full_name","track-by":"id",disabled:!E.value},null,8,["modelValue","onSearchChange","options","disabled"]),d.errors.user_id?(c(),x("p",As,i(d.errors.user_id),1)):p("",!0)])):p("",!0),e("p",Ms," Subtotal: "+i(n(I)(n(_).subtotal)),1)])]),footer:s(()=>[l(u,{onClick:h(Y,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[zs]),_:1},8,["onClick"]),l(u,{onClick:h(o.initiateMethod,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[$s]),_:1},8,["onClick"])]),_:1})):p("",!0),R.value?(c(),f(k,{key:6,onClose:q},{title:s(()=>[Ds]),body:s(()=>[Us]),footer:s(()=>[l(u,{onClick:h(q,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ns]),_:1},8,["onClick"]),l(u,{onClick:h(_e,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Is]),_:1},8,["onClick"])]),_:1})):p("",!0)]),_:1})],64))}};export{Ws as default};
