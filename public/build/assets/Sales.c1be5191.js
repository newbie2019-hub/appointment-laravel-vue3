import{_ as C}from"./Authenticated.3c22b79c.js";import{_ as g}from"./Button.c41582d3.js";import{r as N,l as M,d as B,o as i,b as d,e as c,f as o,H,g as x,F as v,i as e,j as s,s as b,k as O,n as T,q as k,y as n}from"./app.82a4afc8.js";import{_ as $,a as R}from"./Modal.vue_vue_type_style_index_0_lang.f7029039.js";import{P as z}from"./Pagination.00129176.js";import{f as D,a as m}from"./Utilities.5f54765f.js";import{_ as F,a as L}from"./AreaChart.eaed1f0a.js";import"./plugin-vue_export-helper.21dcd24c.js";const K=e("div",{class:"px-6 max-w-8xl lg:px-8"},[e("div",{class:"mx-auto mt-6 sm:px-6 lg:px-8"},[e("p",{class:"text-xl font-medium"},"Sales Summary"),e("p",null,"Here is an overview of your sales.")])],-1),q={class:"px-6 max-w-8xl lg:px-8"},E={class:"flex flex-wrap py-8 max-w-8xl sm:px-6 lg:px-8 gap-x-4 md:flex-row gap-y-4"},U={class:"flex-1 p-4 text-white bg-orange-500 rounded-md"},G={class:"flex justify-between"},J={class:"flex items-center text-4xl"},Q=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Todays "),e("br"),n("Appointments ")])],-1),W=e("span",{class:"sr-only"},"Todays Appointments",-1),X={class:"flex-1 p-4 text-white bg-blue-600 rounded-md"},Y={class:"flex justify-between"},Z={class:"flex items-center text-4xl"},ee=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Monthly "),e("br"),n("Income ")])],-1),te=e("span",{class:"sr-only"},"Monthly Income",-1),se={class:"flex-1 p-4 text-white bg-green-600 rounded-md"},oe={class:"flex justify-between"},ae={class:"flex items-center text-4xl"},le=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Annual "),e("br"),n("Income ")])],-1),ne=e("span",{class:"sr-only"},"Annual Income",-1),ie={class:""},ce={class:"mx-auto max-w-8xl sm:px-6 lg:px-8"},re={key:0,class:"px-6 max-w-8xl lg:px-8"},pe={class:"md:flex gap-x-2"},de={class:"flex-1 w-full md:w-1/2"},me=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"}," Services Summary "),e("p",{class:"text-sm"}," Monthly overview of services booked by patients. ")],-1),xe={class:"flex-1 w-full md:w-1/2"},he=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"}," Completed Appointments "),e("p",{class:"text-sm"}," Here is an overview of your completed appointments for this week. ")],-1),_e={class:"px-6 mx-auto max-w-8xl lg:px-8"},ue={class:"py-8"},fe={class:"mx-auto max-w-8xl sm:px-6 lg:px-8"},ye={class:"overflow-x-auto sm:rounded-lg"},we={class:""},ge={class:"pb-6 mx-auto bg-white rounded-lg max-w-8xl"},ve=e("p",{class:"text-xl font-medium"}," Payment Records ",-1),be=e("p",{class:"text-sm text-gray-700"}," Shown below are the records of your payment transactions. ",-1),ke={class:"flex justify-end mt-7 mb-7"},Se={class:"overflow-x-auto"},Ie={class:"min-w-full divide-y divide-gray-300"},Ve=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Appt. ID "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Patient "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Schedule "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Payment Type "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Total "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Amount Tendered "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Change "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Receipt ")])],-1),je={class:"bg-white divide-y divide-gray-300"},Ae={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Pe={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ce={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ne={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Me={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Be={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},He={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Oe={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Te={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},$e=n("View Receipt"),Re=n("View Receipt"),ze={key:0},De=e("td",{colspan:"8"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"}," No data available .. ")],-1),Fe=[De],Le={class:"mt-2 text-sm text-gray-500"},Xe={__name:"Sales",props:{errors:Object,filters:Object,appointmentsIncome:Number,todaysAppointment:Number,payments:Object,monthlyIncome:[String,Number],annualIncome:[String,Number],chartServices:Object,appointments:Object,appointmentsIncome:[Object,Array]},setup(a){const r=a,S=r.chartServices.map(l=>l.service),I=r.chartServices.map(l=>l.monthly_appointments_count),V=r.appointmentsIncome.map(l=>l.date),j=[{name:"Income",data:r.appointmentsIncome.map(l=>String(l.subtotal))}];let p=N(r.filters.search);const A=M.exports.debounce(()=>{B.Inertia.get("/sales",{search:p.value},{preserveState:!0,only:["payments"]})},300);return(l,h)=>(i(),d(v,null,[c(o(H),{title:"Patient Appointments"}),c(C,null,{default:x(()=>{var _,u,f;return[K,e("div",q,[e("div",E,[e("div",U,[e("div",G,[e("div",J,s(o(D)(a.todaysAppointment)),1),Q]),W]),e("div",X,[e("div",Y,[e("div",Z,s(o(m)(a.monthlyIncome)),1),ee]),te]),e("div",se,[e("div",oe,[e("div",ae,s(o(m)(a.annualIncome)),1),le]),ne])])]),e("div",ie,[e("div",ce,[l.$page.props.auth.user.is_admin?(i(),d("div",re,[e("div",pe,[e("div",de,[me,c(F,{labels:o(S),series:o(I)},null,8,["labels","series"])]),e("div",xe,[he,c(L,{labels:o(V),series:j},null,8,["labels"])])])])):b("",!0)])]),e("div",_e,[e("div",ue,[e("div",fe,[e("div",ye,[e("div",we,[e("div",ge,[ve,be,e("div",ke,[c($,{label:"Search Payment",for:"search",class:"w-52 md:w-64"},{default:x(()=>[c(R,{modelValue:o(p),"onUpdate:modelValue":h[0]||(h[0]=t=>O(p)?p.value=t:p=t),onKeyup:o(A),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",Se,[e("table",Ie,[Ve,e("tbody",je,[(i(!0),d(v,null,T(a.payments.data,(t,P)=>{var y,w;return i(),d("tr",{key:P,class:"hover:bg-gray-100"},[e("td",Ae,s(t.id),1),e("td",Pe,s(t.appointment.id),1),e("td",Ce,s((w=(y=t.appointment)==null?void 0:y.patient)==null?void 0:w.full_name),1),e("td",Ne,s(t.appointment.schedule),1),e("td",Me,s(t.is_installment?"Partial Payment":"Full Payment"),1),e("td",Be,s(o(m)(t.total)),1),e("td",He,s(o(m)(t.amount_tendered)),1),e("td",Oe,s(o(m)(t.change)),1),e("td",Te,[t.payment_type=="Stripe"?(i(),k(g,{key:0,text:"","is-link":"",color:"success",size:"sm",href:t.receipt_url,target:"_"},{default:x(()=>[$e]),_:2},1032,["href"])):(i(),k(g,{key:1,"is-link":"",href:l.route("invoice.generate",t.appointment.id),text:"",size:"sm",color:"success"},{default:x(()=>[Re]),_:2},1032,["href"]))])])}),128)),a.payments.data.length==0?(i(),d("tr",ze,Fe)):b("",!0)])])]),e("p",Le," Showing "+s((_=a.payments.from)!=null?_:0)+" to "+s((u=a.payments.to)!=null?u:0)+" out of "+s((f=a.payments.total)!=null?f:0)+" payment records. ",1),c(z,{links:a.payments.links,right:""},null,8,["links"])])])])])])])]}),_:1})],64))}};export{Xe as default};
