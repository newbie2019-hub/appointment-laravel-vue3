import{_ as A}from"./Authenticated.1bbbafe3.js";import{_ as y}from"./Button.da488c26.js";import{r as P,l as C,d as N,o as i,b as d,e as c,f as o,H as M,g as x,F as w,i as e,j as s,s as g,k as B,n as H,q as v,y as n}from"./app.561a9f05.js";import{_ as O,a as T}from"./Modal.vue_vue_type_style_index_0_lang.e58f0ff6.js";import{P as $}from"./Pagination.90a95c60.js";import{f as R,a as m}from"./Utilities.5f54765f.js";import{_ as z,a as D}from"./AreaChart.af135cb1.js";import"./plugin-vue_export-helper.21dcd24c.js";const F=e("div",{class:"px-6 max-w-8xl lg:px-8"},[e("div",{class:"mx-auto mt-6 sm:px-6 lg:px-8"},[e("p",{class:"text-xl font-medium"},"Sales Summary"),e("p",null,"Here is an overview of your sales.")])],-1),L={class:"px-6 max-w-8xl lg:px-8"},K={class:"flex flex-wrap py-8 max-w-8xl sm:px-6 lg:px-8 gap-x-4 md:flex-row gap-y-4"},q={class:"flex-1 p-4 text-white bg-orange-500 rounded-md"},E={class:"flex justify-between"},U={class:"flex items-center text-4xl"},G=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Todays "),e("br"),n("Appointments ")])],-1),J=e("span",{class:"sr-only"},"Todays Appointments",-1),Q={class:"flex-1 p-4 text-white bg-blue-600 rounded-md"},W={class:"flex justify-between"},X={class:"flex items-center text-4xl"},Y=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Monthly "),e("br"),n("Income ")])],-1),Z=e("span",{class:"sr-only"},"Monthly Income",-1),ee={class:"flex-1 p-4 text-white bg-green-600 rounded-md"},te={class:"flex justify-between"},se={class:"flex items-center text-4xl"},oe=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[n(" Annual "),e("br"),n("Income ")])],-1),ae=e("span",{class:"sr-only"},"Annual Income",-1),le={class:""},ne={class:"mx-auto max-w-8xl sm:px-6 lg:px-8"},ie={key:0,class:"px-6 max-w-8xl lg:px-8"},ce={class:"md:flex gap-x-2"},re={class:"flex-1 w-full md:w-1/2"},pe=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"}," Services Summary "),e("p",{class:"text-sm"}," Monthly overview of services booked by patients. ")],-1),de={class:"flex-1 w-full md:w-1/2"},me=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"}," Completed Appointments "),e("p",{class:"text-sm"}," Here is an overview of your completed appointments for this week. ")],-1),xe={class:"px-6 mx-auto max-w-8xl lg:px-8"},he={class:"py-8"},_e={class:"mx-auto max-w-8xl sm:px-6 lg:px-8"},ue={class:"overflow-x-auto sm:rounded-lg"},fe={class:""},ye={class:"pb-6 mx-auto bg-white rounded-lg max-w-8xl"},we=e("p",{class:"text-xl font-medium"}," Payment Records ",-1),ge=e("p",{class:"text-sm text-gray-700"}," Shown below are the records of your payment transactions. ",-1),ve={class:"flex justify-end mt-7 mb-7"},be={class:"overflow-x-auto"},ke={class:"min-w-full divide-y divide-gray-300"},Se=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Appt. ID "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Patient "),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"}," Schedule "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Payment Type "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Total "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Amount Tendered "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Change "),e("th",{scope:"col",class:"px-3 py-3.5 text-left"}," Receipt ")])],-1),Ie={class:"bg-white divide-y divide-gray-300"},Ve={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},je={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ae={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Pe={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ce={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ne={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Me={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Be={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},He={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Oe=n("View Receipt"),Te=n("View Receipt"),$e={key:0},Re=e("td",{colspan:"8"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"}," No data available .. ")],-1),ze=[Re],De={class:"mt-2 text-sm text-gray-500"},Qe={__name:"Sales",props:{errors:Object,filters:Object,appointmentsIncome:Number,todaysAppointment:Number,payments:Object,monthlyIncome:[String,Number],annualIncome:[String,Number],chartServices:Object,appointments:Object,appointmentsIncome:[Object,Array]},setup(a){const r=a,b=r.chartServices.map(l=>l.service),k=r.chartServices.map(l=>l.monthly_appointments_count),S=r.appointmentsIncome.map(l=>l.date),I=[{name:"Income",data:r.appointmentsIncome.map(l=>String(l.subtotal))}];let p=P(r.filters.search);const V=C.exports.debounce(()=>{N.Inertia.get("/sales",{search:p.value},{preserveState:!0,only:["payments"]})},300);return(l,h)=>(i(),d(w,null,[c(o(M),{title:"Patient Appointments"}),c(A,null,{default:x(()=>{var _,u,f;return[F,e("div",L,[e("div",K,[e("div",q,[e("div",E,[e("div",U,s(o(R)(a.todaysAppointment)),1),G]),J]),e("div",Q,[e("div",W,[e("div",X,s(o(m)(a.monthlyIncome)),1),Y]),Z]),e("div",ee,[e("div",te,[e("div",se,s(o(m)(a.annualIncome)),1),oe]),ae])])]),e("div",le,[e("div",ne,[l.$page.props.auth.user.is_admin?(i(),d("div",ie,[e("div",ce,[e("div",re,[pe,c(z,{labels:o(b),series:o(k)},null,8,["labels","series"])]),e("div",de,[me,c(D,{labels:o(S),series:I},null,8,["labels"])])])])):g("",!0)])]),e("div",xe,[e("div",he,[e("div",_e,[e("div",ue,[e("div",fe,[e("div",ye,[we,ge,e("div",ve,[c(O,{label:"Search Payment",for:"search",class:"w-52 md:w-64"},{default:x(()=>[c(T,{modelValue:o(p),"onUpdate:modelValue":h[0]||(h[0]=t=>B(p)?p.value=t:p=t),onKeyup:o(V),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",be,[e("table",ke,[Se,e("tbody",Ie,[(i(!0),d(w,null,H(a.payments.data,(t,j)=>(i(),d("tr",{key:j,class:"hover:bg-gray-100"},[e("td",Ve,s(t.id),1),e("td",je,s(t.appointment.id),1),e("td",Ae,s(t.appointment.patient.full_name),1),e("td",Pe,s(t.appointment.schedule),1),e("td",Ce,s(t.is_installment?"Partial Payment":"Full Payment"),1),e("td",Ne,s(o(m)(t.total)),1),e("td",Me,s(o(m)(t.amount_tendered)),1),e("td",Be,s(o(m)(t.change)),1),e("td",He,[t.payment_type=="Stripe"?(i(),v(y,{key:0,text:"","is-link":"",color:"success",size:"sm",href:t.receipt_url,target:"_"},{default:x(()=>[Oe]),_:2},1032,["href"])):(i(),v(y,{key:1,"is-link":"",href:l.route("invoice.generate",t.appointment.id),text:"",size:"sm",color:"success"},{default:x(()=>[Te]),_:2},1032,["href"]))])]))),128)),a.payments.data.length==0?(i(),d("tr",$e,ze)):g("",!0)])])]),e("p",De," Showing "+s((_=a.payments.from)!=null?_:0)+" to "+s((u=a.payments.to)!=null?u:0)+" out of "+s((f=a.payments.total)!=null?f:0)+" payment records. ",1),c($,{links:a.payments.links,right:""},null,8,["links"])])])])])])])]}),_:1})],64))}};export{Qe as default};
