import{r as f,a as W,c as J,u as Q,l as X,d as V,o as i,b as p,e as n,f as a,H as Y,g as l,F as S,h as Z,i as e,s as d,j as s,L as ee,k as N,n as T,p as te,y as r,q as b,m as v}from"./app.b8a1a93f.js";import{_ as se}from"./Authenticated.6a1dd850.js";import{f as $,c as I,s as oe,a as B}from"./Utilities.5f54765f.js";import{_ as ae}from"./FloatingSelect.fdcdf843.js";import{_ as D}from"./Modal.vue_vue_type_style_index_0_lang.ea330aa1.js";import{_ as L}from"./Modal.1c90be1c.js";import{_ as le}from"./FloatingInput.2348f682.js";import{_}from"./Button.c860ac69.js";import{_ as P}from"./Chip.4c862072.js";import{_ as ne}from"./Calendar.dcb6f9ba.js";import"./vue-multiselect.esm.d3fb6852.js";import{_ as ie,a as re}from"./AreaChart.26acc48a.js";import"./moment.9709ab41.js";const ce={class:"px-6 max-w-8xl lg:px-8"},pe={key:0,class:"overflow-hidden bg-white sm:rounded-lg"},de=e("div",{class:"p-6"},[e("p",{class:"text-xl font-medium"},"Welcome to Dashboard"),e("p",{class:"text-sm text-gray-600"},"Shown below are the summary of your transactions and records.")],-1),me=[de],ue={key:1,class:"flex flex-wrap max-w-8xl sm:px-6 lg:px-8 gap-y-4 gap-x-4"},_e={class:"flex-1 p-4 text-white bg-green-600 rounded-md md:max-w-md"},he={class:"flex justify-between"},xe={class:"flex items-center text-9xl"},fe=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[r("Total "),e("br"),r("Services")])],-1),ve=e("span",{class:"sr-only"},"Total Services",-1),we={class:"flex-1 p-4 text-white bg-blue-600 rounded-md md:max-w-md"},ge={class:"flex justify-between"},ye={class:"flex items-center text-9xl"},be=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[r("Total "),e("br"),r("Patients")])],-1),ke=e("span",{class:"sr-only"},"Total Patients",-1),Ce={class:"flex-1 p-4 text-white bg-orange-600 rounded-md"},Ae={class:"flex justify-between"},Se={class:"flex items-center text-9xl"},$e=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"font-medium leading-5 tracking-wider text-right uppercase"},[r("Today's "),e("br"),r("Appointments")])],-1),je=e("span",{class:"sr-only"},"Today's Appointments",-1),ze={key:2,class:"px-6 max-w-8xl lg:px-8"},Me={class:"md:flex gap-x-2"},Ve={class:"flex-1 w-full md:w-1/2"},Ne=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"},"Services Summary"),e("p",{class:"text-sm"},"Monthly overview of services booked by patients.")],-1),Te={class:"flex-1 w-full md:w-1/2"},Ie=e("div",{class:"mt-8 mb-8"},[e("p",{class:"text-xl font-medium"},"Completed Appointments"),e("p",{class:"text-sm"},"Here is an overview of your completed appointments for this week.")],-1),Be={class:"px-6 max-w-8xl lg:px-8"},De=e("div",{class:"mt-8 mb-6"},[e("p",{class:"text-xl font-medium"},"Appointment Calendar"),e("p",null,"Here is an overview of your appointments.")],-1),Le={class:"flex-1 w-full"},Pe={class:"pb-6 mt-10 bg-white border-gray-200 rounded-lg max-w-8xl sm:px-6 lg:px-8"},He={class:"flex items-center justify-between"},Oe=e("div",null,[e("p",{class:"text-xl font-medium"},"Latest Appointments"),e("p",{class:"text-sm text-gray-700"},"Shown below are the latest appointments.")],-1),Fe=r(" View All "),Ee=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),qe={class:"flex justify-between mb-6 mt-7 gap-x-2"},Ke=e("option",{value:"with"},"All Appointments",-1),Ue=e("option",{value:""},"Active Appointments",-1),Ge=e("option",{value:"only"},"Trashed Appointments",-1),Re={class:"flex gap-x-2"},We={class:"overflow-x-auto"},Je={class:"min-w-full divide-y divide-gray-300"},Qe=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Status"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Patient"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Email"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Schedule"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Message"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Sub Total"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Payment"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Created On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Deleted On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"},"Actions")])],-1),Xe={class:"bg-white divide-y divide-gray-200"},Ye={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ze={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6 gap-x-2"},et={class:"flex items-center gap-x-2"},tt={class:"flex items-center justify-center w-8 h-8 bg-blue-500 border-gray-100 rounded-full"},st={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-10 h-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},ot=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),at=[ot],lt=["src"],nt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},it={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},rt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ct={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},pt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},dt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},mt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},ut={class:"relative py-4 pl-3 pr-4 text-sm whitespace-nowrap sm:pr-6"},_t=r("Details"),ht=r("Trash"),xt={key:0},ft=e("td",{colspan:"9"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"},"No data available ..")],-1),vt=[ft],wt=e("p",{class:"mt-2 text-sm text-gray-500"},"Showing the latest entry of appointments from patients.",-1),gt=e("p",{class:"text-xl font-bold"},"Appointment Information",-1),yt=e("p",{class:"text-sm text-gray-600"},"Here are the informations for this appointment",-1),bt=e("p",{class:"mt-3 mb-2"},"Patient Information",-1),kt={class:"text-sm"},Ct={class:"text-sm"},At={class:"text-sm"},St=e("p",{class:"mt-4 mb-2"},"Appointment Information",-1),$t={class:"text-sm"},jt={class:"text-sm"},zt={class:"text-sm"},Mt=e("p",{class:"mt-4 mb-2"},"Services Selected",-1),Vt=r("Close"),Nt=r("Approve"),Tt=e("p",{class:"text-xl font-bold"},"Confirm Delete",-1),It=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored.",-1),Bt=r("Close"),Dt=r("Confirm"),Qt={__name:"Dashboard",props:{totalInquiries:Number,patientsCount:Number,servicesCount:Number,todaysAppointment:Number,appointments:Object,filters:Object,chartServices:Object,appointmentsIncome:[Object,Array]},setup(m){const u=m,k=f(!1),C=f(!1),c=f({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),H=W({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""}),O=u.chartServices.map(o=>o.service),F=u.chartServices.map(o=>o.monthly_appointments_count),E=u.appointmentsIncome.map(o=>o.date),q=[{name:"Income",data:u.appointmentsIncome.map(o=>String(o.subtotal))}],K=()=>{H.put(`/appointments/approve/${c.value.id}`,{preserveState:!0,onError:()=>{A.error("Something went wrong")},onSuccess:()=>{A.success("Appointment has been approved successfully!"),g()}})},U=()=>{V.Inertia.delete(`/appointments/${c.value.id}`,{preserveState:!0,onSuccess:()=>{A.success("Appointment has been moved to trash successfully!"),w()}})},w=()=>{k.value=!k.value},g=()=>{C.value=!C.value};J(()=>{var o;return(o=Z().props.value.errors.error)!=null?o:"Something went wrong"});const A=Q();let h=f(u.filters.search),x=f(u.filters.trashed);const j=X.exports.debounce(()=>{V.Inertia.get("/dashboard",{search:h.value,trashed:x.value},{preserveState:!0,only:["appointments"]})},300);return(o,y)=>(i(),p(S,null,[n(a(Y),{title:"Dashboard"}),n(se,null,{default:l(()=>[e("div",ce,[o.$page.props.auth.user.is_admin?(i(),p("div",pe,me)):d("",!0),o.$page.props.auth.user.is_admin?(i(),p("div",ue,[e("div",_e,[e("div",he,[e("div",xe,s(a($)(m.servicesCount)),1),fe]),ve]),e("div",we,[e("div",ge,[e("div",ye,s(a($)(m.patientsCount)),1),be]),ke]),e("div",Ce,[e("div",Ae,[e("div",Se,s(a($)(m.todaysAppointment)),1),$e]),je])])):d("",!0),o.$page.props.auth.user.is_admin?(i(),p("div",ze,[e("div",Me,[e("div",Ve,[Ne,n(ie,{labels:a(O),series:a(F)},null,8,["labels","series"])]),e("div",Te,[Ie,n(re,{labels:a(E),series:q},null,8,["labels"])])])])):d("",!0),e("div",Be,[De,e("div",Le,[n(ne,{data:m.appointments},null,8,["data"])])]),e("div",Pe,[e("div",He,[Oe,n(a(ee),{href:o.route("appointments.index"),class:"flex items-center font-medium transition duration-200 ease-in-out hover:translate-x-1 hover:text-blue-500 gap-x-1"},{default:l(()=>[Fe,Ee]),_:1},8,["href"])]),e("div",qe,[n(D,{label:"Filter Appointment",class:"w-52"},{default:l(()=>[n(ae,{onChange:a(j),modelValue:a(x),"onUpdate:modelValue":y[0]||(y[0]=t=>N(x)?x.value=t:x=t)},{default:l(()=>[Ke,Ue,Ge]),_:1},8,["onChange","modelValue"])]),_:1}),e("div",Re,[n(D,{label:"Search Appointment",for:"search"},{default:l(()=>[n(le,{modelValue:a(h),"onUpdate:modelValue":y[1]||(y[1]=t=>N(h)?h.value=t:h=t),id:"search",onKeyup:a(j)},null,8,["modelValue","onKeyup"])]),_:1})])]),e("div",We,[e("table",Je,[Qe,e("tbody",Xe,[(i(!0),p(S,null,T(m.appointments,(t,G)=>{var z,M;return i(),p("tr",{key:G,class:te(["hover:bg-gray-100",{"bg-red-100":t.deleted_at}])},[e("td",Ye,[n(P,{label:t.appointment_status,color:a(I)(t.appointment_status)},null,8,["label","color"])]),e("td",Ze,[e("div",et,[e("div",tt,[(z=t.patient)!=null&&z.image?d("",!0):(i(),p("svg",st,at)),e("img",{src:`images/profile/${(M=t.patient)==null?void 0:M.image}`,class:"h-full rounded-full object-fit",alt:""},null,8,lt)]),r(" "+s(t.patient.full_name),1)])]),e("td",nt,s(t.patient.email),1),e("td",it,s(t.schedule),1),e("td",rt,s(a(oe)(t.message)),1),e("td",ct,s(a(B)(t.subtotal)),1),e("td",pt,[n(P,{label:t.payment_status,color:a(I)(t.payment_status)},null,8,["label","color"])]),e("td",dt,s(t.created_at),1),e("td",mt,s(t.deleted_at),1),e("td",ut,[n(_,{text:"",size:"sm",onClick:R=>{g(),c.value=t}},{default:l(()=>[_t]),_:2},1032,["onClick"]),!t.deleted_at&&(t.appointment_status==="Pending"||o.$page.props.auth.user.is_admin)?(i(),b(_,{key:0,onClick:v(R=>{w(),c.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:l(()=>[ht]),_:2},1032,["onClick"])):d("",!0)])],2)}),128)),m.appointments.length==0?(i(),p("tr",xt,vt)):d("",!0)])])]),wt]),C.value?(i(),b(L,{key:3,onClose:g},{title:l(()=>[gt,yt]),body:l(()=>[bt,e("p",kt,"Full Name: "+s(c.value.patient.full_name),1),e("p",Ct,"Email: "+s(c.value.patient.email),1),e("p",At,"Gender: "+s(c.value.patient.gender),1),St,e("p",$t,"Schedule: "+s(c.value.schedule),1),e("p",jt,"Message: "+s(c.value.message),1),e("p",zt,"Created: "+s(c.value.created_at),1),Mt,(i(!0),p(S,null,T(c.value.services,t=>(i(),p("p",{class:"text-sm",key:t.id},s(t.service.service)+" - "+s(a(B)(t.service.price)),1))),128))]),footer:l(()=>[n(_,{onClick:v(g,["prevent"]),text:"",size:"sm",color:"gray"},{default:l(()=>[Vt]),_:1},8,["onClick"]),c.value.appointment_status=="Pending"&&c.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(i(),b(_,{key:0,onClick:v(K,["prevent"]),text:"",size:"sm",color:"success"},{default:l(()=>[Nt]),_:1},8,["onClick"])):d("",!0)]),_:1})):d("",!0),k.value?(i(),b(L,{key:4,onClose:w},{title:l(()=>[Tt]),body:l(()=>[It]),footer:l(()=>[n(_,{onClick:v(w,["prevent"]),text:"",size:"sm",color:"gray"},{default:l(()=>[Bt]),_:1},8,["onClick"]),n(_,{onClick:v(U,["prevent"]),text:"",size:"sm",color:"error"},{default:l(()=>[Dt]),_:1},8,["onClick"])]),_:1})):d("",!0)])]),_:1})],64))}};export{Qt as default};
