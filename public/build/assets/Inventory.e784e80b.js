import{a as ee,b as te,r as p,l as se,d as C,e as V,f as o,g as _,H as oe,h as s,F as B,i as d,j as e,k as r,m as D,n as u,p as le,q as ae,s as v,v as f,z as n}from"./app.aa3ae744.js";import{_ as ne}from"./Authenticated.2617b10b.js";import{_ as c}from"./Button.66830440.js";import{_ as w}from"./FloatingInput.de9702c3.js";import{_ as m}from"./FormInput.14e823b2.js";import{_ as F}from"./FloatingSelect.7cc5db65.js";import{P as re}from"./Pagination.bcedec3b.js";import{_ as M}from"./Modal.0589993a.js";import{f as O}from"./Utilities.5f54765f.js";/* empty css                                              */const ie={class:"max-w-8xl px-6 lg:px-8"},de=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Inventory Summary"),e("p",null,"Here is an overview of your inventory.")],-1),ue={class:"py-8 max-w-8xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-y-4 gap-x-4"},ce={class:"bg-red-500 flex-1 p-4 text-white rounded-md md:max-w-md"},pe={class:"flex justify-between"},me={class:"text-9xl flex items-center"},_e=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5"},[n("Trashed "),e("br"),n("Inventory")])],-1),he=e("span",{class:"sr-only"},"Trashed Inventory",-1),ve={class:"bg-green-600 flex-1 p-4 text-white rounded-md md:max-w-md"},ye={class:"flex justify-between"},xe={class:"text-9xl flex items-center"},fe=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[n("Total "),e("br"),n("Inventory")])],-1),we=e("span",{class:"sr-only"},"Total Inventory",-1),ge={class:"py-10"},ke={class:"max-w-8xl px-6 lg:px-8"},qe={class:"overflow-x-auto sm:rounded-lg"},be={class:""},Ce={class:"max-w-8xl mx-auto sm:px-6 lg:px-8 bg-white border-gray-200 rounded-lg pb-6"},Ve=e("p",{class:"text-xl font-medium"},"Inventory Equipment",-1),Se=e("p",{class:"text-sm text-gray-700"},"Shown below are your inventory equipments",-1),Ie={class:"flex justify-between mt-7 gap-x-2 mb-6"},Ee=e("option",{value:"with"},"All Equipments",-1),ze=e("option",{value:""},"Active Inventory",-1),Te=e("option",{value:"only"},"Trashed Inventory",-1),Fe={class:"flex gap-x-2"},Me=n("Add Equipment"),Ue={class:"overflow-x-auto"},$e={class:"min-w-full divide-y divide-gray-300"},je=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"ID"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Equipment"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Type"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Status"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Unit"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Quantity"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Remarks"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Added On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Deleted On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"},"Actions")])],-1),Re={class:"divide-y divide-gray-200 bg-white"},Ae={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Ne={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Be={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},De={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Oe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},He={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Pe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Le={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Ge={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-900 sm:pl-6"},Ke={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},Qe=n("Restore"),Je=n("Update"),We=n("Trash"),Xe={key:0},Ye=e("td",{colspan:"6"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"},"No data available ..")],-1),Ze=[Ye],et={class:"text-sm mt-2 text-gray-500"},tt=e("p",{class:"font-bold text-xl"},"Clinic Equipment",-1),st=e("p",{class:"text-sm text-gray-600"},"All input fields are required",-1),ot={action:"",class:"mt-2"},lt={class:"grid grid-cols-2 gap-x-0.5"},at=e("option",{value:"",disabled:""},"Please Select",-1),nt=e("option",{value:"1"},"Equipment",-1),rt=e("option",{value:"2"},"Consumables",-1),it=e("option",{value:"3"},"Basic Instruments",-1),dt=e("option",{value:"",disabled:""},"Please Select",-1),ut=e("option",{value:"1"},"Good Condition",-1),ct=e("option",{value:"2"},"For Repair",-1),pt=e("option",{value:"3"},"For Cleaning",-1),mt=e("option",{value:"4"},"For Disposal",-1),_t=n("Close"),ht=n("Save"),vt=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),yt=e("p",{class:"text-sm text-gray-600"},[n(" Are you sure you want to trash this equipment? "),e("span",{class:"text-sm text-red-500"},[e("br"),n("Note: This data can still be restored.")])],-1),xt=n("Close"),ft=n("Confirm"),wt=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),gt=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to make this equipment available again?",-1),kt=n("Close"),qt=n("Restore"),Ut={__name:"Inventory",props:{inventory:Object,inventoryCount:[Object,Number],errors:Object,filters:Object,trashedInventoryCount:Number},setup(i){const U=i,g=ee(),H=["Good Condition","For Repair","For Cleaning","For Disposal"],P=["Equipment","Consumable","Basic Instruments"],L=b=>H[b-1],G=b=>P[b-1],K=te({id:null,service:null,price:null});let y=p(U.filters.search),x=p(U.filters.trashed);const S=p(!1),I=p(!1),k=()=>{S.value=!S.value},h=()=>{I.value=!I.value},l=p({id:null,equipment:null,quantity:null,type:null,unit:null,status:null}),E=p(null),z=p(!1),T=p(!1),q=()=>{l.value={id:null,equipment:"",quantity:"",type:"",unit:null,status:""},T.value=!T.value},Q=()=>{z.value?J():X()},J=()=>{C.Inertia.post("/inventory",l.value,{preserveState:!0,onSuccess:()=>{g.success("Equipment has been added successfully!"),l.value={id:null,equipment:null,quantity:null,type:null,unit:null,status:null},h()}})},W=()=>{C.Inertia.delete(`/inventory/${E.value}`,{preserveState:!0,onFinish:()=>{k()},onSuccess:()=>{g.success("Equipment has been moved to trash successfully!"),E.value=null}})},X=()=>{C.Inertia.put(`/inventory/${l.value.id}`,l.value,{preserveState:!0,onSuccess:()=>{g.success("Equipment has been updated successfully!"),l.value={id:null,equipment:null,quantity:null,type:null,unit:null,status:null},h()}})},Y=()=>{K.put(`/inventory/restore/${l.value.id}`,{preserveState:!0,onSuccess:()=>{g.success("Equipment has been restored successfully!"),q()}})},$=se.exports.debounce(()=>{C.Inertia.get("/inventory",{search:y.value,trashed:x.value},{preserveState:!0})},300);return(b,a)=>(d(),V(B,null,[o(_(oe),{title:"Offered Services"}),o(ne,null,{default:s(()=>{var j,R,A;return[e("div",ie,[de,e("div",ue,[e("div",ce,[e("div",pe,[e("div",me,r(_(O)(i.trashedInventoryCount)),1),_e]),he]),e("div",ve,[e("div",ye,[e("div",xe,r(_(O)(i.inventoryCount)),1),fe]),we])])]),e("div",ge,[e("div",ke,[e("div",qe,[e("div",be,[e("div",Ce,[Ve,Se,e("div",Ie,[o(m,{label:"Filter Inventory",class:"w-56"},{default:s(()=>[o(F,{onChange:_($),modelValue:_(x),"onUpdate:modelValue":a[0]||(a[0]=t=>D(x)?x.value=t:x=t)},{default:s(()=>[Ee,ze,Te]),_:1},8,["onChange","modelValue"])]),_:1}),e("div",Fe,[o(c,{onClick:a[1]||(a[1]=u(t=>{h(),z.value=!0},["prevent"])),size:"sm",color:"success"},{default:s(()=>[Me]),_:1}),o(m,{label:"Search Inventory",for:"search",class:"w-52 md:w-64"},{default:s(()=>[o(w,{modelValue:_(y),"onUpdate:modelValue":a[2]||(a[2]=t=>D(y)?y.value=t:y=t),id:"search",onKeyup:_($)},null,8,["modelValue","onKeyup"])]),_:1})])]),e("div",Ue,[e("table",$e,[je,e("tbody",Re,[(d(!0),V(B,null,le(i.inventory.data,(t,Z)=>(d(),V("tr",{key:Z,class:ae([{"bg-red-100":t.deleted_at},"hover:bg-gray-100"])},[e("td",Ae,r(t.id),1),e("td",Ne,r(t.equipment),1),e("td",Be,r(G(t.type)),1),e("td",De,r(L(t.status)),1),e("td",Oe,r(t.unit),1),e("td",He,r(t.quantity),1),e("td",Pe,r(t.remarks),1),e("td",Le,r(t.created_at),1),e("td",Ge,r(t.deleted_at),1),e("td",Ke,[t.deleted_at?(d(),v(c,{key:0,text:"",size:"sm",onClick:u(N=>{q(),l.value={...t}},["prevent"])},{default:s(()=>[Qe]),_:2},1032,["onClick"])):(d(),v(c,{key:1,text:"",size:"sm",onClick:u(N=>{z.value=!1,h(),l.value={...t}},["prevent"])},{default:s(()=>[Je]),_:2},1032,["onClick"])),t.deleted_at==null?(d(),v(c,{key:2,text:"",size:"sm",color:"error",onClick:u(N=>{k(),E.value=t.id},["prevent"])},{default:s(()=>[We]),_:2},1032,["onClick"])):f("",!0)])],2))),128)),i.inventory.data.length==0?(d(),V("tr",Xe,Ze)):f("",!0)])])]),e("p",et,"Showing "+r((j=i.inventory.from)!=null?j:0)+" to "+r((R=i.inventory.to)!=null?R:0)+" out of "+r((A=i.inventory.total)!=null?A:0)+" inventory.",1),o(re,{links:i.inventory.links,right:""},null,8,["links"])])])])])]),I.value?(d(),v(M,{key:0,onClose:h},{title:s(()=>[tt,st]),body:s(()=>[e("form",ot,[o(m,{label:"Equipment",for:"service",error:i.errors.equipment},{default:s(()=>[o(w,{modelValue:l.value.equipment,"onUpdate:modelValue":a[3]||(a[3]=t=>l.value.equipment=t),id:"service",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"]),e("div",lt,[o(m,{label:"Unit",for:"unit",class:"mt-1",error:i.errors.unit},{default:s(()=>[o(w,{modelValue:l.value.unit,"onUpdate:modelValue":a[4]||(a[4]=t=>l.value.unit=t),id:"unit",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"]),o(m,{label:"Qty",for:"qty",class:"mt-1",error:i.errors.quantity},{default:s(()=>[o(w,{modelValue:l.value.quantity,"onUpdate:modelValue":a[5]||(a[5]=t=>l.value.quantity=t),id:"qty",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"])]),o(m,{label:"Type",class:"w-full mt-3"},{default:s(()=>[o(F,{modelValue:l.value.type,"onUpdate:modelValue":a[6]||(a[6]=t=>l.value.type=t)},{default:s(()=>[at,nt,rt,it]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"Status",class:"w-full mt-3"},{default:s(()=>[o(F,{modelValue:l.value.status,"onUpdate:modelValue":a[7]||(a[7]=t=>l.value.status=t)},{default:s(()=>[dt,ut,ct,pt,mt]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"Remarks",for:"remarks",class:"mt-3",error:i.errors.remarks},{default:s(()=>[o(w,{modelValue:l.value.remarks,"onUpdate:modelValue":a[8]||(a[8]=t=>l.value.remarks=t),id:"remarks",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:s(()=>[o(c,{onClick:u(h,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[_t]),_:1},8,["onClick"]),o(c,{onClick:u(Q,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ht]),_:1},8,["onClick"])]),_:1})):f("",!0),S.value?(d(),v(M,{key:1,onClose:k},{title:s(()=>[vt]),body:s(()=>[yt]),footer:s(()=>[o(c,{onClick:u(k,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[xt]),_:1},8,["onClick"]),o(c,{onClick:u(W,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[ft]),_:1},8,["onClick"])]),_:1})):f("",!0),T.value?(d(),v(M,{key:2,onClose:q},{title:s(()=>[wt]),body:s(()=>[gt]),footer:s(()=>[o(c,{onClick:u(q,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[kt]),_:1},8,["onClick"]),o(c,{onClick:u(Y,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[qt]),_:1},8,["onClick"])]),_:1})):f("",!0)]}),_:1})],64))}};export{Ut as default};
