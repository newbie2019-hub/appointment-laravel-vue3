import{a as F,b as $,o as q,r as P,e as m,f as l,g as t,H as B,h as d,F as E,i as n,j as s,x as u,O as f,q as p,k as _,v as c,n as x,s as S,z as w}from"./app.c75b8574.js";import{_ as D}from"./Authenticated.410bfdcd.js";import{_ as v,a as k}from"./FormInput.301b6f4f.js";import{_ as g}from"./Button.8edc95b2.js";import{_ as I}from"./FloatingSelect.5045bdad.js";import{_ as M}from"./Modal.46b90f06.js";const L={class:"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"max-w-7xl mx-auto px-6 lg:px-8"},R=s("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},[s("p",{class:"text-xl font-medium"},"Account Settings"),s("p",{class:"text-sm"},"Please make sure all of your informations are correct.")],-1),T={class:"mt-6 sm:mt-5 space-y-6 sm:space-y-5"},H={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},G=s("label",{for:"username",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," First Name ",-1),J={class:"mt-1 sm:mt-0 sm:col-span-2"},K={class:"max-w-lg flex rounded-md shadow-sm flex-col"},Q={key:0,class:"text-sm text-red-500"},W=s("label",{for:"middlename",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Middle Name ",-1),X={class:"mt-1 sm:mt-0 sm:col-span-2"},Y={class:"max-w-lg flex rounded-md shadow-sm"},Z=s("label",{for:"lastname",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Last Name ",-1),ss={class:"mt-1 sm:mt-0 sm:col-span-2"},es={class:"max-w-lg flex rounded-md shadow-sm flex-col"},ts={key:0,class:"text-sm text-red-500"},os=s("label",{for:"contactnumber",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Contact Number ",-1),rs={class:"mt-1 sm:mt-0 sm:col-span-2"},as={class:"max-w-lg flex rounded-md shadow-sm flex-col"},ds={key:0,class:"text-sm text-red-500"},ls=s("label",{for:"birthday",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Date of Birth ",-1),ns={class:"mt-1 sm:mt-0 sm:col-span-2"},is={class:"max-w-lg flex rounded-md shadow-sm flex-col"},ms={key:0,class:"text-sm text-red-500"},cs=s("label",{for:"address",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Address ",-1),us={class:"mt-1 sm:mt-0 sm:col-span-2"},fs={class:"max-w-lg flex rounded-md shadow-sm flex-col"},ps={key:0,class:"text-sm text-red-500"},_s=s("label",{for:"address",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Gender ",-1),gs={class:"mt-1 sm:mt-0 sm:col-span-2"},ws={class:"max-w-lg flex rounded-md shadow-sm"},xs=s("option",{value:"Male",class:"font-medium"},"Male",-1),hs=s("option",{value:"Female",class:"font-medium"},"Female",-1),bs=s("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mt-14"},[s("p",{class:"text-xl font-medium"},"Account Image"),s("p",{class:"text-sm"},"Please choose a decent photo as this will be displayed publicly")],-1),ys={class:"mt-6 sm:mt-5 space-y-6 sm:space-y-5"},vs={class:"sm:border-t sm:border-gray-200 sm:pt-5 flex items-center gap-x-6"},ks={class:"w-16 h-16 rounded-full border-2 border-gray-400 flex items-center justify-center shadow-md overflow-hidden"},Cs={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"gray","stroke-width":"1"},Vs=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Us=[Vs],Ps=["src"],Ss=["src"],Ms={class:"flex"},zs=s("label",{for:"avatar",class:"px-3 py-2 hover:bg-blue-700 bg-blue-600 rounded-md text-white text-xs tracking-wider uppercase font-medium hover:cursor-pointer"},"Upload Image",-1),Ns=w("Reset Image"),js=s("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mt-14"},[s("p",{class:"text-xl font-medium"},"Login Credentials"),s("p",{class:"text-sm"},"Please make sure to have a unique password.")],-1),As={class:"mt-6 sm:mt-5 space-y-6 sm:space-y-5"},Fs={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},$s=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Email Address ",-1),qs={class:"mt-1 sm:mt-0 sm:col-span-2"},Bs={class:"max-w-lg flex rounded-md shadow-sm flex-col"},Es={key:0,class:"text-sm text-red-500"},Ds=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Password ",-1),Is=s("input",{type:"password",name:"password",id:"password",value:"*******",autocomplete:"password",disabled:"",class:"transition duration-200 cursor-pointer hover:ring-1 border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full"},null,-1),Ls=[Is],Os={class:"max-w-7xl mx-auto sm:mt-5 space-y-6 sm:space-y-5 lg:px-8 px-6"},Rs={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5"},Ts=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},null,-1),Hs={class:"max-w-lg sm:col-span-2"},Gs={class:"flex justify-end"},Js=w("Save Changes"),Ks=s("p",{class:"font-bold text-xl"},"Enter Current Password",-1),Qs=s("p",{class:"text-sm text-gray-600"},"Please enter your current password to confirm your changes.",-1),Ws={action:"",class:"mt-2"},Xs=w("Close"),Ys=w("Confirm Changes"),Zs=s("p",{class:"font-bold text-xl"},"Update Password",-1),se=s("p",{class:"text-sm text-gray-600"},"Please enter your current password to confirm your changes.",-1),ee={action:"",class:"mt-2"},te=w("Close"),oe=w("Save Changes"),me={__name:"Settings",props:{user:Object,errors:Object},setup(a){const i=a,h=F();let e=$({first_name:"",middle_name:"",last_name:"",address:"",gender:"",image:null,email:null,birthday:null,contact_number:null,image_preview:null,current_password:null,password:null,password_confirmation:null});q(()=>{e.first_name=i.user.first_name,e.middle_name=i.user.middle_name,e.last_name=i.user.last_name,e.address=i.user.address,e.image=i.user.image,e.gender=i.user.gender,e.email=i.user.email,e.birthday=i.user.birthday,e.contact_number=i.user.contact_number,e.image_preview=null});const C=P(!1),V=P(!1),b=()=>{C.value=!C.value},y=()=>{V.value=!V.value},z=()=>{e.post("/settings/update",{preserveState:!0,onError:()=>{h.error("Something went wrong!")},onSuccess:()=>{h.success("Account updated successfully!"),e.image=null,e.image_preview=null,b(),e.current_password=null}})},N=()=>{e.post("settings/update-password",{preserveState:!0,onError:()=>{h.error("Something went wrong!")},onSuccess:()=>{h.success("Account password successfully!"),e.password=null,e.confirm_password=null,e.current_password=null,y()}})},j=U=>{if(e.image=U.target.files[0],e.image_preview=U.target.files[0],!e.image||!e.image.type.match("image.*"))return!1;const o=new FileReader;o.onload=function(r){e.image_preview=r.target.result},o.readAsDataURL(e.image_preview)},A=()=>{e.image_preview=null,e.image=null};return(U,o)=>(n(),m(E,null,[l(t(B),{title:"Dashboard"}),l(D,null,{default:d(()=>[s("div",L,[s("div",O,[R,s("div",T,[s("div",H,[G,s("div",J,[s("div",K,[u(s("input",{type:"text",name:"firstname",id:"firstname","onUpdate:modelValue":o[0]||(o[0]=r=>t(e).first_name=r),autocomplete:"firstname",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.first_name}])},null,2),[[f,t(e).first_name]]),a.errors.first_name?(n(),m("p",Q,_(a.errors.first_name),1)):c("",!0)])]),W,s("div",X,[s("div",Y,[u(s("input",{type:"text",name:"middlename",id:"middlename","onUpdate:modelValue":o[1]||(o[1]=r=>t(e).middle_name=r),autocomplete:"middlename",class:"border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full"},null,512),[[f,t(e).middle_name]])])]),Z,s("div",ss,[s("div",es,[u(s("input",{type:"text",name:"lastname",id:"lastname","onUpdate:modelValue":o[2]||(o[2]=r=>t(e).last_name=r),autocomplete:"lastname",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.last_name}])},null,2),[[f,t(e).last_name]]),a.errors.last_name?(n(),m("p",ts,_(a.errors.last_name),1)):c("",!0)])]),os,s("div",rs,[s("div",as,[u(s("input",{type:"text",name:"contactnumber",id:"contactnumber","onUpdate:modelValue":o[3]||(o[3]=r=>t(e).contact_number=r),autocomplete:"contactnumber",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.contact_number}])},null,2),[[f,t(e).contact_number]]),a.errors.contact_number?(n(),m("p",ds,_(a.errors.contact_number),1)):c("",!0)])]),ls,s("div",ns,[s("div",is,[u(s("input",{type:"date",name:"birthday",id:"birthday","onUpdate:modelValue":o[4]||(o[4]=r=>t(e).birthday=r),autocomplete:"birthday",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.birthday}])},null,2),[[f,t(e).birthday]]),a.errors.birthday?(n(),m("p",ms,_(a.errors.birthday),1)):c("",!0)])]),cs,s("div",us,[s("div",fs,[u(s("textarea",{type:"text",name:"address",id:"address","onUpdate:modelValue":o[5]||(o[5]=r=>t(e).address=r),autocomplete:"address",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.address}])},null,2),[[f,t(e).address]])]),a.errors.birthday?(n(),m("p",ps,_(a.errors.address),1)):c("",!0)]),_s,s("div",gs,[s("div",ws,[l(I,{modelValue:t(e).gender,"onUpdate:modelValue":o[6]||(o[6]=r=>t(e).gender=r)},{default:d(()=>[xs,hs]),_:1},8,["modelValue"])])])])]),bs,s("div",ys,[s("div",vs,[s("div",ks,[!i.user.image&&!t(e).image_preview?(n(),m("svg",Cs,Us)):t(e).image_preview?(n(),m("img",{key:1,src:t(e).image_preview,class:"object-fit rounded-full h-full",alt:""},null,8,Ps)):(n(),m("img",{key:2,src:`images/profile/${i.user.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,Ss))]),s("div",Ms,[s("input",{id:"avatar",type:"file",class:"hidden",onChange:j,accept:"image/*"},null,32),zs,l(g,{color:"error",size:"sm",disabled:!t(e).image_preview,onClick:A},{default:d(()=>[Ns]),_:1},8,["disabled"])])])]),js,s("div",As,[s("div",Fs,[$s,s("div",qs,[s("div",Bs,[u(s("input",{type:"text",name:"email",id:"email","onUpdate:modelValue":o[7]||(o[7]=r=>t(e).email=r),autocomplete:"email",class:p(["border-gray-400 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",{"border-red-400":a.errors.email}])},null,2),[[f,t(e).email]]),a.errors.email?(n(),m("p",Es,_(a.errors.email),1)):c("",!0)])]),Ds,s("div",{class:"mt-1 sm:mt-0 sm:col-span-2"},[s("div",{class:"max-w-lg flex rounded-md shadow-sm cursor-pointer",onClick:y},Ls)])])])]),s("div",Os,[s("div",Rs,[Ts,s("div",Hs,[s("div",Gs,[l(g,{size:"sm",onClick:x(b,["prevent"])},{default:d(()=>[Js]),_:1},8,["onClick"])])])])])]),C.value?(n(),S(M,{key:0,onClose:b},{title:d(()=>[Ks,Qs]),body:d(()=>[s("form",Ws,[l(v,{label:"Enter Password",for:"confirmpassword",error:a.errors.current_password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).current_password,"onUpdate:modelValue":o[8]||(o[8]=r=>t(e).current_password=r),id:"confirmpassword",required:""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:d(()=>[l(g,{onClick:x(b,["prevent"]),text:"",size:"sm",color:"gray"},{default:d(()=>[Xs]),_:1},8,["onClick"]),l(g,{onClick:x(z,["prevent"]),text:"",size:"sm",color:"success"},{default:d(()=>[Ys]),_:1},8,["onClick"])]),_:1})):c("",!0),V.value?(n(),S(M,{key:1,onClose:y},{title:d(()=>[Zs,se]),body:d(()=>[s("form",ee,[l(v,{label:"Current Password",for:"current_password",error:a.errors.current_password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).current_password,"onUpdate:modelValue":o[9]||(o[9]=r=>t(e).current_password=r),id:"current_password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{class:"mt-2",label:"New Password",for:"password",error:a.errors.password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).password,"onUpdate:modelValue":o[10]||(o[10]=r=>t(e).password=r),id:"password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{class:"mt-2",label:"Confirm Password",for:"password_confirmation",error:a.errors.password_confirmation},{default:d(()=>[l(k,{type:"password",modelValue:t(e).password_confirmation,"onUpdate:modelValue":o[11]||(o[11]=r=>t(e).password_confirmation=r),id:"password_confirmation",required:""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:d(()=>[l(g,{onClick:x(y,["prevent"]),text:"",size:"sm",color:"gray"},{default:d(()=>[te]),_:1},8,["onClick"]),l(g,{onClick:x(N,["prevent"]),text:"",size:"sm",color:"success"},{default:d(()=>[oe]),_:1},8,["onClick"])]),_:1})):c("",!0)]),_:1})],64))}};export{me as default};
