import{c as q,a as K,r as f,b as J,l as Q,d as W,e as x,f as a,g as l,H as X,h as o,F as R,u as Y,i as m,j as e,k as r,m as H,p as Z,q as ee,v as h,z as i,n as u,s as v}from"./app.0003ba5e.js";import{_ as te}from"./Authenticated.957d24f0.js";import{_}from"./Button.b219d5ab.js";import{_ as p,a as g}from"./FormInput.ff8c0edc.js";import{_ as L}from"./FloatingSelect.6b50903b.js";import{P as se}from"./Pagination.9c430f27.js";import{_ as V}from"./Modal.9f6a6e14.js";import{f as E,s as oe}from"./Utilities.5f54765f.js";/* empty css                                              */const le={class:"max-w-7xl mx-auto px-6 lg:px-8"},ae=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Patients Summary"),e("p",null,"Here is an overview of your patients.")],-1),ne={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-y-4 gap-x-4"},re={class:"bg-red-500 flex-1 p-4 text-white rounded-md md:max-w-md"},ie={class:"flex justify-between"},de={class:"text-9xl flex items-center"},ce=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5"},[i("Trashed "),e("br"),i("Patients")])],-1),me=e("span",{class:"sr-only"},"Trashed Patients",-1),ue={class:"bg-green-600 flex-1 p-4 text-white rounded-md md:max-w-md"},_e={class:"flex justify-between"},pe={class:"text-9xl flex items-center"},he=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[i("Total "),e("br"),i("Patients")])],-1),fe=e("span",{class:"sr-only"},"Total Patients",-1),xe={class:"max-w-7xl mx-auto px-6 lg:px-8"},ve={class:"py-8"},ge={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},we={class:"overflow-x-auto shadow-sm sm:rounded-lg"},ye={class:""},be={class:"max-w-7xl mx-auto bg-white rounded-lg pb-6"},ke=e("p",{class:"text-xl font-medium"},"Patients Record",-1),Ce=e("p",{class:"text-sm text-gray-700"},"Shown below are the records of your patients.",-1),Ve={class:"flex justify-between mt-7 mb-7"},ze=e("option",{value:"with"},"All Patients",-1),Pe=e("option",{value:""},"Active Patients",-1),Se=e("option",{value:"only"},"Trashed Patients",-1),Me={class:"overflow-x-auto"},Ae={class:"min-w-full divide-y divide-gray-300"},Ue=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"ID"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Full Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Address"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Contact Number"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Gender"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Email"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Created On"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Deleted At"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6 text-left"},"Actions")])],-1),je={class:"divide-y divide-gray-300 bg-white"},Ne={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},$e={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 flex items-center gap-x-2"},Be={class:"rounded-full bg-blue-400 w-8 h-8 border-gray-100 flex items-center justify-center"},Fe={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Te=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),De=[Te],Re=["src"],He={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Le={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ee={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 capitalize"},Oe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ge={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ie={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},qe={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},Ke=i("View"),Je=i("Update"),Qe=i("Trash"),We=i("Restore"),Xe={key:0},Ye=e("td",{colspan:"9"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"},"No data available ..")],-1),Ze=[Ye],et={class:"text-sm mt-2 text-gray-500"},tt=e("p",{class:"font-bold text-xl"},"Patient Information",-1),st=e("p",{class:"text-sm"},"Here are the informations of the patient",-1),ot={class:"rounded-full bg-blue-400 w-16 h-16 border-gray-100 flex items-center justify-center mx-auto mt-4"},lt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},at=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),nt=[at],rt=["src"],it={class:"text-center"},dt={class:"mt-2 font-medium"},ct={class:"text-sm"},mt={class:"flex mt-4 gap-x-2"},ut={class:"w-1/2"},_t={class:"text-sm font-medium"},pt={class:"text-sm font-medium"},ht={class:"w-1/2"},ft={class:"text-sm font-medium"},xt={class:"text-sm font-medium"},vt=i("Close"),gt=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),wt=e("p",{class:"text-sm text-gray-600"},[i(" Are you sure you want to trash this service? "),e("span",{class:"text-sm text-red-500"},[e("br"),i("Note: This data can still be restored.")])],-1),yt=i("Close"),bt=i("Confirm"),kt=e("p",{class:"font-bold text-xl"},"Update User",-1),Ct=e("p",{class:"text-sm"},"All input fields are required.",-1),Vt={class:"w-full"},zt={class:"flex gap-x-2"},Pt={class:"w-1/2"},St={class:"w-1/2"},Mt={class:"w-full"},At={class:"flex w-full gap-x-2"},Ut={class:"w-1/2"},jt=e("option",{value:"Male",class:"font-medium"},"Male",-1),Nt=e("option",{value:"Female",class:"font-medium"},"Female",-1),$t={class:"w-1/2"},Bt=i("Close"),Ft=i("Save Changes"),Tt=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),Dt=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to make this service available again?",-1),Rt=i("Close"),Ht=i("Restore"),Wt={__name:"Patients",props:{patients:Object,errors:Object,filters:Object,trashedPatientsCount:Number},setup(c){const N=c,$=q(()=>Y().props.value.flash.message),b=K();let w=f(N.filters.search),y=f(N.filters.trashed);const z=f(!1),P=f(!1),S=f(!1),M=f(!1);let t=J({id:null,first_name:null,middle_name:null,last_name:null,gender:null,address:null,birthday:null});const A=()=>{z.value=!z.value},k=()=>{P.value=!P.value},U=()=>{S.value=!S.value},C=(n=null)=>{t.id=n==null?void 0:n.id,t.first_name=n==null?void 0:n.first_name,t.middle_name=n==null?void 0:n.middle_name,t.last_name=n==null?void 0:n.last_name,t.gender=n==null?void 0:n.gender,t.address=n==null?void 0:n.address,t.birthday=n==null?void 0:n.birthday,M.value=!M.value},O=()=>{t.delete(`/patients/${t.value.id}`,{preserveState:!0,onFinish:()=>{k()},onSuccess:()=>{b.success($.value)},onError:()=>{b.error("Something went wrong!")}})},G=()=>{t.transform(n=>({...n})).put(`patients/${t.id}`,{preserveState:!0,onSuccess:()=>{b.success(`${$.value}`),C()},onError:()=>{b.error("Something went wrong!")}})},B=Q.exports.debounce(()=>{W.Inertia.get("/patients",{search:w.value,trashed:y.value},{replace:!0,preserveState:!0})},300);return(n,d)=>(m(),x(R,null,[a(l(X),{title:"Dashboard"}),a(te,null,{default:o(()=>{var F,T,D;return[e("div",le,[ae,e("div",ne,[e("div",re,[e("div",ie,[e("div",de,r(l(E)(c.trashedPatientsCount)),1),ce]),me]),e("div",ue,[e("div",_e,[e("div",pe,r(l(E)(c.patients.data.length)),1),he]),fe])])]),e("div",xe,[e("div",ve,[e("div",ge,[e("div",we,[e("div",ye,[e("div",be,[ke,Ce,e("div",Ve,[a(p,{label:"Filter Service",class:"w-48"},{default:o(()=>[a(L,{onChange:l(B),modelValue:l(y),"onUpdate:modelValue":d[0]||(d[0]=s=>H(y)?y.value=s:y=s)},{default:o(()=>[ze,Pe,Se]),_:1},8,["onChange","modelValue"])]),_:1}),a(p,{label:"Search Patient",for:"search"},{default:o(()=>[a(g,{modelValue:l(w),"onUpdate:modelValue":d[1]||(d[1]=s=>H(w)?w.value=s:w=s),onKeyup:l(B),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",Me,[e("table",Ae,[Ue,e("tbody",je,[(m(!0),x(R,null,Z(c.patients.data,(s,I)=>(m(),x("tr",{key:I,class:ee([{"bg-red-100":s.deleted_at},"hover:bg-gray-200"])},[e("td",Ne,r(s.id),1),e("td",$e,[e("div",Be,[s.image?h("",!0):(m(),x("svg",Fe,De)),e("img",{src:`images/profile/${s.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,Re)]),i(" "+r(s.full_name),1)]),e("td",He,r(l(oe)(s.address)),1),e("td",Le,r(s.contact_number),1),e("td",Ee,r(s.gender),1),e("td",Oe,r(s.email),1),e("td",Ge,r(s.created_at),1),e("td",Ie,r(s.deleted_at),1),e("td",qe,[a(_,{onClick:u(j=>{U(),l(t).value={...s}},["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[Ke]),_:2},1032,["onClick"]),a(_,{onClick:u(j=>{C(s)},["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[Je]),_:2},1032,["onClick"]),s.deleted_at?(m(),v(_,{key:1,onClick:u(j=>{A(),l(t).value={...s}},["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[We]),_:2},1032,["onClick"])):(m(),v(_,{key:0,onClick:u(j=>{k(),l(t).value={...s}},["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[Qe]),_:2},1032,["onClick"]))])],2))),128)),c.patients.data.length==0?(m(),x("tr",Xe,Ze)):h("",!0)])])]),e("p",et,"Showing "+r((F=c.patients.from)!=null?F:0)+" to "+r((T=c.patients.to)!=null?T:0)+" out of "+r((D=c.patients.total)!=null?D:0)+" patients.",1),a(se,{links:c.patients.links,right:""},null,8,["links"])])])])])])]),S.value?(m(),v(V,{key:0,onClose:U},{title:o(()=>[tt,st]),body:o(()=>[e("div",ot,[l(t).value.image?h("",!0):(m(),x("svg",lt,nt)),e("img",{src:`images/profile/${l(t).value.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,rt)]),e("div",it,[e("p",dt,r(l(t).value.full_name),1),e("p",ct,r(l(t).value.email),1)]),e("div",mt,[e("div",ut,[e("p",_t,"Address: "+r(l(t).value.address),1),e("p",pt,"Birthday: "+r(l(t).value.birthday),1)]),e("div",ht,[e("p",ft,"Gender: "+r(l(t).value.gender),1),e("p",xt,"Contact: "+r(l(t).value.contact_number),1)])])]),footer:o(()=>[a(_,{onClick:u(U,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[vt]),_:1},8,["onClick"])]),_:1})):h("",!0),P.value?(m(),v(V,{key:1,onClose:k},{title:o(()=>[gt]),body:o(()=>[wt]),footer:o(()=>[a(_,{onClick:u(k,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[yt]),_:1},8,["onClick"]),a(_,{onClick:u(O,["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[bt]),_:1},8,["onClick"])]),_:1})):h("",!0),M.value?(m(),v(V,{key:2,onClose:C},{title:o(()=>[kt,Ct]),body:o(()=>[e("div",Vt,[a(p,{for:"firstname",error:c.errors.first_name,label:"First Name",class:"mt-3"},{default:o(()=>[a(g,{type:"text",id:"firstname",modelValue:l(t).first_name,"onUpdate:modelValue":d[2]||(d[2]=s=>l(t).first_name=s),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",zt,[e("div",Pt,[a(p,{for:"middlename",error:c.errors.middle_name,label:"Middle Name ",class:"mt-3"},{default:o(()=>[a(g,{type:"text",id:"middlename",modelValue:l(t).middle_name,"onUpdate:modelValue":d[3]||(d[3]=s=>l(t).middle_name=s),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",St,[a(p,{for:"lastname",error:c.errors.last_name,label:"Last Name",class:"mt-3"},{default:o(()=>[a(g,{type:"text",id:"lastname",modelValue:l(t).last_name,"onUpdate:modelValue":d[4]||(d[4]=s=>l(t).last_name=s),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])])]),e("div",Mt,[a(p,{for:"address",error:c.errors.address,label:"Address",class:"mt-3"},{default:o(()=>[a(g,{type:"text",id:"address",modelValue:l(t).address,"onUpdate:modelValue":d[5]||(d[5]=s=>l(t).address=s),autofocus:"",autocomplete:"address"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",At,[e("div",Ut,[a(p,{for:"gender",error:c.errors.gender,label:"Gender",class:"mt-3"},{default:o(()=>[a(L,{modelValue:l(t).gender,"onUpdate:modelValue":d[6]||(d[6]=s=>l(t).gender=s)},{default:o(()=>[jt,Nt]),_:1},8,["modelValue"])]),_:1},8,["error"])]),e("div",$t,[a(p,{for:"gender",error:c.errors.gender,label:"Date of Birth",class:"mt-3"},{default:o(()=>[a(g,{type:"date",modelValue:l(t).birthday,"onUpdate:modelValue":d[7]||(d[7]=s=>l(t).birthday=s)},null,8,["modelValue"])]),_:1},8,["error"])])])]),footer:o(()=>[a(_,{onClick:u(C,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Bt]),_:1},8,["onClick"]),a(_,{onClick:u(G,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[Ft]),_:1},8,["onClick"])]),_:1})):h("",!0),z.value?(m(),v(V,{key:3,onClose:A},{title:o(()=>[Tt]),body:o(()=>[Dt]),footer:o(()=>[a(_,{onClick:u(A,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Rt]),_:1},8,["onClick"]),a(_,{onClick:u(n.restoreService,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[Ht]),_:1},8,["onClick"])]),_:1})):h("",!0)]}),_:1})],64))}};export{Wt as default};
