import{c as ne,r as w,o as ze,u as J,a as Te,b as re,t as je,w as Le,l as ie,d as N,e as S,f as l,g as d,H as Fe,h as s,F as Q,i as _,j as e,k as c,m as de,n as y,p as ce,q as De,s as b,v as g,x as Ie,y as Ue,z as p}from"./app.0003ba5e.js";import{_ as Ne}from"./Authenticated.957d24f0.js";import{_ as v}from"./Button.b219d5ab.js";import{_ as C,a as D}from"./FormInput.ff8c0edc.js";import{_ as Be}from"./FloatingSelect.6b50903b.js";import{_ as ue}from"./FloatingTextArea.afbd9d66.js";import{_ as Oe,a as pe}from"./Calendar.8a187936.js";import{P as Re}from"./Pagination.9c430f27.js";import{_ as $}from"./Modal.9f6a6e14.js";import{f as Z,c as me,s as He,a as B}from"./Utilities.5f54765f.js";import{s as _e,h as We}from"./vue-multiselect.esm.0c79ea29.js";/* empty css                                              */var ee={};Object.defineProperty(ee,"__esModule",{value:!0});function R(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(a){return typeof a}:R=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},R(r)}var he="https://js.stripe.com/v3",Ye=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fe="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qe=function(){for(var a=document.querySelectorAll('script[src^="'.concat(he,'"]')),m=0;m<a.length;m++){var f=a[m];if(!!Ye.test(f.src))return f}return null},Ge=function(a){var m=a&&!a.advancedFraudSignals?"?advancedFraudSignals=false":"",f=document.createElement("script");f.src="".concat(he).concat(m);var h=document.head||document.body;if(!h)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return h.appendChild(f),f},Ke=function(a,m){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"1.35.0",startTime:m})},O=null,Xe=function(a){return O!==null||(O=new Promise(function(m,f){if(typeof window=="undefined"){m(null);return}if(window.Stripe&&a&&console.warn(fe),window.Stripe){m(window.Stripe);return}try{var h=qe();h&&a?console.warn(fe):h||(h=Ge(a)),h.addEventListener("load",function(){window.Stripe?m(window.Stripe):f(new Error("Stripe.js not available"))}),h.addEventListener("error",function(){f(new Error("Failed to load Stripe.js"))})}catch(A){f(A);return}})),O},Je=function(a,m,f){if(a===null)return null;var h=a.apply(void 0,m);return Ke(h,f),h},Qe=function(a){var m=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(a),`
`);if(a===null||R(a)!=="object")throw new Error(m);if(Object.keys(a).length===1&&typeof a.advancedFraudSignals=="boolean")return a;throw new Error(m)},ve,xe=!1,ye=function(){for(var a=arguments.length,m=new Array(a),f=0;f<a;f++)m[f]=arguments[f];xe=!0;var h=Date.now();return Xe(ve).then(function(A){return Je(A,m,h)})};ye.setLoadParameters=function(r){if(xe)throw new Error("You cannot change load parameters after calling loadStripe");ve=Qe(r)};ee.loadStripe=ye;var Ze=ee;const et={class:"max-w-7xl mx-auto px-6 lg:px-8"},tt=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Appointment Summary"),e("p",null,"Here is an overview of your appointments.")],-1),st={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-x-4 md:flex-row gap-y-4"},ot={class:"bg-red-500 flex-1 p-4 text-white rounded-md"},lt={class:"flex justify-between"},at={class:"text-9xl flex items-center"},nt=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[p("Trashed "),e("br"),p("Appointments")])],-1),rt=e("span",{class:"sr-only"},"Trashed Appointments",-1),it={class:"bg-green-600 flex-1 p-4 text-white rounded-md"},dt={class:"flex justify-between"},ct={class:"text-9xl flex items-center"},ut=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[p("Total "),e("br"),p("Appointments")])],-1),pt=e("span",{class:"sr-only"},"Total Appointments",-1),mt={class:"bg-blue-600 flex-1 p-4 text-white rounded-md"},_t={class:"flex justify-between"},ft={class:"text-9xl flex items-center"},ht=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[p("Today's "),e("br"),p("Appointments")])],-1),vt=e("span",{class:"sr-only"},"Today's Appointments",-1),xt={class:"max-w-7xl mx-auto px-6 lg:px-8"},yt=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Appointment Calendar"),e("p",null,"Here is an overview of your appointments.")],-1),gt={class:"py-8 max-w-7xl mx-auto sm:px-6 lg:px-8 md:flex gap-x-4"},wt={class:"flex-1 w-full"},bt={class:"py-10"},St={class:"max-w-7xl mx-auto px-6 lg:px-8"},kt={class:"overflow-x-auto shadow-sm sm:rounded-lg"},Ct={class:""},At={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 bg-white border-gray-200 rounded-lg pb-6"},Vt=e("p",{class:"text-xl font-medium"},"All Appointments",-1),Pt=e("p",{class:"text-sm text-gray-700"},"Shown below are the appointments record",-1),Mt={class:"flex justify-between mt-7 gap-x-2 mb-6"},$t=e("option",{value:"with"},"All Appointments",-1),Et=e("option",{value:""},"Active Appointments",-1),zt=e("option",{value:"only"},"Trashed Appointments",-1),Tt={class:"flex gap-x-2"},jt=p("Add Appointment"),Lt={class:"overflow-x-auto"},Ft={class:"min-w-full divide-y divide-gray-300"},Dt=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"ID"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Status"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Patient"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Email"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Schedule"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Message"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Sub Total"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Payment"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Created On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Deleted On"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"},"Actions")])],-1),It={class:"divide-y divide-gray-200 bg-white"},Ut={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Nt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Bt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ot={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Rt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ht={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Wt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Yt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},qt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Gt={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Kt={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},Xt=p("Details"),Jt=p("Update"),Qt=p("Payment"),Zt=p("Trash"),es={key:0},ts=e("td",{colspan:"11"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"},"No data available ..")],-1),ss=[ts],os={class:"text-sm mt-2 text-gray-500"},ls=e("p",{class:"font-bold text-xl"},"Appointment Information",-1),as=e("p",{class:"text-sm text-gray-600"},"Here are the informations for this appointment",-1),ns=e("p",{class:"mb-2 mt-3"},"Patient Information",-1),rs={class:"text-sm"},is={class:"text-sm"},ds={class:"text-sm"},cs=e("p",{class:"mb-2 mt-4"},"Appointment Information",-1),us={class:"text-sm"},ps={class:"text-sm"},ms={class:"text-sm"},_s=e("p",{class:"mb-2 mt-4"},"Services Selected",-1),fs=p("Close"),hs=p("Mark as Finished"),vs=p("Approve"),xs=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),ys=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored.",-1),gs=p("Close"),ws=p("Confirm"),bs=e("p",{class:"font-bold text-xl"},"Payment Transaction",-1),Ss=e("p",{class:"text-gray-500 text-sm mt-1"},"We do not store any credit card informations. All transactions are processed by Stripe.",-1),ks={key:0},Cs=e("p",{class:"text-center mt-4 mb-1 font-medium text-gray-500"},"Loading Secure Payment ...",-1),As=[Cs],Vs=e("p",{class:"mt-1 mb-2"},"Credit Card Information",-1),Ps=e("div",{id:"card-element",class:"[&>*]:border-gray-500 border-2 p-3 rounded-md mb-4"},null,-1),Ms=[Vs,Ps],$s=p("Close"),Es=e("p",{class:"font-bold text-xl"},"Accept Payment",-1),zs=e("p",{class:"text-gray-500 text-sm mt-1"},"Please fill-in all the fields in the form.",-1),Ts=p("Close"),js={class:"font-bold text-xl"},Ls=e("p",null,"Please fill-in all fields.",-1),Fs={class:"flex flex-col"},Ds=e("p",{class:"mt-2 text-sm"},"Select Service",-1),Is={class:"option__desc flex flex-col"},Us={class:"option__title"},Ns={class:"text-sm"},Bs={key:0,class:"mt-1 text-sm text-red-500"},Os={key:1},Rs=e("p",{class:"mt-2 text-sm"},"Select Patient",-1),Hs={key:0,class:"mt-1 text-sm text-red-500"},Ws={class:"mt-2"},Ys=p("Close"),qs=p("Save Appointment"),Gs=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),Ks=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to restore this scheduled appointment? This might cause conflicts to some of the schedules.",-1),Xs=p("Close"),Js=p("Restore"),po={__name:"Appointments",props:{appointments:Object,errors:Object,filters:Object,trashedAppointmentsCount:Number,todaysAppointment:Number,services:Object,users:Object},setup(r){const a=r,m=ne(()=>{var o;return(o=J().props.value.errors.error)!=null?o:"Something went wrong"}),f=ne(()=>{var o;return(o=J().props.value.flash.message)!=null?o:"Transaction successful"});let h,A,k=w(!1);ze(async()=>{A=await Ze.loadStripe(J().props.value.stripe.public_key),h=A.elements().create("card",{classes:{base:"p-2 border-gray-500"}})});const ge=async()=>{P.subtotal=i.value.subtotal,P.appointment_id=i.value.id,i.value.subtotal>P.amount_tendered?x.error("Insufficient amount is received"):(k.value=!0,P.transform(o=>({...o,change:o.amount_tendered-o.subtotal})).post(route("payment-branch.store"),{onError:()=>{x.error("Something went wrong")},onSuccess:()=>{x.success(f.value),G()}})),k.value=!1},we=async()=>{k.value=!0;const{paymentMethod:o,error:n}=await A.createPaymentMethod("card",h,{billing_details:{name:i.value.patient.full_name,email:i.value.patient.email,address:{line1:i.value.patient.address}}});n?x.error(n.message):(i.value.paymentMethodId=o.id,N.Inertia.post(route("payment.store"),i.value,{onError:()=>{x.error("Something went wrong")},onSuccess:()=>{x.success(f.value),te()}})),k.value=!1},x=Te(),P=re({id:null,subtotal:null,change:null,appointment_id:null,amount_tendered:0});let u=re({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""});const i=w({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),E=w(!1),H=w(!1),z=w(!1),W=w(!1),Y=w(!1),q=w(!1),V=w(!1),T=w(!1),be=je(u,"selected_services"),te=o=>{T.value=!0,o?E.value=!E.value:(V.value=!V.value,V.value&&setTimeout(()=>{T.value=!1,h.mount("#card-element")},1200))},j=()=>{H.value=!H.value},se=()=>{V.value=!V.value,V.value&&setTimeout(()=>{T.value=!1,h.mount("#card-element")},1200)},G=()=>{E.value=!E.value},I=()=>{W.value=!W.value},K=()=>{Y.value=!Y.value},M=(o=null)=>{var n;o!=null&&(u.message=o.message,u.id=o.id,u.user_id=o.patient,u.selected_services=(n=o.services)==null?void 0:n.map(U=>U.service),u.schedule=We(o.schedule).format("YYYY-MM-DDThh:mm")),q.value=!q.value},Se=()=>{z.value?Pe():Me()},ke=()=>{N.Inertia.delete(`/appointments/${i.value.id}`,{preserveState:!0,onSuccess:()=>{x.success("Appointment has been moved to trash successfully!"),I()}})},Ce=()=>{u.put(`/appointments/restore/${i.value.id}`,{preserveState:!0,onSuccess:()=>{x.success("Appointment has been restored successfully!"),K()}})},Ae=()=>{u.put(`/appointments/approve/${i.value.id}`,{preserveState:!0,onError:()=>{x.error("Something went wrong")},onSuccess:()=>{x.success("Appointment has been approved successfully!"),j()}})},Ve=()=>{u.put(`/appointments/finished/${i.value.id}`,{preserveState:!0,onError:()=>{x.error("Something went wrong")},onSuccess:()=>{x.success("Appointment has been marked as finished"),j()}})},Pe=()=>{u.transform(o=>{var n;return{...o,user_id:(n=o==null?void 0:o.user_id)==null?void 0:n.id}}).post("/appointments",{preserveState:!0,onError:o=>{x.error(`${m.value}`)},onSuccess:()=>{x.success("Appointment created successfully!"),M(),u.reset()}})},Me=()=>{u.transform(o=>{var n;return{...o,user_id:(n=o==null?void 0:o.user_id)==null?void 0:n.id}}).put(`/appointments/${u.id}`,{preserveState:!0,onError:o=>{x.error(`${m.value}`)},onSuccess:()=>{x.success("Appointment update successfully!"),M(),u.reset()}})};Le(be,()=>{var o;u.subtotal=0,(o=u.selected_services)==null||o.map(n=>{u.subtotal+=parseFloat(n.price)})});let L=w(a.filters.search),F=w(a.filters.trashed);const oe=ie.exports.debounce(()=>{N.Inertia.get("/appointments",{search:L.value,trashed:F.value},{preserveState:!0})},300),$e=ie.exports.debounce(o=>{N.Inertia.get("/appointments",{search:o},{preserveState:!0,only:["users"]})},300);return(o,n)=>(_(),S(Q,null,[l(d(Fe),{title:"Patient Appointments"}),l(Ne,null,{default:s(()=>{var U,le,ae;return[e("div",et,[tt,e("div",st,[e("div",ot,[e("div",lt,[e("div",at,c(d(Z)(r.trashedAppointmentsCount)),1),nt]),rt]),e("div",it,[e("div",dt,[e("div",ct,c(d(Z)(r.appointments.data.length)),1),ut]),pt]),e("div",mt,[e("div",_t,[e("div",ft,c(d(Z)(r.todaysAppointment)),1),ht]),vt])])]),e("div",xt,[yt,e("div",gt,[e("div",wt,[l(Oe,{data:r.appointments.data},null,8,["data"])])])]),e("div",bt,[e("div",St,[e("div",kt,[e("div",Ct,[e("div",At,[Vt,Pt,e("div",Mt,[l(C,{label:"Filter Service",class:"w-48"},{default:s(()=>[l(Be,{onChange:d(oe),modelValue:d(F),"onUpdate:modelValue":n[0]||(n[0]=t=>de(F)?F.value=t:F=t)},{default:s(()=>[$t,Et,zt]),_:1},8,["onChange","modelValue"])]),_:1}),e("div",Tt,[l(v,{onClick:n[1]||(n[1]=y(t=>{z.value=!0,M()},["prevent"])),size:"sm",color:"success"},{default:s(()=>[jt]),_:1}),l(C,{label:"Search Appointment",for:"search"},{default:s(()=>[l(D,{modelValue:d(L),"onUpdate:modelValue":n[2]||(n[2]=t=>de(L)?L.value=t:L=t),id:"search",onKeyup:d(oe)},null,8,["modelValue","onKeyup"])]),_:1})])]),e("div",Lt,[e("table",Ft,[Dt,e("tbody",It,[(_(!0),S(Q,null,ce(r.appointments.data,(t,Ee)=>(_(),S("tr",{key:Ee,class:De(["hover:bg-gray-200",{"bg-red-100":t.deleted_at}])},[e("td",Ut,c(t.id),1),e("td",Nt,[l(pe,{label:t.appointment_status,color:d(me)(t.appointment_status)},null,8,["label","color"])]),e("td",Bt,c(t.patient.full_name),1),e("td",Ot,c(t.patient.email),1),e("td",Rt,c(t.schedule),1),e("td",Ht,c(d(He)(t.message)),1),e("td",Wt,c(d(B)(t.subtotal)),1),e("td",Yt,[l(pe,{label:t.payment_status,color:d(me)(t.payment_status)},null,8,["label","color"])]),e("td",qt,c(t.created_at),1),e("td",Gt,c(t.deleted_at),1),e("td",Kt,[l(v,{text:"",size:"sm",onClick:X=>{j(),i.value=t}},{default:s(()=>[Xt]),_:2},1032,["onClick"]),!t.deleted_at&&t.appointment_status!="Finished"&&t.appointment_status!="Approved"&&!o.$page.props.auth.user.is_admin?(_(),b(v,{key:0,onClick:X=>{z.value=!1,M(t)},text:"",size:"sm",color:"success"},{default:s(()=>[Jt]),_:2},1032,["onClick"])):g("",!0),!t.deleted_at&&t.payment_status!="Paid"&&(t.appointment_status=="Approved"||t.appointment_status=="Finished")?(_(),b(v,{key:1,onClick:y(X=>{te(o.$page.props.auth.user.is_admin),i.value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[Qt]),_:2},1032,["onClick"])):g("",!0),t.deleted_at?g("",!0):(_(),b(v,{key:2,onClick:y(X=>{I(),i.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Zt]),_:2},1032,["onClick"]))])],2))),128)),r.appointments.data.length==0?(_(),S("tr",es,ss)):g("",!0)])])]),e("p",os,"Showing "+c((U=r.appointments.from)!=null?U:0)+" to "+c((le=r.appointments.to)!=null?le:0)+" out of "+c((ae=r.appointments.total)!=null?ae:0)+" appointments.",1),l(Re,{links:r.appointments.links,right:""},null,8,["links"])])])])])]),H.value?(_(),b($,{key:0,onClose:j},{title:s(()=>[ls,as]),body:s(()=>[ns,e("p",rs,"Full Name: "+c(i.value.patient.full_name),1),e("p",is,"Email: "+c(i.value.patient.email),1),e("p",ds,"Gender: "+c(i.value.patient.gender),1),cs,e("p",us,"Schedule: "+c(i.value.schedule),1),e("p",ps,"Message: "+c(i.value.message),1),e("p",ms,"Created: "+c(i.value.created_at),1),_s,(_(!0),S(Q,null,ce(i.value.services,t=>(_(),S("p",{class:"text-sm",key:t.id},c(t.service.service)+" - "+c(d(B)(t.service.price)),1))),128))]),footer:s(()=>[l(v,{onClick:y(j,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[fs]),_:1},8,["onClick"]),i.value.deleted_at==null&&i.value.appointment_status=="Approved"&&i.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(_(),b(v,{key:0,onClick:y(Ve,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[hs]),_:1},8,["onClick"])):g("",!0),i.value.deleted_at==null&&i.value.appointment_status=="Pending"&&i.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(_(),b(v,{key:1,onClick:y(Ae,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[vs]),_:1},8,["onClick"])):g("",!0)]),_:1})):g("",!0),W.value?(_(),b($,{key:1,onClose:I},{title:s(()=>[xs]),body:s(()=>[ys]),footer:s(()=>[l(v,{onClick:y(I,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[gs]),_:1},8,["onClick"]),l(v,{onClick:y(ke,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[ws]),_:1},8,["onClick"])]),_:1})):g("",!0),V.value?(_(),b($,{key:2,onClose:se},{title:s(()=>[bs,Ss]),body:s(()=>[T.value?(_(),S("div",ks,As)):g("",!0),Ie(e("div",null,Ms,512),[[Ue,!T.value]]),l(C,{for:"payment_fname",error:r.errors.schedule,label:"Full Name",class:"mt-1 mb-3"},{default:s(()=>[l(D,{disabled:"",type:"text",id:"payment_fname",modelValue:i.value.patient.full_name,"onUpdate:modelValue":n[3]||(n[3]=t=>i.value.patient.full_name=t),"aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"]),l(C,{for:"payment_fname",error:r.errors.schedule,label:"Address",class:"mt-3 mb-3"},{default:s(()=>[l(ue,{type:"text",id:"payment_fname",modelValue:i.value.patient.address,"onUpdate:modelValue":n[4]||(n[4]=t=>i.value.patient.address=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[l(v,{onClick:y(se,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[$s]),_:1},8,["onClick"]),l(v,{onClick:y(we,["prevent"]),text:"",size:"sm",color:"success",disabled:d(k)},{default:s(()=>[p(c(d(k)?"Processing..":"Proceed"),1)]),_:1},8,["onClick","disabled"])]),_:1})):g("",!0),E.value?(_(),b($,{key:3,onClose:G},{title:s(()=>[Es,zs]),body:s(()=>[l(C,{for:"payment_fname",error:r.errors.schedule,label:"Amount Tendered",class:"mt-3 mb-3"},{default:s(()=>[l(D,{type:"number",id:"amounttendered",modelValue:d(P).amount_tendered,"onUpdate:modelValue":n[5]||(n[5]=t=>d(P).amount_tendered=t)},null,8,["modelValue"])]),_:1},8,["error"]),l(C,{for:"subtotal",error:r.errors.subtotal,label:"Subtotal",class:"mt-3 mb-3"},{default:s(()=>[l(D,{type:"number",id:"subtotal",modelValue:i.value.subtotal,"onUpdate:modelValue":n[6]||(n[6]=t=>i.value.subtotal=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[l(v,{onClick:y(G,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ts]),_:1},8,["onClick"]),l(v,{onClick:y(ge,["prevent"]),text:"",size:"sm",color:"success",disabled:d(k)},{default:s(()=>[p(c(d(k)?"Processing..":"Proceed Payment"),1)]),_:1},8,["onClick","disabled"])]),_:1})):g("",!0),q.value?(_(),b($,{key:4,onClose:M},{title:s(()=>[e("p",js,c(z.value?"New Appointment":"Update Appointment"),1),Ls]),body:s(()=>[e("form",Fs,[l(C,{for:"appointment",error:r.errors.schedule,label:"Date and Time",class:"mt-3"},{default:s(()=>[l(D,{type:"datetime-local",id:"appointment",modelValue:d(u).schedule,"onUpdate:modelValue":n[7]||(n[7]=t=>d(u).schedule=t)},null,8,["modelValue"])]),_:1},8,["error"]),l(C,{for:"message",error:r.errors.message,label:"Message",class:"mt-2"},{default:s(()=>[l(ue,{id:"message",modelValue:d(u).message,"onUpdate:modelValue":n[8]||(n[8]=t=>d(u).message=t)},null,8,["modelValue"])]),_:1},8,["error"]),Ds,l(d(_e),{modelValue:d(u).selected_services,"onUpdate:modelValue":n[9]||(n[9]=t=>d(u).selected_services=t),options:r.services,multiple:!0,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"service","track-by":"id"},{option:s(t=>[e("div",Is,[e("span",Us,c(t.option.service),1),e("span",Ns,c(d(B)(t.option.price)),1)])]),_:1},8,["modelValue","options"]),r.errors.selected_services?(_(),S("p",Bs,c(r.errors.selected_services),1)):g("",!0),o.$page.props.auth.user.is_admin?(_(),S("div",Os,[Rs,l(d(_e),{modelValue:d(u).user_id,"onUpdate:modelValue":n[10]||(n[10]=t=>d(u).user_id=t),onSearchChange:d($e),options:r.users,multiple:!1,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"full_name","track-by":"id",disabled:!z.value},null,8,["modelValue","onSearchChange","options","disabled"]),r.errors.user_id?(_(),S("p",Hs,c(r.errors.user_id),1)):g("",!0)])):g("",!0),e("p",Ws,"Subtotal: "+c(d(B)(d(u).subtotal)),1)])]),footer:s(()=>[l(v,{onClick:y(M,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ys]),_:1},8,["onClick"]),l(v,{onClick:y(Se,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[qs]),_:1},8,["onClick"])]),_:1})):g("",!0),Y.value?(_(),b($,{key:5,onClose:K},{title:s(()=>[Gs]),body:s(()=>[Ks]),footer:s(()=>[l(v,{onClick:y(K,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Xs]),_:1},8,["onClick"]),l(v,{onClick:y(Ce,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Js]),_:1},8,["onClick"])]),_:1})):g("",!0)]}),_:1})],64))}};export{po as default};
