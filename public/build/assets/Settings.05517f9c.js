import{a as F,b as $,o as q,r as P,e as m,f as l,g as t,H as B,h as d,F as E,i as n,j as s,x as u,O as f,q as _,k as w,v as c,n as h,s as S,z as g}from"./app.5d97cad1.js";import{_ as D}from"./Authenticated.999f646e.js";import{_ as v,a as k}from"./FormInput.c29e736c.js";import{_ as p}from"./Button.cf7a3c64.js";import{_ as I}from"./FloatingSelect.89c99e7e.js";import{_ as z}from"./Modal.0dd2db39.js";/* empty css                                              */const L={class:"py-12 mx-auto max-w-7xl sm:px-6 lg:px-8"},O={class:"px-6 mx-auto max-w-7xl lg:px-8"},R=s("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},[s("p",{class:"text-xl font-medium"},"Account Settings"),s("p",{class:"text-sm"},"Please make sure all of your informations are correct.")],-1),T={class:"mt-6 space-y-6 sm:mt-5 sm:space-y-5"},H={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},G=s("label",{for:"username",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," First Name ",-1),J={class:"mt-1 sm:mt-0 sm:col-span-2"},K={class:"flex flex-col max-w-lg rounded-md shadow-sm"},Q={key:0,class:"text-sm text-red-500"},W=s("label",{for:"middlename",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Middle Name ",-1),X={class:"mt-1 sm:mt-0 sm:col-span-2"},Y={class:"flex max-w-lg rounded-md shadow-sm"},Z=s("label",{for:"lastname",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Last Name ",-1),ss={class:"mt-1 sm:mt-0 sm:col-span-2"},es={class:"flex flex-col max-w-lg rounded-md shadow-sm"},ts={key:0,class:"text-sm text-red-500"},os=s("label",{for:"contactnumber",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Contact Number ",-1),rs={class:"mt-1 sm:mt-0 sm:col-span-2"},as={class:"flex flex-col max-w-lg rounded-md shadow-sm"},ds={key:0,class:"text-sm text-red-500"},ls=s("label",{for:"birthday",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Date of Birth ",-1),ns={class:"mt-1 sm:mt-0 sm:col-span-2"},is={class:"flex flex-col max-w-lg rounded-md shadow-sm"},ms={key:0,class:"text-sm text-red-500"},cs=s("label",{for:"address",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Address ",-1),us={class:"mt-1 sm:mt-0 sm:col-span-2"},fs={class:"flex flex-col max-w-lg rounded-md shadow-sm"},ps={key:0,class:"text-sm text-red-500"},gs=s("label",{for:"address",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Gender ",-1),_s={class:"mt-1 sm:mt-0 sm:col-span-2"},ws={class:"flex max-w-lg rounded-md shadow-sm"},hs=s("option",{value:"Male",class:"font-medium"},"Male",-1),xs=s("option",{value:"Female",class:"font-medium"},"Female",-1),bs=s("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg mt-14"},[s("p",{class:"text-xl font-medium"},"Profile Image"),s("p",{class:"text-sm"},"Please choose a decent photo as this will be displayed publicly")],-1),ys={class:"mt-6 space-y-6 sm:mt-5 sm:space-y-5"},vs={class:"flex items-center sm:border-t sm:border-gray-200 sm:pt-5 gap-x-6"},ks={class:"flex items-center justify-center w-16 h-16 overflow-hidden border-2 border-gray-400 rounded-full shadow-md"},Cs={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-12 h-12",fill:"none",viewBox:"0 0 24 24",stroke:"gray","stroke-width":"1"},Vs=s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Us=[Vs],Ps=["src"],Ss=["src"],zs={class:"flex"},Ms=s("label",{for:"avatar",class:"px-3 py-2 text-xs font-medium tracking-wider text-white uppercase bg-blue-600 rounded-md hover:bg-blue-700 hover:cursor-pointer"},"Upload Image",-1),Ns=g("Reset Image"),js=s("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg mt-14"},[s("p",{class:"text-xl font-medium"},"Login Credentials"),s("p",{class:"text-sm"},"Please make sure to have a unique password.")],-1),As={class:"mt-6 space-y-6 sm:mt-5 sm:space-y-5"},Fs={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},$s=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Email Address ",-1),qs={class:"mt-1 sm:mt-0 sm:col-span-2"},Bs={class:"flex flex-col max-w-lg rounded-md shadow-sm"},Es={key:0,class:"text-sm text-red-500"},Ds=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," Password ",-1),Is={class:"mt-1 sm:mt-0 sm:col-span-2"},Ls=s("input",{type:"password",name:"password",id:"password",value:"*******",autocomplete:"password",disabled:"",class:"w-full transition duration-200 border-gray-400 shadow-sm cursor-pointer disabled:bg-gray-100 rounded-bl-md rounded-tl-md group-hover:ring-1 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,-1),Os=g("Update"),Rs={class:"px-6 mx-auto space-y-6 max-w-7xl sm:mt-5 sm:space-y-5 lg:px-8"},Ts={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:pt-5"},Hs=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},null,-1),Gs={class:"max-w-lg sm:col-span-2"},Js={class:"flex justify-end"},Ks=g("Save Changes"),Qs=s("p",{class:"text-xl font-bold"},"Enter Current Password",-1),Ws=s("p",{class:"text-sm text-gray-600"},"Please enter your current password to confirm your changes.",-1),Xs={action:"",class:"mt-2"},Ys=g("Close"),Zs=g("Confirm Changes"),se=s("p",{class:"text-xl font-bold"},"Update Password",-1),ee=s("p",{class:"text-sm text-gray-600"},"Please enter your current password to confirm your changes.",-1),te={action:"",class:"mt-2"},oe=g("Close"),re=g("Save Changes"),ue={__name:"Settings",props:{user:Object,errors:Object},setup(a){const i=a,x=F();let e=$({first_name:"",middle_name:"",last_name:"",address:"",gender:"",image:null,email:null,birthday:null,contact_number:null,image_preview:null,current_password:null,password:null,password_confirmation:null});q(()=>{e.first_name=i.user.first_name,e.middle_name=i.user.middle_name,e.last_name=i.user.last_name,e.address=i.user.address,e.image=i.user.image,e.gender=i.user.gender,e.email=i.user.email,e.birthday=i.user.birthday,e.contact_number=i.user.contact_number,e.image_preview=null});const C=P(!1),V=P(!1),b=()=>{C.value=!C.value},y=()=>{V.value=!V.value},M=()=>{e.post("/settings/update",{preserveState:!0,onError:()=>{x.error("Something went wrong!")},onSuccess:()=>{x.success("Account updated successfully!"),e.image=null,e.image_preview=null,b(),e.current_password=null}})},N=()=>{e.post("settings/update-password",{preserveState:!0,onError:()=>{x.error("Something went wrong!")},onSuccess:()=>{x.success("Account password successfully!"),e.password=null,e.confirm_password=null,e.current_password=null,y()}})},j=U=>{if(e.image=U.target.files[0],e.image_preview=U.target.files[0],!e.image||!e.image.type.match("image.*"))return!1;const o=new FileReader;o.onload=function(r){e.image_preview=r.target.result},o.readAsDataURL(e.image_preview)},A=()=>{e.image_preview=null,e.image=null};return(U,o)=>(n(),m(E,null,[l(t(B),{title:"Dashboard"}),l(D,null,{default:d(()=>[s("div",L,[s("div",O,[R,s("div",T,[s("div",H,[G,s("div",J,[s("div",K,[u(s("input",{type:"text",name:"firstname",id:"firstname","onUpdate:modelValue":o[0]||(o[0]=r=>t(e).first_name=r),autocomplete:"firstname",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.first_name}])},null,2),[[f,t(e).first_name]]),a.errors.first_name?(n(),m("p",Q,w(a.errors.first_name),1)):c("",!0)])]),W,s("div",X,[s("div",Y,[u(s("input",{type:"text",name:"middlename",id:"middlename","onUpdate:modelValue":o[1]||(o[1]=r=>t(e).middle_name=r),autocomplete:"middlename",class:"w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,t(e).middle_name]])])]),Z,s("div",ss,[s("div",es,[u(s("input",{type:"text",name:"lastname",id:"lastname","onUpdate:modelValue":o[2]||(o[2]=r=>t(e).last_name=r),autocomplete:"lastname",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.last_name}])},null,2),[[f,t(e).last_name]]),a.errors.last_name?(n(),m("p",ts,w(a.errors.last_name),1)):c("",!0)])]),os,s("div",rs,[s("div",as,[u(s("input",{type:"text",name:"contactnumber",id:"contactnumber","onUpdate:modelValue":o[3]||(o[3]=r=>t(e).contact_number=r),autocomplete:"contactnumber",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.contact_number}])},null,2),[[f,t(e).contact_number]]),a.errors.contact_number?(n(),m("p",ds,w(a.errors.contact_number),1)):c("",!0)])]),ls,s("div",ns,[s("div",is,[u(s("input",{type:"date",name:"birthday",id:"birthday","onUpdate:modelValue":o[4]||(o[4]=r=>t(e).birthday=r),autocomplete:"birthday",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.birthday}])},null,2),[[f,t(e).birthday]]),a.errors.birthday?(n(),m("p",ms,w(a.errors.birthday),1)):c("",!0)])]),cs,s("div",us,[s("div",fs,[u(s("textarea",{type:"text",name:"address",id:"address","onUpdate:modelValue":o[5]||(o[5]=r=>t(e).address=r),autocomplete:"address",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.address}])},null,2),[[f,t(e).address]])]),a.errors.birthday?(n(),m("p",ps,w(a.errors.address),1)):c("",!0)]),gs,s("div",_s,[s("div",ws,[l(I,{modelValue:t(e).gender,"onUpdate:modelValue":o[6]||(o[6]=r=>t(e).gender=r)},{default:d(()=>[hs,xs]),_:1},8,["modelValue"])])])])]),bs,s("div",ys,[s("div",vs,[s("div",ks,[!i.user.image&&!t(e).image_preview?(n(),m("svg",Cs,Us)):t(e).image_preview?(n(),m("img",{key:1,src:t(e).image_preview,class:"h-full rounded-full object-fit",alt:""},null,8,Ps)):(n(),m("img",{key:2,src:`images/profile/${i.user.image}`,class:"h-full rounded-full object-fit",alt:""},null,8,Ss))]),s("div",zs,[s("input",{id:"avatar",type:"file",class:"hidden",onChange:j,accept:"image/*"},null,32),Ms,l(p,{color:"error",size:"sm",disabled:!t(e).image_preview,onClick:A},{default:d(()=>[Ns]),_:1},8,["disabled"])])])]),js,s("div",As,[s("div",Fs,[$s,s("div",qs,[s("div",Bs,[u(s("input",{type:"text",name:"email",id:"email","onUpdate:modelValue":o[7]||(o[7]=r=>t(e).email=r),autocomplete:"email",class:_(["w-full border-gray-400 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",{"border-red-400":a.errors.email}])},null,2),[[f,t(e).email]]),a.errors.email?(n(),m("p",Es,w(a.errors.email),1)):c("",!0)])]),Ds,s("div",Is,[s("div",{class:"flex max-w-lg rounded-md shadow-sm cursor-pointer group",onClick:y},[Ls,l(p,{size:"sm",class:"ml-0 rounded-none rounded-r-md rounded-br-md group-hover:bg-blue-800 group-hover:ring-1 group-hover:ring-offset-0"},{default:d(()=>[Os]),_:1})])])])])]),s("div",Rs,[s("div",Ts,[Hs,s("div",Gs,[s("div",Js,[l(p,{size:"sm",onClick:h(b,["prevent"])},{default:d(()=>[Ks]),_:1},8,["onClick"])])])])])]),C.value?(n(),S(z,{key:0,onClose:b},{title:d(()=>[Qs,Ws]),body:d(()=>[s("form",Xs,[l(v,{label:"Enter Password",for:"confirmpassword",error:a.errors.current_password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).current_password,"onUpdate:modelValue":o[8]||(o[8]=r=>t(e).current_password=r),id:"confirmpassword",required:""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:d(()=>[l(p,{onClick:h(b,["prevent"]),text:"",size:"sm",color:"gray"},{default:d(()=>[Ys]),_:1},8,["onClick"]),l(p,{onClick:h(M,["prevent"]),text:"",size:"sm",color:"success"},{default:d(()=>[Zs]),_:1},8,["onClick"])]),_:1})):c("",!0),V.value?(n(),S(z,{key:1,onClose:y},{title:d(()=>[se,ee]),body:d(()=>[s("form",te,[l(v,{label:"Current Password",for:"current_password",error:a.errors.current_password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).current_password,"onUpdate:modelValue":o[9]||(o[9]=r=>t(e).current_password=r),id:"current_password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{class:"mt-2",label:"New Password",for:"password",error:a.errors.password},{default:d(()=>[l(k,{type:"password",modelValue:t(e).password,"onUpdate:modelValue":o[10]||(o[10]=r=>t(e).password=r),id:"password",required:""},null,8,["modelValue"])]),_:1},8,["error"]),l(v,{class:"mt-2",label:"Confirm Password",for:"password_confirmation",error:a.errors.password_confirmation},{default:d(()=>[l(k,{type:"password",modelValue:t(e).password_confirmation,"onUpdate:modelValue":o[11]||(o[11]=r=>t(e).password_confirmation=r),id:"password_confirmation",required:""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:d(()=>[l(p,{onClick:h(y,["prevent"]),text:"",size:"sm",color:"gray"},{default:d(()=>[oe]),_:1},8,["onClick"]),l(p,{onClick:h(N,["prevent"]),text:"",size:"sm",color:"success"},{default:d(()=>[re]),_:1},8,["onClick"])]),_:1})):c("",!0)]),_:1})],64))}};export{ue as default};
