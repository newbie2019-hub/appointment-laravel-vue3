import{c as W,a as X,r as v,b as Y,l as Z,d as ee,e as g,f as a,g as l,H as te,h as o,F as E,u as se,i as u,j as e,k as d,m as I,p as oe,q as H,v as _,z as n,s as f,n as m}from"./app.c91643f5.js";import{_ as le}from"./Authenticated.e6231275.js";import{_ as p}from"./Button.941dc518.js";import{_ as w}from"./FloatingInput.e9ba1f8e.js";import{_ as L}from"./FloatingSelect.84ca6a3c.js";import{_ as x}from"./FormInput.e0d266c9.js";import{P as ae}from"./Pagination.a8d6641e.js";import{_ as C}from"./Modal.ab9f9cc5.js";import{f as O,s as re}from"./Utilities.5f54765f.js";/* empty css                                              */const ne={class:"max-w-8xl mx-auto px-6 lg:px-8"},ie=e("div",{class:"sm:px-6 lg:px-8 mt-6 mx-auto"},[e("p",{class:"font-medium text-xl"},"Patients Summary"),e("p",null,"Here is an overview of your patients.")],-1),de={class:"py-8 max-w-8xl mx-auto sm:px-6 lg:px-8 flex flex-wrap gap-y-4 gap-x-4"},ce={class:"bg-red-500 flex-1 p-4 text-white rounded-md md:max-w-md"},ue={class:"flex justify-between"},me={class:"text-9xl flex items-center"},pe=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5"},[n("Trashed "),e("br"),n("Patients")])],-1),_e=e("span",{class:"sr-only"},"Trashed Patients",-1),he={class:"bg-green-600 flex-1 p-4 text-white rounded-md md:max-w-md"},fe={class:"flex justify-between"},xe={class:"text-9xl flex items-center"},ve=e("div",{class:"flex flex-col items-end gap-y-8"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("p",{class:"uppercase font-medium tracking-wider leading-5 text-right"},[n("Total "),e("br"),n("Patients")])],-1),ge=e("span",{class:"sr-only"},"Total Patients",-1),we={class:"max-w-8xl mx-auto px-6 lg:px-8"},ye={class:"py-8"},be={class:"max-w-8xl mx-auto sm:px-6 lg:px-8"},ke={class:"overflow-x-auto sm:rounded-lg"},Ce={class:""},Ve={class:"max-w-8xl mx-auto bg-white rounded-lg pb-6"},ze=e("p",{class:"text-xl font-medium"},"Patients Record",-1),Ae=e("p",{class:"text-sm text-gray-700"},"Shown below are the records of your patients.",-1),Se={class:"flex justify-between mt-7 mb-7"},Pe=e("option",{value:"with"},"All Patients",-1),Me=e("option",{value:""},"Active Patients",-1),$e=e("option",{value:"only"},"Trashed Patients",-1),Ue={class:"overflow-x-auto"},je={class:"min-w-full divide-y divide-gray-300"},Ne=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"ID"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"},"Full Name"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Address"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Contact Number"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Gender"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Email"),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"},"Approved"),e("th",{scope:"col",class:"px-3 py-3.5 text-left"},"Created On"),e("th",{scope:"col",class:"px-3 py-3.5 text-left whitespace-nowrap"},"Deleted At"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6 text-left"},"Actions")])],-1),Fe={class:"divide-y divide-gray-300 bg-white"},Be={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Te={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 flex items-center gap-x-2"},De={class:"rounded-full bg-blue-400 w-8 h-8 border-gray-100 flex items-center justify-center"},Re={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},Ee=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),Ie=[Ee],He=["src"],Le={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Oe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ge={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900 capitalize"},qe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ke={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Je={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Qe={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},We={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-sm sm:pr-6"},Xe=n("Approve"),Ye=n("View"),Ze=n("Update"),et=n("Trash"),tt=n("Restore"),st={key:0},ot=e("td",{colspan:"9"},[e("div",{class:"mx-auto text-center py-4 font-medium text-gray-600"},"No data available ..")],-1),lt=[ot],at={class:"text-sm mt-2 text-gray-500"},rt=e("p",{class:"font-bold text-xl"},"Confirm Approve",-1),nt=e("p",{class:"text-sm mt-2"},"Are you sure you want to approve this account?",-1),it=n("Cancel"),dt=n("Approve"),ct=e("p",{class:"font-bold text-xl"},"Patient Information",-1),ut=e("p",{class:"text-sm"},"Here are the informations of the patient",-1),mt={class:"rounded-full bg-blue-400 w-16 h-16 border-gray-100 flex items-center justify-center mx-auto mt-4"},pt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 text-white",viewBox:"0 0 20 20",fill:"currentColor"},_t=e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"},null,-1),ht=[_t],ft=["src"],xt={class:"text-center"},vt={class:"mt-2 font-medium"},gt={class:"text-sm"},wt={class:"flex mt-4 gap-x-2"},yt={class:"w-1/2"},bt={class:"text-sm font-medium"},kt={class:"text-sm font-medium"},Ct={class:"w-1/2"},Vt={class:"text-sm font-medium"},zt={class:"text-sm font-medium"},At=n("Close"),St=e("p",{class:"font-bold text-xl"},"Confirm Delete",-1),Pt=e("p",{class:"text-sm text-gray-600"},[n(" Are you sure you want to trash this service? "),e("span",{class:"text-sm text-red-500"},[e("br"),n("Note: This data can still be restored.")])],-1),Mt=n("Close"),$t=n("Confirm"),Ut=e("p",{class:"font-bold text-xl"},"Update User",-1),jt=e("p",{class:"text-sm"},"All input fields are required.",-1),Nt={class:"w-full"},Ft={class:"flex gap-x-2"},Bt={class:"w-1/2"},Tt={class:"w-1/2"},Dt={class:"w-full"},Rt={class:"flex w-full gap-x-2"},Et={class:"w-1/2"},It=e("option",{value:"Male",class:"font-medium"},"Male",-1),Ht=e("option",{value:"Female",class:"font-medium"},"Female",-1),Lt={class:"w-1/2"},Ot=n("Close"),Gt=n("Save Changes"),qt=e("p",{class:"font-bold text-xl"},"Confirm Restore",-1),Kt=e("p",{class:"text-sm text-gray-600"},"Are you sure you want to restore this account? All of its transaction data will be restored as well.",-1),Jt=n("Close"),Qt=n("Restore"),rs={__name:"Patients",props:{patients:Object,errors:Object,filters:Object,trashedPatientsCount:Number},setup(c){const N=c,F=W(()=>se().props.value.flash.message),h=X();let y=v(N.filters.search),b=v(N.filters.trashed);const k=v(!1),P=v(!1),M=v(!1),$=v(!1),U=v(!1);let s=Y({id:null,first_name:null,middle_name:null,last_name:null,gender:null,address:null,birthday:null});const V=()=>{P.value=!P.value},z=()=>{M.value=!M.value},j=()=>{$.value=!$.value},A=(r=null)=>{s.id=r==null?void 0:r.id,s.first_name=r==null?void 0:r.first_name,s.middle_name=r==null?void 0:r.middle_name,s.last_name=r==null?void 0:r.last_name,s.gender=r==null?void 0:r.gender,s.address=r==null?void 0:r.address,s.birthday=r==null?void 0:r.birthday,U.value=!U.value},G=()=>{s.put(`/approve/${s.value.id}`,{preserveState:!0,onFinish:()=>{k.value=!1},onSuccess:()=>{h.success("Account has been approved successfully!")},onError:()=>{h.error("Something went wrong!")}})},q=()=>{s.delete(`/patients/${s.value.id}`,{preserveState:!0,onFinish:()=>{z()},onSuccess:()=>{h.success(F.value)},onError:()=>{h.error("Something went wrong!")}})},K=()=>{s.transform(r=>({...r})).put(`patients/${s.id}`,{preserveState:!0,onSuccess:()=>{h.success(`${F.value}`),A()},onError:()=>{h.error("Something went wrong!")}})},J=()=>{s.put(`/patients/restore/${s.value.id}`,{preserveState:!0,onFinish:()=>{V()},onSuccess:()=>{h.success("Account has been restored successfully!")},onError:()=>{h.error("Something went wrong!")}})},B=Z.exports.debounce(()=>{ee.Inertia.get("/patients",{search:y.value,trashed:b.value},{replace:!0,preserveState:!0})},300);return(r,i)=>(u(),g(E,null,[a(l(te),{title:"Dashboard"}),a(le,null,{default:o(()=>{var T,D,R;return[e("div",ne,[ie,e("div",de,[e("div",ce,[e("div",ue,[e("div",me,d(l(O)(c.trashedPatientsCount)),1),pe]),_e]),e("div",he,[e("div",fe,[e("div",xe,d(l(O)(c.patients.data.length)),1),ve]),ge])])]),e("div",we,[e("div",ye,[e("div",be,[e("div",ke,[e("div",Ce,[e("div",Ve,[ze,Ae,e("div",Se,[a(x,{label:"Filter Patients",class:"w-52"},{default:o(()=>[a(L,{onChange:l(B),modelValue:l(b),"onUpdate:modelValue":i[0]||(i[0]=t=>I(b)?b.value=t:b=t)},{default:o(()=>[Pe,Me,$e]),_:1},8,["onChange","modelValue"])]),_:1}),a(x,{label:"Search Patient",for:"search"},{default:o(()=>[a(w,{modelValue:l(y),"onUpdate:modelValue":i[1]||(i[1]=t=>I(y)?y.value=t:y=t),onKeyup:l(B),id:"search"},null,8,["modelValue","onKeyup"])]),_:1})]),e("div",Ue,[e("table",je,[Ne,e("tbody",Fe,[(u(!0),g(E,null,oe(c.patients.data,(t,Q)=>(u(),g("tr",{key:Q,class:H([{"bg-red-100":t.deleted_at},"hover:bg-gray-100"])},[e("td",Be,d(t.id),1),e("td",Te,[e("div",De,[t.image?_("",!0):(u(),g("svg",Re,Ie)),e("img",{src:`images/profile/${t.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,He)]),n(" "+d(t.full_name),1)]),e("td",Le,d(l(re)(t.address)),1),e("td",Oe,d(t.contact_number),1),e("td",Ge,d(t.gender),1),e("td",qe,d(t.email),1),e("td",Ke,[e("div",{class:H(["px-4 py-2 text-xs text-white rounded-full flex justify-center items-center",parseInt(t.is_approved)?"bg-green-600":"bg-red-600"])},d(parseInt(t.is_approved)?"Approved":"Pending"),3)]),e("td",Je,d(t.created_at),1),e("td",Qe,d(t.deleted_at),1),e("td",We,[parseInt(t.is_approved)?_("",!0):(u(),f(p,{key:0,onClick:m(S=>{k.value=!0,l(s).value={...t}},["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[Xe]),_:2},1032,["onClick"])),a(p,{onClick:m(S=>{j(),l(s).value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[Ye]),_:2},1032,["onClick"]),a(p,{onClick:m(S=>{A(t)},["prevent"]),text:"",size:"sm",color:""},{default:o(()=>[Ze]),_:2},1032,["onClick"]),t.deleted_at?(u(),f(p,{key:2,onClick:m(S=>{l(s).value={...t},V()},["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[tt]),_:2},1032,["onClick"])):(u(),f(p,{key:1,onClick:m(S=>{z(),l(s).value={...t}},["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[et]),_:2},1032,["onClick"]))])],2))),128)),c.patients.data.length==0?(u(),g("tr",st,lt)):_("",!0)])])]),e("p",at,"Showing "+d((T=c.patients.from)!=null?T:0)+" to "+d((D=c.patients.to)!=null?D:0)+" out of "+d((R=c.patients.total)!=null?R:0)+" patients.",1),a(ae,{links:c.patients.links,right:""},null,8,["links"])])])])])])]),k.value?(u(),f(C,{key:0,onClose:i[3]||(i[3]=t=>k.value=!1)},{title:o(()=>[rt,nt]),footer:o(()=>[a(p,{onClick:i[2]||(i[2]=m(t=>k.value=!1,["prevent"])),text:"",size:"sm",color:""},{default:o(()=>[it]),_:1}),a(p,{onClick:m(G,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[dt]),_:1},8,["onClick"])]),_:1})):_("",!0),$.value?(u(),f(C,{key:1,onClose:j},{title:o(()=>[ct,ut]),body:o(()=>[e("div",mt,[l(s).value.image?_("",!0):(u(),g("svg",pt,ht)),e("img",{src:`images/profile/${l(s).value.image}`,class:"object-fit rounded-full h-full",alt:""},null,8,ft)]),e("div",xt,[e("p",vt,d(l(s).value.full_name),1),e("p",gt,d(l(s).value.email),1)]),e("div",wt,[e("div",yt,[e("p",bt,"Address: "+d(l(s).value.address),1),e("p",kt,"Birthday: "+d(l(s).value.birthday),1)]),e("div",Ct,[e("p",Vt,"Gender: "+d(l(s).value.gender),1),e("p",zt,"Contact: "+d(l(s).value.contact_number),1)])])]),footer:o(()=>[a(p,{onClick:m(j,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[At]),_:1},8,["onClick"])]),_:1})):_("",!0),M.value?(u(),f(C,{key:2,onClose:z},{title:o(()=>[St]),body:o(()=>[Pt]),footer:o(()=>[a(p,{onClick:m(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Mt]),_:1},8,["onClick"]),a(p,{onClick:m(q,["prevent"]),text:"",size:"sm",color:"error"},{default:o(()=>[$t]),_:1},8,["onClick"])]),_:1})):_("",!0),U.value?(u(),f(C,{key:3,onClose:A},{title:o(()=>[Ut,jt]),body:o(()=>[e("div",Nt,[a(x,{for:"firstname",error:c.errors.first_name,label:"First Name",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"firstname",modelValue:l(s).first_name,"onUpdate:modelValue":i[4]||(i[4]=t=>l(s).first_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Ft,[e("div",Bt,[a(x,{for:"middlename",error:c.errors.middle_name,label:"Middle Name ",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"middlename",modelValue:l(s).middle_name,"onUpdate:modelValue":i[5]||(i[5]=t=>l(s).middle_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Tt,[a(x,{for:"lastname",error:c.errors.last_name,label:"Last Name",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"lastname",modelValue:l(s).last_name,"onUpdate:modelValue":i[6]||(i[6]=t=>l(s).last_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"])]),_:1},8,["error"])])]),e("div",Dt,[a(x,{for:"address",error:c.errors.address,label:"Address",class:"mt-3"},{default:o(()=>[a(w,{type:"text",id:"address",modelValue:l(s).address,"onUpdate:modelValue":i[7]||(i[7]=t=>l(s).address=t),autofocus:"",autocomplete:"address"},null,8,["modelValue"])]),_:1},8,["error"])]),e("div",Rt,[e("div",Et,[a(x,{for:"gender",error:c.errors.gender,label:"Gender",class:"mt-3"},{default:o(()=>[a(L,{modelValue:l(s).gender,"onUpdate:modelValue":i[8]||(i[8]=t=>l(s).gender=t)},{default:o(()=>[It,Ht]),_:1},8,["modelValue"])]),_:1},8,["error"])]),e("div",Lt,[a(x,{for:"gender",error:c.errors.gender,label:"Date of Birth",class:"mt-3"},{default:o(()=>[a(w,{type:"date",modelValue:l(s).birthday,"onUpdate:modelValue":i[9]||(i[9]=t=>l(s).birthday=t)},null,8,["modelValue"])]),_:1},8,["error"])])])]),footer:o(()=>[a(p,{onClick:m(A,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Ot]),_:1},8,["onClick"]),a(p,{onClick:m(K,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[Gt]),_:1},8,["onClick"])]),_:1})):_("",!0),P.value?(u(),f(C,{key:4,onClose:V},{title:o(()=>[qt]),body:o(()=>[Kt]),footer:o(()=>[a(p,{onClick:m(V,["prevent"]),text:"",size:"sm",color:"gray"},{default:o(()=>[Jt]),_:1},8,["onClick"]),a(p,{onClick:m(J,["prevent"]),text:"",size:"sm",color:"success"},{default:o(()=>[Qt]),_:1},8,["onClick"])]),_:1})):_("",!0)]}),_:1})],64))}};export{rs as default};
