import{c as de,r as v,u as $e,a as J,t as ze,l as De,d as K,o as n,b as g,e as a,f as i,H as Ue,g as s,F as Q,h as ce,B as Fe,i as e,p as ue,j as d,m as _,k as Ie,n as me,q as h,s as p,v as Ne,x as Re,y as m}from"./app.700f6aa5.js";import{_ as Ee}from"./Authenticated.716c92d7.js";import{_ as u}from"./Button.bcaf4099.js";import{_ as b,a as F}from"./Modal.vue_vue_type_style_index_0_lang.d2422e9e.js";import{_ as I}from"./FloatingTextArea.8e39e444.js";import{_ as Te}from"./FloatingSelect.9b17b208.js";import{_ as pe}from"./Chip.4053e71b.js";import{_ as Be}from"./MedicalForm.e301efa2.js";import{_ as w}from"./Modal.c825d461.js";import{c as _e,s as Le,a as N}from"./Utilities.5f54765f.js";import{s as he}from"./vue-multiselect.esm.6cae37d0.js";import"./Radio.4b969f2d.js";const je={class:"max-w-8xl px-6 lg:px-8"},Oe={class:"sm:px-6 lg:px-8 mt-6 mx-auto"},qe=e("p",{class:"font-medium text-xl"},"User Profile",-1),He=e("p",null,"Profile Information",-1),Ye={class:"grid grid-cols-2 lg:grid-cols-4 mt-4"},Ge={class:"w-full h-full flex items-center"},We=["src"],Je={key:1,class:"text-gray-400"},Ke={class:"ml-3 md:ml-0"},Qe=e("p",{class:"text-gray-500"},"Patient's Name",-1),Xe={class:"font-semibold"},Ze=e("p",{class:"text-gray-500 mt-2"},"Gender",-1),et={class:"font-semibold"},tt=e("p",{class:"text-gray-500 mt-2"},"Contact Number",-1),st={class:"font-semibold"},ot={class:"mt-4 lg:mt-0"},lt=e("p",{class:"text-gray-500"},"Email Address",-1),at={class:"font-semibold"},rt=e("p",{class:"text-gray-500 mt-2"},"Date of Birth",-1),nt={class:"font-semibold"},it=e("p",{class:"text-gray-500 mt-2"},"Registered Date",-1),dt={class:"font-semibold"},ct={class:"mt-4 lg:mt-0"},ut=e("p",{class:"text-gray-500"},"Address",-1),mt={class:"font-semibold"},pt={class:"mt-4 lg:mt-0"},_t=e("p",{class:"text-gray-500 mt-2"},"Valid ID",-1),ht={class:"mt-4 lg:mt-0"},ft=e("p",{class:"text-gray-500 mt-2"},"Medical Record",-1),vt={class:"py-10"},yt={class:"px-6 max-w-8xl lg:px-8"},gt={class:"overflow-x-auto sm:rounded-lg"},xt={class:""},bt={class:"pb-6 mx-auto bg-white border-gray-200 rounded-lg max-w-8xl sm:px-6 lg:px-8"},kt=e("p",{class:"text-xl font-medium"}," Patient Appointments ",-1),wt=e("p",{class:"text-sm text-gray-700"}," Shown below are the appointments record ",-1),Ct={class:"flex justify-end mb-6 mt-7 gap-x-2"},St=e("option",{value:"with"}," All Appointments ",-1),Pt=e("option",{value:""}," Active Appointments ",-1),Vt=e("option",{value:"only"}," Trashed Appointments ",-1),At={class:"overflow-x-auto"},Mt={class:"min-w-full divide-y divide-gray-300"},$t=e("thead",{class:"bg-gray-50"},[e("tr",{class:"[&>*]:uppercase font-medium text-xs text-gray-500"},[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Status "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Schedule "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Message "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Sub Total "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment Type "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Payment "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Created On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left sm:pl-6 whitespace-nowrap"}," Deleted On "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 sm:pl-6 text-left"}," Actions ")])],-1),zt={class:"bg-white divide-y divide-gray-200"},Dt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ut={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Ft={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},It={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Nt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Rt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Et={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Tt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Bt={class:"py-4 pl-4 pr-3 text-sm font-medium text-gray-900 whitespace-nowrap sm:pl-6"},Lt={class:"relative py-4 pl-3 pr-4 text-sm whitespace-nowrap sm:pr-6"},jt=m("Details"),Ot=m("Update"),qt=m("Certificate"),Ht=m("Prescription"),Yt=m("View Prescription"),Gt=m("View Prescription"),Wt=m("View Receipt"),Jt=m("View Receipt"),Kt=m("Payment"),Qt=m("Trash"),Xt={key:0},Zt=e("td",{colspan:"11"},[e("div",{class:"py-4 mx-auto font-medium text-center text-gray-600"}," No data available .. ")],-1),es=[Zt],ts=e("p",{class:"text-xl font-bold"},"Appointment Information",-1),ss=e("p",{class:"text-sm text-gray-600"}," Here are the informations for this appointment ",-1),os=e("p",{class:"mt-3 mb-2"},"Patient Information",-1),ls={class:"text-sm"},as={class:"text-sm"},rs={class:"text-sm"},ns=e("p",{class:"mt-4 mb-2"},"Appointment Information",-1),is={class:"text-sm"},ds={class:"text-sm"},cs={class:"text-sm"},us=e("p",{class:"mt-4 mb-2"},"Services Selected",-1),ms=m("Close"),ps=m("Mark as Finished"),_s=m("Approve"),hs=e("p",{class:"text-xl font-bold"},"Confirm Delete",-1),fs=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to move this appointment to trash? Once moved to trash the appointment status will be marked as cancelled and cannot be restored. ",-1),vs=m("Close"),ys=m("Confirm"),gs=e("p",{class:"text-xl font-bold"},"Prescription",-1),xs=e("p",{class:"text-sm font-regular"}," Enter your prescription for this appointment ",-1),bs={action:"",class:"mt-2"},ks=m("Close"),ws=m("Save"),Cs=e("p",{class:"text-xl font-bold"},"Payment Transaction",-1),Ss=e("p",{class:"mt-1 text-sm text-gray-500"}," We do not store any credit card informations. All transactions are processed by Stripe. ",-1),Ps={key:0},Vs=e("p",{class:"mt-4 mb-1 font-medium text-center text-gray-500"}," Loading Secure Payment ... ",-1),As=[Vs],Ms=e("p",{class:"mt-1 mb-2"},"Credit Card Information",-1),$s=e("div",{id:"card-element",class:"[&>*]:border-gray-500 border-2 p-3 rounded-md mb-4"},null,-1),zs=[Ms,$s],Ds=m("Close"),Us=e("p",{class:"text-xl font-bold"},"Accept Payment",-1),Fs=e("p",{class:"mt-1 text-sm text-gray-500"}," Please fill-in all the fields in the form. ",-1),Is=m("Close"),Ns={class:"text-xl font-bold"},Rs=e("p",null,"Please fill-in all fields.",-1),Es={class:"flex flex-col"},Ts=e("p",{class:"mt-2 text-sm"},"Select Service",-1),Bs={class:"flex flex-col option__desc"},Ls={class:"option__title"},js={class:"text-sm"},Os={key:0,class:"mt-1 text-sm text-red-500"},qs={key:1},Hs=e("p",{class:"mt-2 text-sm"},"Select Patient",-1),Ys={key:0,class:"mt-1 text-sm text-red-500"},Gs={class:"mt-2"},Ws=m("Close"),Js=m("Save Appointment"),Ks=e("p",{class:"text-xl font-bold"},"Confirm Restore",-1),Qs=e("p",{class:"text-sm text-gray-600"}," Are you sure you want to restore this scheduled appointment? This might cause conflicts to some of the schedules. ",-1),Xs=m("Close"),Zs=m("Restore"),po={__name:"ViewUsers",props:{user:Object,filters:Object,errors:Object},setup(c){const R=c;de(()=>{var o;return(o=ce().props.value.errors.error)!=null?o:"Something went wrong"});const X=de(()=>{var o;return(o=ce().props.value.flash.success)!=null?o:"Success"}),Z=v([]),E=v(!1),fe=v(0),A=v(!1),ve=()=>{A.value=!A.value},ye=()=>{E.value=!0},ge=()=>E.value=!1;let k=v(!1);const xe=async()=>{C.subtotal=r.value.subtotal,C.appointment_id=r.value.id,r.value.subtotal>C.amount_tendered?y.error("Insufficient amount is received"):(k.value=!0,C.transform(o=>({...o,change:o.amount_tendered-o.subtotal})).post(route("payment-branch.store"),{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success(X.value),H()}})),k.value=!1},be=async()=>{k.value=!0;const{paymentMethod:o,error:l}=await stripe.createPaymentMethod("card",cardElement,{billing_details:{name:r.value.patient.full_name,email:r.value.patient.email,address:{line1:r.value.patient.address}}});l?y.error(l.message):(r.value.paymentMethodId=o.id,K.Inertia.post(route("payment.store"),r.value,{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success(X.value),te()}})),k.value=!1},y=$e(),ee={appointment_id:null,prescription:"",note:""};let x=J({...ee});const C=J({id:null,subtotal:null,change:null,appointment_id:null,amount_tendered:0});let f=J({id:null,service:null,price:null,subtotal:0,selected_services:[],user_id:null,message:"",schedule:""});const r=v({id:null,message:null,schedule:null,patient:{first_name:null,last_name:null}}),T=v(!1),B=v(!1),L=v(!1),j=v(!1),M=v(!1),$=v(!1),O=v(!1),S=v(!1),q=v(!1);ze(f,"selected_services");const te=o=>{$.value=!0,o?S.value=!S.value:(M.value=!M.value,M.value&&setTimeout(()=>{$.value=!1,cardElement.mount("#card-element")},1200))},P=()=>{O.value=!O.value},z=(o=null,l={...ee})=>{x.appointment_id=o,x.note=l==null?void 0:l.note,x.prescription=l==null?void 0:l.prescription,q.value=!q.value},H=()=>{S.value=!S.value},D=()=>{L.value=!L.value},Y=()=>{j.value=!j.value},G=(o=null)=>{var l;o!=null&&(f.message=o.message,f.id=o.id,f.user_id=o.patient,f.selected_services=(l=o.services)==null?void 0:l.map(W=>W.service),f.schedule=moment(o.schedule).format("YYYY-MM-DDThh:mm")),B.value=!B.value},ke=()=>{x.post(route("prescription.store"),{onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment prescription has been saved!"),z(),x.appointment_id=null,x.prescription=null,x.note=null}})},we=()=>{K.Inertia.delete(`/appointments/${r.value.id}`,{preserveState:!0,onSuccess:()=>{y.success("Appointment has been moved to trash successfully!"),D()}})},Ce=()=>{f.put(`/appointments/restore/${r.value.id}`,{preserveState:!0,onSuccess:()=>{y.success("Appointment has been restored successfully!"),Y()}})},Se=()=>{f.put(`/appointments/approve/${r.value.id}`,{preserveState:!0,onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment has been approved successfully!"),P()}})},Pe=()=>{f.put(`/appointments/finished/${r.value.id}`,{preserveState:!0,onError:()=>{y.error("Something went wrong")},onSuccess:()=>{y.success("Appointment has been marked as finished"),P()}})};let Ve=v(R.filters.search),V=v(R.filters.trashed);const Ae=De.exports.debounce(()=>{K.Inertia.get(`/patients/${R.user.id}`,{search:Ve.value,trashed:V.value},{replace:!0,preserveState:!0})},300);return(o,l)=>{const W=Fe("vue-easy-lightbox");return n(),g(Q,null,[a(i(Ue),{title:"User Profile"}),a(Ee,null,{default:s(()=>{var se,oe;return[e("div",je,[e("div",Oe,[qe,He,e("div",Ye,[e("div",Ge,[e("div",{class:ue(["w-48 h-48 rounded-md",{"bg-gray-100 flex items-center justify-center":!((se=c.user)!=null&&se.image)}])},[c.user.image?(n(),g("img",{key:0,src:`/images/profile/${(oe=c.user)==null?void 0:oe.image}`,class:"object-fit h-full",alt:""},null,8,We)):(n(),g("p",Je,"No Image"))],2)]),e("div",Ke,[e("div",null,[Qe,e("p",Xe,d(c.user.full_name),1)]),e("div",null,[Ze,e("p",et,d(c.user.gender),1)]),e("div",null,[tt,e("p",st,d(c.user.contact_number),1)])]),e("div",null,[e("div",ot,[lt,e("p",at,d(c.user.email),1)]),e("div",null,[rt,e("p",nt,d(c.user.birthday),1)]),e("div",null,[it,e("p",dt,d(c.user.created_at),1)])]),e("div",null,[e("div",ct,[ut,e("p",mt,d(c.user.address),1)]),e("div",pt,[_t,e("a",{type:"button",href:"",onClick:l[0]||(l[0]=_(t=>{ye(),Z.value=`/images/${c.user.valid_id}`},["prevent"])),class:"font-semibold text-blue-500 hover:text-blue-600"},d(c.user.valid_id),1)]),e("div",ht,[ft,e("a",{type:"button",href:"",onClick:l[1]||(l[1]=_(t=>A.value=!0,["prevent"])),class:"font-semibold text-blue-500 hover:text-blue-600"}," Medical Form ")])])])])]),e("div",vt,[e("div",yt,[e("div",gt,[e("div",xt,[e("div",bt,[kt,wt,e("div",Ct,[a(b,{label:"Filter Appointment",class:"w-56"},{default:s(()=>[a(Te,{onChange:i(Ae),modelValue:i(V),"onUpdate:modelValue":l[2]||(l[2]=t=>Ie(V)?V.value=t:V=t)},{default:s(()=>[St,Pt,Vt]),_:1},8,["onChange","modelValue"])]),_:1})]),e("div",At,[e("table",Mt,[$t,e("tbody",zt,[(n(!0),g(Q,null,me(c.user.appointments,(t,Me)=>{var le,ae,re,ne,ie;return n(),g("tr",{key:Me,class:ue(["hover:bg-gray-100",{"bg-red-100":t.deleted_at}])},[e("td",Dt,d(t.id),1),e("td",Ut,[a(pe,{label:t.appointment_status,color:i(_e)(t.appointment_status)},null,8,["label","color"])]),e("td",Ft,d(t.schedule),1),e("td",It,d(i(Le)(t.message)),1),e("td",Nt,d(i(N)(t.subtotal)),1),e("td",Rt,d((ae=(le=t.payment)==null?void 0:le.payment_type)!=null?ae:"N/A"),1),e("td",Et,[a(pe,{label:t.payment_status,color:i(_e)(t.payment_status)},null,8,["label","color"])]),e("td",Tt,d(t.created_at),1),e("td",Bt,d(t.deleted_at),1),e("td",Lt,[a(u,{text:"",size:"sm",onClick:U=>{P(),r.value=t}},{default:s(()=>[jt]),_:2},1032,["onClick"]),!t.deleted_at&&t.appointment_status!="Finished"&&t.appointment_status!="Approved"&&!o.$page.props.auth.user.is_admin?(n(),h(u,{key:0,onClick:U=>{T.value=!1,G(t)},text:"",size:"sm",color:"success"},{default:s(()=>[Ot]),_:2},1032,["onClick"])):p("",!0),(o.$page.props.auth.user.is_admin||t.payment_status!=="Pending")&&!t.deleted_at&&t.appointment_status=="Finished"?(n(),h(u,{key:1,"is-link":"",href:o.route("certificate.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[qt]),_:2},1032,["href"])):p("",!0),o.$page.props.auth.user.is_admin&&t.prescription==null&&t.appointment_status!="Pending"?(n(),h(u,{key:2,onClick:_(U=>z(t.id,t.prescription),["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Ht]),_:2},1032,["onClick"])):p("",!0),t.payment_status=="Paid"&&t.prescription!=null?(n(),h(u,{key:3,"is-link":"",href:o.route("prescription.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Yt]),_:2},1032,["href"])):p("",!0),!o.$page.props.auth.user.is_admin&&t.payment_status=="Paid"&&t.prescription!=null?(n(),h(u,{key:4,"is-link":"",href:o.route("prescription.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Gt]),_:2},1032,["href"])):p("",!0),((re=t.payment)==null?void 0:re.payment_type)=="Stripe"&&t.payment_status=="Paid"?(n(),h(u,{key:5,color:"success","is-link":"",text:"",size:"sm",href:(ne=t.payment)==null?void 0:ne.receipt_url,target:"_"},{default:s(()=>[Wt]),_:2},1032,["href"])):p("",!0),((ie=t.payment)==null?void 0:ie.payment_type)=="On-Branch"&&t.payment_status=="Paid"?(n(),h(u,{key:6,"is-link":"",href:o.route("invoice.generate",t.id),text:"",size:"sm",color:"success"},{default:s(()=>[Jt]),_:2},1032,["href"])):p("",!0),!t.deleted_at&&t.payment_status!="Paid"&&(t.appointment_status=="Approved"||t.appointment_status=="Finished")?(n(),h(u,{key:7,onClick:_(U=>{te(o.$page.props.auth.user.is_admin),r.value={...t}},["prevent"]),text:"",size:"sm",color:""},{default:s(()=>[Kt]),_:2},1032,["onClick"])):p("",!0),t.deleted_at?p("",!0):(n(),h(u,{key:8,onClick:_(U=>{D(),r.value=t},["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[Qt]),_:2},1032,["onClick"]))])],2)}),128)),c.user.appointments.length==0?(n(),g("tr",Xt,es)):p("",!0)])])])])])])])]),O.value?(n(),h(w,{key:0,onClose:P},{title:s(()=>[ts,ss]),body:s(()=>[os,e("p",ls," Full Name: "+d(r.value.patient.full_name),1),e("p",as," Email: "+d(r.value.patient.email),1),e("p",rs," Gender: "+d(r.value.patient.gender),1),ns,e("p",is," Schedule: "+d(r.value.schedule),1),e("p",ds," Message: "+d(r.value.message),1),e("p",cs," Created: "+d(r.value.created_at),1),us,(n(!0),g(Q,null,me(r.value.services,t=>(n(),g("p",{class:"text-sm",key:t.id},d(t.service.service)+" - "+d(i(N)(t.service.price)),1))),128))]),footer:s(()=>[a(u,{onClick:_(P,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ms]),_:1},8,["onClick"]),r.value.deleted_at==null&&r.value.appointment_status=="Approved"&&r.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(n(),h(u,{key:0,onClick:_(Pe,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ps]),_:1},8,["onClick"])):p("",!0),r.value.deleted_at==null&&r.value.appointment_status=="Pending"&&r.value.appointment_status!="Cancelled"&&o.$page.props.auth.user.is_admin?(n(),h(u,{key:1,onClick:_(Se,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[_s]),_:1},8,["onClick"])):p("",!0)]),_:1})):p("",!0),L.value?(n(),h(w,{key:1,onClose:D},{title:s(()=>[hs]),body:s(()=>[fs]),footer:s(()=>[a(u,{onClick:_(D,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[vs]),_:1},8,["onClick"]),a(u,{onClick:_(we,["prevent"]),text:"",size:"sm",color:"error"},{default:s(()=>[ys]),_:1},8,["onClick"])]),_:1})):p("",!0),q.value?(n(),h(w,{key:2,onClose:z},{title:s(()=>[gs,xs]),body:s(()=>[e("form",bs,[a(b,{label:"Prescription",for:"prescription",class:"mt-3",error:c.errors.prescription},{default:s(()=>[a(I,{modelValue:i(x).prescription,"onUpdate:modelValue":l[3]||(l[3]=t=>i(x).prescription=t),id:"prescription",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{label:"Additional Note",for:"prescription-additional",class:"mt-3",error:c.errors.note},{default:s(()=>[a(I,{modelValue:i(x).note,"onUpdate:modelValue":l[4]||(l[4]=t=>i(x).note=t),id:"prescription-additional",required:"","aria-required":""},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:s(()=>[a(u,{onClick:_(z,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[ks]),_:1},8,["onClick"]),a(u,{onClick:_(ke,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[ws]),_:1},8,["onClick"])]),_:1})):p("",!0),M.value?(n(),h(w,{key:3,onClose:o.toggleStripePaymentModal},{title:s(()=>[Cs,Ss]),body:s(()=>[$.value?(n(),g("div",Ps,As)):p("",!0),Ne(e("div",null,zs,512),[[Re,!$.value]]),a(b,{for:"payment_fname",error:c.errors.schedule,label:"Full Name",class:"mt-1 mb-3"},{default:s(()=>[a(F,{disabled:"",type:"text",id:"payment_fname",modelValue:r.value.patient.full_name,"onUpdate:modelValue":l[5]||(l[5]=t=>r.value.patient.full_name=t),"aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"payment_fname",error:c.errors.schedule,label:"Address",class:"mt-3 mb-3"},{default:s(()=>[a(I,{type:"text",id:"payment_fname",modelValue:r.value.patient.address,"onUpdate:modelValue":l[6]||(l[6]=t=>r.value.patient.address=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[a(u,{onClick:_(o.toggleStripePaymentModal,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ds]),_:1},8,["onClick"]),a(u,{onClick:_(be,["prevent"]),text:"",size:"sm",color:"success",disabled:i(k)},{default:s(()=>[m(d(i(k)?"Processing..":"Proceed"),1)]),_:1},8,["onClick","disabled"])]),_:1},8,["onClose"])):p("",!0),S.value?(n(),h(w,{key:4,onClose:H},{title:s(()=>[Us,Fs]),body:s(()=>[a(b,{for:"payment_fname",error:c.errors.schedule,label:"Amount Tendered",class:"mt-3 mb-3"},{default:s(()=>[a(F,{type:"number",id:"amounttendered",modelValue:i(C).amount_tendered,"onUpdate:modelValue":l[7]||(l[7]=t=>i(C).amount_tendered=t)},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"subtotal",error:c.errors.subtotal,label:"Subtotal",class:"mt-3 mb-3"},{default:s(()=>[a(F,{type:"number",id:"subtotal",modelValue:r.value.subtotal,"onUpdate:modelValue":l[8]||(l[8]=t=>r.value.subtotal=t),disabled:"","aria-disabled":""},null,8,["modelValue"])]),_:1},8,["error"])]),footer:s(()=>[a(u,{onClick:_(H,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Is]),_:1},8,["onClick"]),a(u,{onClick:_(xe,["prevent"]),text:"",size:"sm",color:"success",disabled:i(k)},{default:s(()=>[m(d(i(k)?"Processing..":"Proceed Payment"),1)]),_:1},8,["onClick","disabled"])]),_:1})):p("",!0),B.value?(n(),h(w,{key:5,onClose:G},{title:s(()=>[e("p",Ns,d(T.value?"New Appointment":"Update Appointment"),1),Rs]),body:s(()=>[e("form",Es,[a(b,{for:"appointment",error:c.errors.schedule,label:"Date and Time",class:"mt-3"},{default:s(()=>[a(F,{type:"datetime-local",id:"appointment",modelValue:i(f).schedule,"onUpdate:modelValue":l[9]||(l[9]=t=>i(f).schedule=t)},null,8,["modelValue"])]),_:1},8,["error"]),a(b,{for:"message",error:c.errors.message,label:"Message",class:"mt-2"},{default:s(()=>[a(I,{id:"message",modelValue:i(f).message,"onUpdate:modelValue":l[10]||(l[10]=t=>i(f).message=t)},null,8,["modelValue"])]),_:1},8,["error"]),Ts,a(i(he),{modelValue:i(f).selected_services,"onUpdate:modelValue":l[11]||(l[11]=t=>i(f).selected_services=t),options:o.services,multiple:!0,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"service","track-by":"id"},{option:s(t=>[e("div",Bs,[e("span",Ls,d(t.option.service),1),e("span",js,d(i(N)(t.option.price)),1)])]),_:1},8,["modelValue","options"]),c.errors.selected_services?(n(),g("p",Os,d(c.errors.selected_services),1)):p("",!0),o.$page.props.auth.user.is_admin?(n(),g("div",qs,[Hs,a(i(he),{modelValue:i(f).user_id,"onUpdate:modelValue":l[12]||(l[12]=t=>i(f).user_id=t),onSearchChange:o.searchPatient,options:o.users,multiple:!1,class:"border-2 border-gray-500 rounded-lg",selectLabel:"Select",deselectLabel:"Deselect",label:"full_name","track-by":"id",disabled:!T.value},null,8,["modelValue","onSearchChange","options","disabled"]),c.errors.user_id?(n(),g("p",Ys,d(c.errors.user_id),1)):p("",!0)])):p("",!0),e("p",Gs," Subtotal: "+d(i(N)(i(f).subtotal)),1)])]),footer:s(()=>[a(u,{onClick:_(G,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Ws]),_:1},8,["onClick"]),a(u,{onClick:_(o.initiateMethod,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Js]),_:1},8,["onClick"])]),_:1})):p("",!0),j.value?(n(),h(w,{key:6,onClose:Y},{title:s(()=>[Ks]),body:s(()=>[Qs]),footer:s(()=>[a(u,{onClick:_(Y,["prevent"]),text:"",size:"sm",color:"gray"},{default:s(()=>[Xs]),_:1},8,["onClick"]),a(u,{onClick:_(Ce,["prevent"]),text:"",size:"sm",color:"success"},{default:s(()=>[Zs]),_:1},8,["onClick"])]),_:1})):p("",!0),a(W,{visible:E.value,imgs:Z.value,index:fe.value,onHide:ge},null,8,["visible","imgs","index"]),A.value?(n(),h(Be,{key:7,"view-only":"",data:c.user.medical_record,onEmitClose:ve},null,8,["data"])):p("",!0)]}),_:1})],64)}}};export{po as default};
